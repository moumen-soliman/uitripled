(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,742080,e=>{"use strict";var r=e.i(843476),t=e.i(972472),i=e.i(846932),o=e.i(972520),a=e.i(658041),n=e.i(263488),s=e.i(107233),l=e.i(239616),d=e.i(153305),c=e.i(39312),p=e.i(271645),x=e.i(174080);let u=[{type:"trigger",title:"Webhook",description:"Receive data from external service",icon:d.Webhook,color:"emerald"},{type:"action",title:"Database Query",description:"Fetch user records",icon:a.Database,color:"blue"},{type:"condition",title:"Condition",description:"Check user status",icon:l.Settings,color:"amber"},{type:"action",title:"Send Email",description:"Notify user",icon:n.Mail,color:"purple"},{type:"action",title:"Log Event",description:"Record activity",icon:c.Zap,color:"indigo"}],h=[{id:"node-1",type:"trigger",title:"Webhook",description:"Receive data from external service",icon:d.Webhook,color:"emerald",position:{x:50,y:100}},{id:"node-2",type:"action",title:"Database Query",description:"Fetch user records",icon:a.Database,color:"blue",position:{x:300,y:100}},{id:"node-3",type:"condition",title:"Condition",description:"Check user status",icon:l.Settings,color:"amber",position:{x:550,y:100}}],m=[{from:"node-1",to:"node-2"},{from:"node-2",to:"node-3"}],g={emerald:"border-emerald-400/40 bg-emerald-400/10 text-emerald-400",blue:"border-blue-400/40 bg-blue-400/10 text-blue-400",amber:"border-amber-400/40 bg-amber-400/10 text-amber-400",purple:"border-purple-400/40 bg-purple-400/10 text-purple-400",indigo:"border-indigo-400/40 bg-indigo-400/10 text-indigo-400"};function b({from:e,to:t,nodes:i}){let o=i.find(r=>r.id===e),a=i.find(e=>e.id===t);if(!o||!a)return null;let n=o.position.x+200,s=o.position.y+50,l=a.position.x,d=a.position.y+50,c=`M${n},${s} C${n+(l-n)*.5},${s} ${l-(l-n)*.5},${d} ${l},${d}`;return(0,r.jsx)("path",{d:c,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:2.5,strokeDasharray:"6,4",opacity:.5})}function f(){let[e,a]=(0,p.useState)(h),[n,l]=(0,p.useState)(m),d=(0,p.useRef)(null),c=(0,p.useRef)(null),[f,y]=(0,p.useState)(null),[v,j]=(0,p.useState)(()=>({width:Math.max(...h.map(e=>e.position.x+200))+50,height:Math.max(...h.map(e=>e.position.y+100))+50})),N=()=>{y(null),c.current=null};return(0,r.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl border border-border/40 bg-background/60 p-4 backdrop-blur sm:p-6",children:[(0,r.jsxs)("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"inline-flex items-center rounded-full border border-emerald-400/40 bg-emerald-400/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-emerald-400",children:"Active"}),(0,r.jsx)("span",{className:"text-xs uppercase tracking-[0.25em] text-foreground/50 sm:text-sm",children:"Workflow Builder"})]}),(0,r.jsxs)(t.Button,{onClick:()=>{let r=u[Math.floor(Math.random()*u.length)],t=e[e.length-1],i=t?{x:t.position.x+250,y:t.position.y}:{x:50,y:100},o={id:`node-${Date.now()}`,...r,position:i};(0,x.flushSync)(()=>{a(e=>[...e,o]),t&&l(e=>[...e,{from:t.id,to:o.id}])}),j(e=>({width:Math.max(e.width,i.x+200+50),height:Math.max(e.height,i.y+100+50)}));let n=d.current;n&&n.scrollTo({left:i.x+200-n.clientWidth+100,behavior:"smooth"})},className:"inline-flex h-8 items-center justify-center gap-2 rounded-lg border border-input bg-background px-3 text-xs uppercase tracking-[0.2em] text-foreground/70 transition-colors hover:text-foreground","aria-label":"Add new node",children:[(0,r.jsx)(s.Plus,{className:"h-3.5 w-3.5","aria-hidden":"true"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Add Node"})]})]}),(0,r.jsx)("div",{ref:d,className:"relative h-[400px] w-full overflow-auto rounded-xl border border-border/30 bg-background/40 sm:h-[500px] md:h-[600px]",style:{minHeight:"400px"},role:"region","aria-label":"Workflow canvas",tabIndex:0,children:(0,r.jsxs)("div",{className:"relative",style:{minWidth:v.width,minHeight:v.height},children:[(0,r.jsx)("svg",{className:"pointer-events-none absolute inset-0",style:{width:v.width,height:v.height},"aria-hidden":"true",children:n.map(t=>(0,r.jsx)(b,{from:t.from,to:t.to,nodes:e},`${t.from}-${t.to}`))}),e.map(t=>{let n=t.icon,s=f===t.id;return(0,r.jsx)(i.motion.div,{drag:!0,dragMomentum:!1,dragConstraints:{left:0,top:0,right:1e5,bottom:1e5},onDragStart:()=>{var r;let i;return y(r=t.id),void((i=e.find(e=>e.id===r))&&(c.current={x:i.position.x,y:i.position.y}))},onDrag:(e,r)=>((e,{offset:r})=>{if(f!==e||!c.current)return;let t=c.current.x+r.x,i=c.current.y+r.y,o=Math.max(0,t),n=Math.max(0,i);(0,x.flushSync)(()=>{a(r=>r.map(r=>r.id===e?{...r,position:{x:o,y:n}}:r))}),j(e=>({width:Math.max(e.width,o+200+50),height:Math.max(e.height,n+100+50)}))})(t.id,r),onDragEnd:N,style:{x:t.position.x,y:t.position.y,width:200,transformOrigin:"0 0"},className:"absolute cursor-grab",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},whileHover:{scale:1.02},whileDrag:{scale:1.05,zIndex:50,cursor:"grabbing"},"aria-grabbed":s,children:(0,r.jsxs)("div",{className:`group/node relative w-full overflow-hidden rounded-xl border ${g[t.color]} bg-background/70 p-3 backdrop-blur transition-all hover:shadow-lg ${s?"shadow-xl ring-2 ring-primary/50":""}`,role:"article","aria-label":`${t.type} node: ${t.title}`,children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-foreground/[0.04] via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover/node:opacity-100"}),(0,r.jsxs)("div",{className:"relative space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg border ${g[t.color]} bg-background/80 backdrop-blur`,"aria-hidden":"true",children:(0,r.jsx)(n,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("span",{className:"mb-0.5 inline-flex items-center rounded-full border border-border/40 bg-background/80 px-1.5 py-0 text-[9px] uppercase tracking-[0.15em] text-foreground/60",children:t.type}),(0,r.jsx)("h3",{className:"truncate text-xs font-semibold tracking-tight text-foreground",children:t.title})]})]}),(0,r.jsx)("p",{className:"line-clamp-2 text-[10px] leading-relaxed text-foreground/70",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-foreground/50",children:[(0,r.jsx)(o.ArrowRight,{className:"h-2.5 w-2.5","aria-hidden":"true"}),(0,r.jsx)("span",{className:"uppercase tracking-[0.1em]",children:"Connected"})]})]})]})},t.id)})]})}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 rounded-lg border border-border/30 bg-background/40 px-4 py-2.5 backdrop-blur-sm",role:"status","aria-live":"polite",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-foreground/60",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500","aria-hidden":"true"}),(0,r.jsxs)("span",{className:"uppercase tracking-[0.15em]",children:[e.length," ",1===e.length?"Node":"Nodes"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-primary","aria-hidden":"true"}),(0,r.jsxs)("span",{className:"uppercase tracking-[0.15em]",children:[n.length," ",1===n.length?"Connection":"Connections"]})]})]}),(0,r.jsx)("p",{className:"text-[10px] uppercase tracking-[0.2em] text-foreground/40",children:"Drag nodes to reposition"})]})]})}e.s(["N8nWorkflowBlockBaseui",()=>f])}]);