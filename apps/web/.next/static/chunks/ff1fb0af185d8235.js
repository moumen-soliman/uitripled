(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,721584,e=>{"use strict";var t=e.i(843476),n=e.i(477183),a=e.i(76590),r=e.i(807311),s=e.i(88653),o=e.i(846932),i=e.i(37727),l=e.i(271645);function d({component:e,onDelete:n,isTextEditing:d,onRegisterTextNode:c,onUpdateTextNode:m}){let[u,p]=(0,l.useState)(!1),{attributes:x,listeners:g,setNodeRef:f,transform:h,transition:b,isDragging:j,isOver:y}=(0,a.useSortable)({id:e.id,disabled:d}),v=(0,l.useRef)(null),N=(0,l.useCallback)(t=>{let n=t.target;if(!n)return;let a=n.dataset.builderTextId;if(!a)return;let r=n.textContent??"";m(e.id,a,r)},[e.id,m]);(0,l.useEffect)(()=>{let t=v.current;if(!t)return;let n="h1,h2,h3,h4,h5,h6,p,span,button,a,li,blockquote,figcaption,label,strong,em,small,div",a=Array.from(t.querySelectorAll(n)).filter(e=>!(!e.textContent?.trim()||Array.from(e.querySelectorAll(n)).some(t=>t!==e&&!!t.textContent?.trim())));return a.forEach((t,n)=>{let a=`${e.id}-${n}`;t.dataset.builderTextId=a,c(e.id,a,t.textContent??"");let r=e.textContent?.[a]?.value;void 0!==r&&r!==t.textContent&&(t.textContent=r),t.removeEventListener("input",N),t.removeEventListener("blur",N),d?(t.setAttribute("contenteditable","true"),t.setAttribute("spellcheck","false"),t.style.outline="1px dashed var(--primary)",t.style.outlineOffset="2px",t.style.cursor="text",t.addEventListener("input",N),t.addEventListener("blur",N)):(t.removeAttribute("contenteditable"),t.removeAttribute("spellcheck"),t.style.outline="",t.style.outlineOffset="",t.style.cursor="")}),()=>{a.forEach(e=>{e.removeEventListener("input",N),e.removeEventListener("blur",N)})}},[e.id,e.textContent,N,d,c]);let w={transform:r.CSS.Transform.toString(h),transition:b,opacity:j?.5:1},C=e.animation.component;return(0,t.jsxs)(o.motion.div,{ref:f,style:w,...x,...!d?g:{},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:`group relative mb-4 rounded-lg border-2 border-dashed bg-card/50 p-4 transition-all ${y&&!j?"border-primary border-solid bg-primary/10":j?"border-border opacity-50":"border-border hover:border-primary"} ${d?"cursor-text":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,t.jsx)(s.AnimatePresence,{children:u&&(0,t.jsx)(o.motion.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:t=>{t.stopPropagation(),n(e.id)},className:"absolute -right-2 -top-2 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-destructive text-destructive-foreground shadow-lg transition-colors hover:bg-destructive/90",children:(0,t.jsx)(i.X,{className:"h-4 w-4"})})}),(0,t.jsx)("div",{className:"mb-2 flex items-center justify-between",children:(0,t.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:e.animation.name})}),(0,t.jsx)("div",{ref:v,className:"relative w-full overflow-hidden rounded-lg bg-background",children:(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsx)("div",{className:"min-w-full",children:(0,t.jsx)(C,{})})})})]})}function c({components:e,onDelete:r,isTextEditing:o,onRegisterTextNode:i,onUpdateTextNode:l}){let{setNodeRef:c,isOver:m}=(0,n.useDroppable)({id:"builder-canvas"}),u=e.map(e=>e.id);return(0,t.jsx)("div",{ref:c,className:`min-h-full rounded-lg border-2 border-dashed p-4 md:p-6 transition-colors ${m?"border-primary bg-primary/5":"border-border bg-muted/30"}`,children:0===e.length?(0,t.jsxs)("div",{className:"flex h-full min-h-[400px] flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"mb-4 text-muted-foreground",children:(0,t.jsx)("svg",{className:"mx-auto h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,t.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Empty Canvas"}),(0,t.jsx)("p",{className:"max-w-md text-sm text-muted-foreground",children:"Drag components from the sidebar to start building your page. Components will be automatically responsive."})]}):(0,t.jsx)(a.SortableContext,{items:u,strategy:a.verticalListSortingStrategy,children:(0,t.jsx)(s.AnimatePresence,{mode:"popLayout",children:e.map(e=>(0,t.jsx)(d,{component:e,onDelete:r,isTextEditing:o,onRegisterTextNode:i,onUpdateTextNode:l},e.id))})})})}var m=e.i(235893),u=e.i(439779),p=e.i(21079),x=e.i(433992),g=e.i(643531),f=e.i(664659),h=e.i(399219),h=h,b=e.i(174886),j=e.i(440160),y=e.i(286536),v=e.i(531278),N=e.i(356909),w=e.i(618566),C=e.i(855264),k=e.i(891482);let S=(e,t)=>t?Object.entries(t).map(([e,t])=>{let n=e.split("-"),a=Number(n[n.length-1]);return{content:t,index:Number.isNaN(a)?0:a}}).sort((e,t)=>e.index-t.index).reduce((e,{content:{original:t,value:n}})=>{if(!t||void 0===n||n===t)return e;var a=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!t)return e;let r=e.indexOf(t);return -1===r?e:`${e.slice(0,r)}${a}${e.slice(r+t.length)}`},e):e,$=e=>e.replace(/\\/g,"\\").replace(/`/g,"`").replace(/\$/g,"$"),D=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,48),L=async(e,t,n="shadcnui")=>{let a=e.components,r=[],s=[],o=[];for(let e of a){let t=e.animation.code;if(!t&&e.animation.id)try{let a=`${e.animation.id}-${n}`,r=await fetch(`/api/registry/${a}`);if(r.ok||(r=await fetch(`/api/registry/${e.animation.id}`)),r.ok){let e=await r.json();t=e.files?.[0]?.content||e.code}else{console.warn(`Failed to load code for component ${e.animation.id}: ${r.status}`);continue}}catch(t){console.error(`Error loading code for component ${e.animation.id}:`,t);continue}if(!t){console.warn(`Component ${e.animation.id} has no code available`);continue}let a=S(t,e.textContent),i=a.match(/export\s+(?:function|const)\s+(\w+)/),l=i?i[1]:e.animation.name.replace(/\s+/g,"");r.push(`        {/* ${e.animation.name} */}
        <section>
          <${l} />
        </section>`);let d=a.split("\n"),c=[],m=!0,u=!1,p=[];for(let e of d){let t=e.trim();if(!/^(['"])use client\1;?\s*(\/\/.*)?$/.test(t)){if(m){if(u){p.push(e),t.includes("}")&&t.includes("from")&&(s.push(p.join("\n")),p=[],u=!1);continue}if(t.startsWith("import ")){t.match(/^import\s*{/)&&!t.includes("from")?(u=!0,p.push(e)):s.push(e);continue}if(""===t||t.startsWith("//"))continue;m=!1}if(!m){if(/^(['"])use client\1;?\s*(\/\/.*)?$/.test(t))continue;c.push(e)}}}let x=c.join("\n").replace(/^export\s+(?:function|const)\s+/m,"function ").trim();x.length>0&&o.push(`// ${e.animation.name}
${x}`)}let i=r.length>0?r.join("\n\n"):`        <div className="rounded-lg border border-dashed border-border/60 p-12 text-center text-muted-foreground">
          Add blocks from the builder sidebar to populate this page.
        </div>`,l=s.length>0?`'use client'

${s.join("\n")}`:"'use client'",d=`

${o.join(o.length>0?"\n\n":"")}

export default function Page() {
  return (
    <div className="container mx-auto px-4 py-12 md:px-6 lg:px-8">
      <div className="mx-auto max-w-6xl space-y-12">
${i}
      </div>
    </div>
  )
}
`;return function(e){let t=e.split("\n"),n=new Map,a=[],r=!1,s=/^import\s+/,o=/^import\s*{\s*([^}]+)\s*}\s*from\s*['"]([^'"]+)['"]/,i=/^import\s+(\w+)\s+from\s*['"]([^'"]+)['"]/,l=/^import\s+(\w+)\s*,\s*{\s*([^}]+)\s*}\s*from\s*['"]([^'"]+)['"]/,d=/^import\s+\*\s+as\s+(\w+)\s+from\s*['"]([^'"]+)['"]/,c=/^import\s*['"]([^'"]+)['"]/,m=null;for(let e of t){let t=e.trim();if(/^(['"])use client\1;?\s*(\/\/.*)?$/.test(t)){r=!0;continue}if(null!==m){if(m+=" "+t,t.includes("}")&&t.includes("from")){let e=m.match(/import\s*{\s*([^}]+)\s*}\s*from\s*['"]([^'"]+)['"]/);if(e){let[,t,a]=e;n.has(a)||n.set(a,{default:null,named:new Set,namespace:null,sideEffect:!1}),t.split(",").forEach(e=>{let t=e.trim();t&&n.get(a).named.add(t)})}m=null;continue}if(t.includes("}"));continue}if(!t||t.startsWith("//")){s.test(t)||a.push(e);continue}if(s.test(t)){let e;if(t.match(/^import\s*{/)&&!t.includes("from")){m=t;continue}if(e=t.match(l)){let[,t,a,r]=e;n.has(r)||n.set(r,{default:null,named:new Set,namespace:null,sideEffect:!1});let s=n.get(r);s.default=t,a.split(",").forEach(e=>{let t=e.trim();t&&s.named.add(t)})}else if(e=t.match(o)){let[,t,a]=e;n.has(a)||n.set(a,{default:null,named:new Set,namespace:null,sideEffect:!1}),t.split(",").forEach(e=>{let t=e.trim();t&&n.get(a).named.add(t)})}else if(e=t.match(i)){let[,t,a]=e;n.has(a)||n.set(a,{default:null,named:new Set,namespace:null,sideEffect:!1}),n.get(a).default||(n.get(a).default=t)}else if(e=t.match(d)){let[,t,a]=e;n.has(a)||n.set(a,{default:null,named:new Set,namespace:null,sideEffect:!1}),n.get(a).namespace=t}else if(e=t.match(c)){let[,t]=e;n.has(t)||n.set(t,{default:null,named:new Set,namespace:null,sideEffect:!0})}}else a.push(e)}let u="";r&&(u+="'use client'\n\n");let p=Array.from(n.entries()).sort(([e],[t])=>{let n=e.startsWith(".")||e.startsWith("@/"),a=t.startsWith(".")||t.startsWith("@/");return n&&!a?1:!n&&a?-1:e.localeCompare(t)});return p.forEach(([e,t])=>{if(!t.sideEffect||t.default||0!==t.named.size||t.namespace)if(t.namespace)u+=`import * as ${t.namespace} from '${e}'
`;else{let n=[];if(t.default&&n.push(t.default),t.named.size>0){let e=Array.from(t.named).sort().join(", ");n.push(`{ ${e} }`)}n.length>0&&(u+=`import ${n.join(", ")} from '${e}'
`)}else u+=`import '${e}'
`}),p.length>0&&(u+="\n"),u+=a.join("\n")}(l)+d};function I({pages:e,activePageId:n}){let[a,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!0),[d,c]=(0,l.useState)(!1),[S,I]=(0,l.useState)(""),[P,E]=(0,l.useState)(!1),[T,A]=(0,l.useState)(null),[R,U]=(0,l.useState)(!1),[O,M]=(0,l.useState)(!1),[z,B]=(0,l.useState)([]),[F,H]=(0,l.useState)(!1),J=(0,w.useRouter)(),{selectedLibrary:W}=(0,k.useUILibrary)(),q=(0,l.useMemo)(()=>e.reduce((e,t)=>e+t.components.length,0),[e]);(0,l.useEffect)(()=>{let t=!1;return async function(){H(!0);try{let n=await Promise.all(e.map(async t=>({id:t.id,name:t.name,slug:t.slug,code:await L(t,e,W),componentCount:t.components.length})));t||B(n)}catch(e){console.error("Failed to load page codes:",e),t||B([])}finally{t||H(!1)}}(),()=>{t=!0}},[e,W]);let G=(0,l.useMemo)(()=>{let e={};return z.forEach(t=>{e[t.id]=t.code}),e},[z]),K=(0,l.useMemo)(()=>{if(0===z.length)return null;if(n){let e=z.find(e=>e.id===n);if(e)return e}return z[0]},[z,n]),Y=(0,l.useMemo)(()=>JSON.stringify(e.map(e=>({components:e.components.map(e=>({animationId:e.animationId,textContent:e.textContent??{}}))}))),[e]),V=async()=>{K&&(await navigator.clipboard.writeText(K.code),r(!0),setTimeout(()=>r(!1),2e3))},X=(0,l.useCallback)(async()=>{let t=S.trim();if(!t||0===q)return;let n=JSON.parse(localStorage.getItem("builderProjects")||"{}"),a=n[t],r=t;if(!a){let e="abcdefghijklmnopqrstuvwxyz0123456789",n=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,40),a="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID().replace(/-/g,"").slice(0,8):Array.from({length:8},()=>e.charAt(Math.floor(Math.random()*e.length))).join("");r=n?`${n}-${a}`:`project-${a}`}let s=n[r]||a||null;a&&t!==r&&delete n[t];let o=await Promise.all(e.map(async t=>({id:t.id,name:t.name,slug:t.slug,components:t.components.map(e=>({id:e.id,animationId:e.animationId,textContent:e.textContent??{}})),code:G[t.id]||await L(t,e,W)}))),i={id:"page-fallback",name:"Home",slug:"home",components:[]},l=await L(i,[i],W),d=s?.uuid??(()=>{if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues){let e=new Uint8Array(4);return crypto.getRandomValues(e),Array.from(e,e=>e.toString(36).padStart(2,"0")).join("").slice(0,5)}return(Date.now().toString(36)+Math.random().toString(36).slice(2)).slice(-5)})(),m=s?.deploymentSlug??d,u={name:r,uuid:d,deploymentSlug:m,pages:o,entryPageId:o[0]?.id??null,components:o[0]?.components??[],code:o[0]?.code??l,savedAt:new Date().toISOString(),deploymentId:s?.deploymentId??m,deploymentUrl:s?.deploymentUrl};n[r]=u,localStorage.setItem("builderProjects",JSON.stringify(n)),E(!0),setTimeout(()=>E(!1),2e3),c(!1),A(null),"preview"===T?J.push(`/preview/${encodeURIComponent(r)}`):"deploy"===T&&J.push(`/deploy?project=${encodeURIComponent(r)}`),I("")},[G,e,T,S,J,q]),_=(0,l.useCallback)(()=>Object.values(JSON.parse(localStorage.getItem("builderProjects")||"{}")).find(e=>JSON.stringify((Array.isArray(e.pages)&&e.pages.length>0?e.pages:[{components:e.components??[]}]).map(e=>({components:(e.components??[]).map(e=>({animationId:e.animationId,textContent:e.textContent??{}}))})))===Y),[Y]),Q=(0,l.useCallback)(async()=>{if(0!==q&&!R){U(!0),M(!1);try{let t,n,a,r,s,o=_(),i=e[0]?.name?.trim()??"builder-project",l=o?.name?.trim().length?o.name:i.length>0?i:"builder-project",d=z.map((e,t)=>{let n=e.slug&&e.slug.length>0?e.slug:D(e.name)||`page-${t+1}`;return{path:0===t?"app/page.tsx":`app/${n}/page.tsx`,code:e.code}}),c=(t=$(e[0]?.name??l),n=e.map((e,t)=>({href:0===t?"/":`/${e.slug}`,label:$(e.name)})),a=new Date().getFullYear(),r=n.length>0?n.map(e=>`            <Link
              href="${e.href}"
              className="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground"
            >
              ${e.label}
            </Link>`).join("\n"):`            <Link
              href="/"
              className="text-sm font-medium text-muted-foreground transition-colors hover:text-foreground"
            >
              ${t}
            </Link>`,s=n.length>0?n.map(e=>`            <Link
              href="${e.href}"
              className="text-xs text-muted-foreground transition-colors hover:text-foreground"
            >
              ${e.label}
            </Link>`).join("\n"):`            <Link
              href="/"
              className="text-xs text-muted-foreground transition-colors hover:text-foreground"
            >
              ${t}
            </Link>`,`import './globals.css'
import type { Metadata } from 'next'
import type { ReactNode } from 'react'
import Link from 'next/link'

export const metadata: Metadata = {
  title: '${t} - Generated Experience',
  description: 'Generated with the UI Motion Builder',
}

export default function RootLayout({ children }: { children: ReactNode }) {
  return (
    <html lang="en" className="scroll-smooth">
      <body className="flex min-h-screen flex-col bg-background text-foreground antialiased">
        <header className="border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
          <div className="container mx-auto flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8">
            <Link href="/" className="text-base font-semibold tracking-tight">
              ${t}
            </Link>
            <nav className="flex items-center gap-6">
${r}
            </nav>
          </div>
        </header>
        <main className="flex-1">
          {children}
        </main>
        <footer className="border-t border-border bg-muted/40">
          <div className="container mx-auto flex flex-col gap-2 px-4 py-6 text-xs text-muted-foreground md:flex-row md:items-center md:justify-between md:px-6 lg:px-8">
            <span>&copy; ${a} ${t}. All rights reserved.</span>
            <nav className="flex flex-wrap items-center gap-4">
${s}
            </nav>
          </div>
        </footer>
      </body>
    </html>
  )
}
`),m=await fetch("/api/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:l,pages:d,layout:c})});if(!m.ok){let e=`Export failed with status ${m.status}`;try{let t=await m.json();"string"==typeof t?.error&&(e=t.error)}catch{}throw Error(e)}let u=await m.blob(),p=URL.createObjectURL(u),x=D(l)||"builder-project",g=document.createElement("a");g.href=p,g.download=`${x}.zip`,document.body.appendChild(g),g.click(),document.body.removeChild(g),setTimeout(()=>{URL.revokeObjectURL(p)},1e3),M(!0),setTimeout(()=>M(!1),2e3)}catch(e){console.error("Failed to export project zip",e),window.alert("Failed to export project. Please try again.")}finally{U(!1)}}},[R,_,z,e,q]),Z="preview"===T?"Save & Preview":"deploy"===T?"Save & Deploy":"Save Project",ee=S?encodeURIComponent(S):"project-name",et=(e=null)=>{let t=_();if(t)I(t.name);else if(!S.trim()){let e=new Date().toISOString().split("T")[0];I(`project-${e}`)}A(e),c(!0)},[en,ea]=(0,l.useState)("");return(0,l.useEffect)(()=>{!async function(){if(K)ea(K.code);else{let e={id:"page-preview-fallback",name:"Home",slug:"home",components:[]};ea(await L(e,[e],W))}}()},[K,W]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.motion.div,{initial:!1,animate:{height:s?"auto":"60px"},className:"border-t border-border bg-card",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 space-y-5 md:flex items-center justify-between border-b border-border px-6 py-3",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Generated Code"}),(0,t.jsxs)("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs text-primary",children:[e.length," ",1===e.length?"page":"pages"]}),(0,t.jsxs)("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs text-primary",children:[q," ",1===q?"component":"components"]}),K&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Showing: ",K.name]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>et(),disabled:0===q,className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-1.5 text-sm transition-colors hover:bg-accent disabled:cursor-not-allowed disabled:opacity-50",children:P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Check,{className:"h-4 w-4"}),"Saved!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Save,{className:"h-4 w-4"}),"Save"]})}),(0,t.jsxs)("button",{onClick:()=>{if(0===q)return;let e=_();e?J.push(`/preview/${encodeURIComponent(e.name)}`):et("preview")},disabled:0===q,className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-1.5 text-sm transition-colors hover:bg-accent disabled:cursor-not-allowed disabled:opacity-50",children:[(0,t.jsx)(y.Eye,{className:"h-4 w-4"}),"Preview"]}),(0,t.jsx)("button",{onClick:Q,disabled:0===q||R,className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-1.5 text-sm transition-colors hover:bg-accent disabled:cursor-not-allowed disabled:opacity-50",children:R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Loader2,{className:"h-4 w-4 animate-spin"}),"Exporting..."]}):O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Check,{className:"h-4 w-4"}),"Exported!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Download,{className:"h-4 w-4"}),"Export"]})}),(0,t.jsx)("button",{onClick:V,disabled:!K,className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-1.5 text-sm transition-colors hover:bg-accent disabled:cursor-not-allowed disabled:opacity-50",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Check,{className:"h-4 w-4"}),"Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Copy,{className:"h-4 w-4"}),"Copy"]})}),(0,t.jsx)("button",{onClick:()=>i(!s),className:"flex items-center gap-2 rounded-lg border border-border bg-background px-3 py-1.5 text-sm transition-colors hover:bg-accent",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.ChevronDown,{className:"h-4 w-4"}),"Collapse"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.default,{className:"h-4 w-4"}),"Expand"]})})]})]}),s&&(0,t.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"max-h-[500px] overflow-auto",children:F||!en?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(v.Loader2,{className:"h-6 w-6 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Generating code..."})]})}):(0,t.jsx)(C.CodeBlock,{code:en,language:"tsx"})})]}),(0,t.jsx)(u.Dialog,{open:d,onOpenChange:e=>{c(e),e||A(null)},children:(0,t.jsxs)(u.DialogContent,{children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"Save Project"}),(0,t.jsx)(u.DialogDescription,{children:"Enter a name for your project. A unique 5-character ID will be added automatically to prevent conflicts."})]}),(0,t.jsxs)("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900 dark:border-amber-900/50 dark:bg-amber-950/30 dark:text-amber-200",children:[(0,t.jsx)("p",{className:"font-medium",children:"⚠️ Projects are saved in browser localStorage"}),(0,t.jsx)("p",{className:"mt-1 text-xs opacity-90",children:"Your projects will be lost if you clear browser data, use incognito mode, or switch browsers. Export your code before clearing cookies."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(x.Label,{htmlFor:"project-name",children:"Project Name"}),(0,t.jsx)(p.Input,{id:"project-name",placeholder:"my-awesome-project",value:S,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),X())}}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Preview URL: /preview/",S||"project-name",(0,t.jsx)("br",{}),"Deploy URL: /deploy?project=",ee]})]})}),(0,t.jsxs)(u.DialogFooter,{children:[(0,t.jsx)(m.Button,{variant:"outline",onClick:()=>{c(!1),A(null)},children:"Cancel"}),(0,t.jsx)(m.Button,{onClick:X,disabled:!S.trim()||0===q,children:Z})]})]})})]})}var P=e.i(555436);e.i(823324);var E=e.i(644961),T=e.i(152236),A=e.i(521171);function R({component:e}){let{attributes:a,listeners:r,setNodeRef:s,transform:i,isDragging:l}=(0,n.useDraggable)({id:e.id}),d=i?{transform:`translate3d(${i.x}px, ${i.y}px, 0)`}:void 0;return(0,t.jsxs)(o.motion.div,{ref:s,style:d,...r,...a,whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,T.cn)("cursor-grab rounded-lg border border-border bg-card p-3 transition-colors hover:border-primary hover:bg-accent/5 active:cursor-grabbing",l&&"opacity-50"),children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,t.jsx)("div",{className:"mt-1 text-xs text-muted-foreground",children:e.description}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs text-primary",children:e},e))})]})}function U({component:e,onSelect:n}){return(0,t.jsxs)(o.motion.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n?.(e.id),className:"w-full rounded-lg border border-border bg-card p-3 text-left transition-colors hover:border-primary hover:bg-accent/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/30",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,t.jsx)("div",{className:"mt-1 text-xs text-muted-foreground",children:e.description}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs text-primary",children:e},e))})]})}function O({className:e,onSelectComponent:n,allowDrag:a=!0}){let[r,s]=(0,l.useState)(""),o=(0,l.useMemo)(()=>{let e=r.trim().toLowerCase();return E.componentsRegistry.filter(e=>!1!==e.display&&("blocks"===e.category||"resumes"===e.category)).filter(t=>!e||t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.tags.some(t=>t.toLowerCase().includes(e)))},[r]);return(0,t.jsxs)("div",{className:(0,T.cn)("flex h-full flex-col bg-card",e),children:[(0,t.jsxs)("div",{className:"border-b border-border p-4",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold",children:"Component Library"}),(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(P.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Search components...",value:r,onChange:e=>s(e.target.value),className:"w-full rounded-lg border border-border bg-background pl-10 pr-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),(0,t.jsx)("div",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Available Components"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("span",{className:"rounded-full bg-primary px-3 py-1 text-xs font-medium text-primary-foreground",children:A.categoryNames.blocks}),(0,t.jsx)("span",{className:"rounded-full bg-muted px-3 py-1 text-xs font-medium text-muted-foreground",children:"Only blocks/resumes allowed"})]}),!a&&(0,t.jsx)("p",{className:"mt-3 text-xs text-muted-foreground",children:"Tap a block to add it to your page."})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===o.length?(0,t.jsx)("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"No components found"}):(0,t.jsx)("div",{className:"space-y-2",children:o.map(e=>a?(0,t.jsx)(R,{component:e},e.id):(0,t.jsx)(U,{component:e,onSelect:n},e.id))})})]})}var M=e.i(75505),z=e.i(492161);function B({mobileSidebarOpen:e,onMobileSidebarChange:n,onLoadProjects:a,onToggleTextEditing:r,isTextEditing:s,activeComponentCount:o,onMobileComponentSelect:l}){return(0,t.jsx)("div",{className:"border-b border-border bg-card px-4 py-3 sm:px-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Page Builder"}),(0,t.jsxs)(u.Dialog,{open:e,onOpenChange:n,children:[(0,t.jsx)(u.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",className:"gap-2 md:hidden",children:[(0,t.jsx)(z.Menu,{className:"h-4 w-4"}),"Library"]})}),(0,t.jsxs)(u.DialogContent,{className:"md:hidden inset-x-0 bottom-0 left-0 right-0 top-auto flex h-[calc(100vh-5rem)] max-w-none translate-x-0 translate-y-0 flex-col rounded-t-3xl border border-border bg-background p-0 pb-4 shadow-xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Component Library"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:"Blocks"})]}),(0,t.jsx)(u.DialogClose,{asChild:!0,children:(0,t.jsxs)(m.Button,{variant:"ghost",size:"icon",children:[(0,t.jsx)(i.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,t.jsx)(O,{allowDrag:!1,className:"flex h-full flex-col bg-background",onSelectComponent:l})})]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",onClick:a,children:[(0,t.jsx)(M.FolderOpen,{className:"mr-2 h-4 w-4"}),"Load Project"]})})]})})}function F({activeComponentInfo:e}){return(0,t.jsx)(n.DragOverlay,{children:e&&(0,t.jsxs)("div",{className:"rounded-lg border-2 border-primary bg-card p-4 shadow-lg opacity-90",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e.name}),"canvas"===e.type&&(0,t.jsx)("div",{className:"mt-1 text-xs text-muted-foreground",children:"Reordering..."})]})})}var H=e.i(76075),J=e.i(952571);function W({show:e,onHide:n}){return(0,t.jsx)(s.AnimatePresence,{children:e&&(0,t.jsx)(o.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-b border-border bg-muted/30",children:(0,t.jsx)(H.Card,{className:"m-4 border-2 border-primary/20 bg-primary/5 p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(J.Info,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-primary"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2 text-sm",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"Important Notes"}),(0,t.jsxs)("ul",{className:"space-y-1.5 text-muted-foreground",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),(0,t.jsx)("span",{children:"The builder is just for previewing, not a final production setup"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),(0,t.jsx)("span",{children:"The builder is currently in beta and may have some bugs and limitations"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),(0,t.jsx)("span",{children:"The builder doesn't support auto-grid yet"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),(0,t.jsx)("span",{children:"Only blocks are allowed for use"})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(m.Button,{variant:"default",className:"flex justify-start",size:"sm",onClick:n,children:"Hide"})})]})]})})})})}let q=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").slice(0,48);function G(e,t){let n=q(e)||"page";if(!t.includes(n))return n;let a=2,r=`${n}-${a}`;for(;t.includes(r);)a+=1,r=`${n}-${a}`;return r}function K(e,t){let n="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():`page-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,a=G(e,t);return{id:n,name:e,slug:a,components:[]}}function Y(e){return e.pages&&e.pages.length>0?e.pages:[{id:e.entryPageId||`page-${q(e.name||"landing")||"landing"}`,name:"Landing",slug:"landing",components:e.components??[],code:e.code}]}var V=e.i(727612);function X({open:e,onOpenChange:n,savedProjects:a,onLoadProject:r,onDeleteProject:s,onPreviewProject:o}){return(0,t.jsx)(u.Dialog,{open:e,onOpenChange:n,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{children:"Load Project"}),(0,t.jsx)(u.DialogDescription,{children:"Select a saved project to load into the builder"})]}),(0,t.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:0===a.length?(0,t.jsx)("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"No saved projects found. Create and save a project first."}):(0,t.jsx)("div",{className:"space-y-2",children:a.map(e=>{let n=Y(e),a=n.reduce((e,t)=>e+(t.components?.length??0),0),i=new Date(e.savedAt);return(0,t.jsx)(H.Card,{className:"p-4 transition-colors hover:bg-accent/50",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:[n.length," ",1===n.length?"page":"pages"," • ",a," ",1===a?"component":"components"," • ","Saved ",i.toLocaleDateString()," at"," ",i.toLocaleTimeString()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>o(e.name),children:(0,t.jsx)(y.Eye,{className:"h-4 w-4"})}),(0,t.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete project "${e.name}"?`)&&s(e.name)},children:(0,t.jsx)(V.Trash2,{className:"h-4 w-4 text-destructive"})}),(0,t.jsx)(m.Button,{variant:"default",size:"sm",onClick:()=>r(e),children:"Load"})]})]})},e.name)})})}),(0,t.jsx)(u.DialogFooter,{children:(0,t.jsx)(m.Button,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})})]})})}let _=(0,e.i(475254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var Q=e.i(107233);function Z({pages:e,activePage:n,onSelectPage:a,onAddPage:r,onRenamePage:s,onDeletePage:o,activeRoute:i}){return(0,t.jsxs)("div",{className:"px-4 pb-4 md:px-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[e.map((r,i)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-lg border border-border bg-card/60 p-1",children:[(0,t.jsxs)(m.Button,{size:"sm",variant:r.id===n?.id?"default":"ghost",className:"gap-2",onClick:()=>a(r.id),children:[r.name,0===i&&(0,t.jsx)("span",{className:"rounded-full bg-primary/15 px-2 py-0.5 text-[10px] font-semibold uppercase text-primary",children:"Home"})]}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:()=>s(r.id),"aria-label":`Rename ${r.name}`,children:(0,t.jsx)(_,{className:"h-4 w-4"})}),e.length>1&&(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>o(r.id),"aria-label":`Delete ${r.name}`,children:(0,t.jsx)(V.Trash2,{className:"h-4 w-4"})})]},r.id)),(0,t.jsxs)(m.Button,{variant:"outline",size:"sm",className:"gap-1",onClick:r,children:[(0,t.jsx)(Q.Plus,{className:"h-4 w-4"}),"Add page"]})]}),n&&(0,t.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:["Route:"," ",(0,t.jsx)("span",{className:"font-mono text-foreground",children:i})]})]})}function ee({show:e}){return(0,t.jsx)(s.AnimatePresence,{children:e&&(0,t.jsx)(o.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mx-4 mb-4 rounded-md border border-primary/30 bg-primary/10 p-3 text-sm text-primary",children:"Text editing mode enabled. Click highlighted text to edit. Dragging is disabled while this mode is active."})})}function et(){let[e,r]=(0,l.useState)(()=>[K("Landing",[])]),[s,o]=(0,l.useState)(""),[i,d]=(0,l.useState)(null),[m,u]=(0,l.useState)(!0),[p,x]=(0,l.useState)(!1),[g,f]=(0,l.useState)(!1),[h,b]=(0,l.useState)([]),[j,y]=(0,l.useState)(!1),v=(0,n.useSensors)((0,n.useSensor)(n.PointerSensor,{activationConstraint:{distance:8}}));(0,l.useEffect)(()=>{if(0===e.length){s&&o("");return}e.some(e=>e.id===s)||o(e[0].id)},[e,s]);let N=(0,l.useMemo)(()=>s?e.find(e=>e.id===s)??e[0]??null:e[0]??null,[e,s]),w=N?.components.length??0,C=0===(N?e.findIndex(e=>e.id===N.id):-1)?"/":N?`/${N.slug}`:"/";(0,l.useEffect)(()=>{0===w&&j&&y(!1)},[w,j]);let k=(0,l.useCallback)((e,t,n)=>{s&&r(a=>a.map(a=>a.id!==s?a:{...a,components:a.components.map(a=>{if(a.id!==e)return a;let r=a.textContent?.[t];return r?r.value===r.original&&r.original!==n?{...a,textContent:{...a.textContent??{},[t]:{original:n,value:n}}}:a:{...a,textContent:{...a.textContent??{},[t]:{original:n,value:n}}}})}))},[s]),S=(0,l.useCallback)((e,t,n)=>{s&&r(a=>a.map(a=>a.id!==s?a:{...a,components:a.components.map(a=>{if(a.id!==e)return a;let r=a.textContent?.[t];return r&&r.value===n?a:{...a,textContent:{...a.textContent??{},[t]:{original:r?.original??n,value:n}}}})}))},[s]),$=(0,l.useCallback)(e=>{let t=E.componentsRegistry.find(t=>t.id===e);if(!t||"blocks"!==t.category&&"resumes"!==t.category)return;let n={id:`component-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,animationId:t.id,animation:t,textContent:{}};r(e=>{let t=s&&e.some(e=>e.id===s)?s:e[0]?.id;return t?e.map(e=>e.id===t?{...e,components:[...e.components,n]}:e):e})},[s]),D=(0,l.useCallback)(e=>{$(e),f(!1)},[$]),L=()=>{b(Object.values(JSON.parse(localStorage.getItem("builderProjects")||"{}")).sort((e,t)=>new Date(t.savedAt).getTime()-new Date(e.savedAt).getTime())),x(!0)},P=(()=>{if(!i)return null;for(let t of e){let e=t.components.find(e=>e.id===i);if(e)return{name:e.animation.name,type:"canvas"}}let t=E.componentsRegistry.find(e=>e.id===i);return t?{name:t.name,type:"sidebar"}:null})();return(0,t.jsxs)("div",{className:"flex h-screen flex-col bg-background",children:[(0,t.jsx)(B,{mobileSidebarOpen:g,onMobileSidebarChange:f,onLoadProjects:L,onToggleTextEditing:()=>y(e=>!e),isTextEditing:j,activeComponentCount:w,onMobileComponentSelect:D}),(0,t.jsx)("div",{className:"flex flex-1 overflow-hidden",children:(0,t.jsxs)(n.DndContext,{sensors:v,onDragStart:e=>{j||d(e.active.id)},onDragEnd:e=>{if(j||!N)return void d(null);let{active:t,over:n}=e;if(!n)return void d(null);let s=t.id,o=n.id,i=N.components.findIndex(e=>e.id===s),l=N.components.findIndex(e=>e.id===o);if(-1!==i&&-1!==l&&i!==l){r(e=>e.map(e=>e.id===N.id?{...e,components:(0,a.arrayMove)(e.components,i,l)}:e)),d(null);return}let c=E.componentsRegistry.find(e=>e.id===s);if(c&&"blocks"!==c.category&&"resumes"!==c.category)return void d(null);if(c&&("builder-canvas"===o||-1!==l)){let e={id:`component-${Date.now()}-${Math.random()}`,animationId:c.id,animation:c,textContent:{}};-1!==l?r(t=>t.map(t=>{if(t.id!==N.id)return t;let n=[...t.components];return n.splice(l,0,e),{...t,components:n}})):r(t=>t.map(t=>t.id===N.id?{...t,components:[...t.components,e]}:t))}d(null)},children:[(0,t.jsx)(O,{className:"hidden h-full w-80 border-r border-border md:flex",onSelectComponent:$}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto md:overflow-hidden",children:[(0,t.jsx)(W,{show:m,onHide:()=>u(!1)}),(0,t.jsx)(ee,{show:j}),(0,t.jsx)(Z,{pages:e,activePage:N,onSelectPage:e=>{o(e),y(!1),d(null)},onAddPage:()=>{let t=`Page ${e.length+1}`,n=window.prompt("Enter a name for the new page",t),a=n?.trim();if(!a)return;let s=K(a,e.map(e=>e.slug));r(e=>[...e,s]),o(s.id),y(!1),d(null)},onRenamePage:t=>{let n=e.find(e=>e.id===t);if(!n)return;let a=window.prompt("Rename page",n.name),s=a?.trim();if(!s||s===n.name)return;let o=G(s,e.filter(e=>e.id!==t).map(e=>e.slug));r(e=>e.map(e=>e.id===t?{...e,name:s,slug:o}:e))},onDeletePage:t=>{if(e.length<=1)return void window.alert("You need at least one page in the project.");let n=e.find(e=>e.id===t);if(!n||!window.confirm(`Delete page "${n.name}"?`))return;let a=e.filter(e=>e.id!==t);r(a),y(!1),d(null),s===t&&o(a[0]?.id??"")},activeRoute:C}),(0,t.jsx)("div",{className:"md:flex-1 md:overflow-y-auto p-4 md:p-6",children:(0,t.jsx)(c,{components:N?.components??[],onDelete:e=>{N&&r(t=>t.map(t=>t.id===N.id?{...t,components:t.components.filter(t=>t.id!==e)}:t))},isTextEditing:j,onRegisterTextNode:k,onUpdateTextNode:S})}),(0,t.jsx)(I,{pages:e,activePageId:N?.id??null})]}),(0,t.jsx)(F,{activeComponentInfo:P})]})}),(0,t.jsx)(X,{open:p,onOpenChange:x,savedProjects:h,onLoadProject:e=>{let t=Y(e),n=[],a=t.map((e,t)=>{let a=e.name?.trim()||`Page ${t+1}`,r=G(e.slug?.trim()||a,n);return n.push(r),{id:e.id&&e.id.length>0?e.id:"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():`page-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,name:a,slug:r,components:(e.components??[]).map(e=>{let t=E.componentsRegistry.find(t=>t.id===e.animationId);return t?{id:e.id&&e.id.length>0?e.id:`component-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,animationId:e.animationId,animation:t,textContent:e.textContent??{}}:null}).filter(e=>!!e)}}),s=a.length>0?a:[K("Landing",[])];r(s),x(!1),y(!1),d(null),o(e.entryPageId&&s.some(t=>t.id===e.entryPageId)?e.entryPageId:s[0].id)},onDeleteProject:e=>{let t=JSON.parse(localStorage.getItem("builderProjects")||"{}");delete t[e],localStorage.setItem("builderProjects",JSON.stringify(t)),L()},onPreviewProject:e=>{window.open(`/preview/${encodeURIComponent(e)}`,"_blank")}})]})}e.s(["default",()=>et],721584)}]);