{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/apps/web/lib/file-reader.ts"],"sourcesContent":["// lib/get-component-code.ts\n\"use server\";\n\nimport { readFileSync } from \"fs\";\nimport { join } from \"path\";\n\n/**\n * Reads a component file and returns its source code as a string\n * @param filePath - The path to the file (supports @/ alias or relative/absolute paths)\n * @returns The file content as a string\n * @throws Error if the file cannot be read\n */\nexport async function getComponentCode(filePath: string): Promise<string> {\n  try {\n    // Resolve aliases\n    let resolvedPath = filePath;\n    if (filePath.startsWith(\"@/\")) {\n      resolvedPath = join(process.cwd(), filePath.replace(\"@/\", \"\"));\n    } else if (filePath.startsWith(\"@uitripled/ui/\")) {\n      resolvedPath = join(\n        process.cwd(),\n        \"../../packages/ui/src\",\n        filePath.replace(\"@uitripled/ui/\", \"\")\n      );\n    } else if (filePath.startsWith(\"@uitripled/shared/\")) {\n      resolvedPath = join(\n        process.cwd(),\n        \"../../packages/shared/src\",\n        filePath.replace(\"@uitripled/shared/\", \"\")\n      );\n    } else if (filePath.startsWith(\"@uitripled/registry/\")) {\n      resolvedPath = join(\n        process.cwd(),\n        \"../../packages/registry/src\",\n        filePath.replace(\"@uitripled/registry/\", \"\")\n      );\n    } else if (!filePath.startsWith(\"/\")) {\n      resolvedPath = join(process.cwd(), filePath);\n    }\n\n    const absolutePath = resolvedPath;\n\n    const content = readFileSync(absolutePath, \"utf-8\");\n    return content;\n  } catch (error) {\n    throw new Error(\n      `Failed to read file at ${filePath}: ${error instanceof Error ? error.message : String(error)}`\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAYsB,mBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/apps/web/lib/components-registry.tsx"],"sourcesContent":["import { componentsRegistry } from \"@uitripled/registry\";\nimport { Component, ComponentCategory } from \"@uitripled/shared\";\nimport { getComponentCode } from \"./file-reader\";\n\nexport { componentsRegistry };\n\nexport function getComponentById(id: string): Component | undefined {\n  return componentsRegistry.find((component) => component.id === id);\n}\n\nexport function getAnimationsByCategory(\n  category: ComponentCategory\n): Component[] {\n  return componentsRegistry.filter(\n    (component) => component.category === category\n  );\n}\n\nexport function searchComponents(query: string): Component[] {\n  const lowerQuery = query.toLowerCase();\n  return componentsRegistry.filter(\n    (component) =>\n      component.name.toLowerCase().includes(lowerQuery) ||\n      component.description.toLowerCase().includes(lowerQuery) ||\n      component.tags.some((tag: string) => tag.toLowerCase().includes(lowerQuery))\n  );\n}\n\n/**\n * Transforms @uitripled/ui imports to @/ for manual copy-paste\n */\nexport function transformImports(code: string): string {\n  return code\n    .replace(/from \"@uitripled\\/ui\\//g, 'from \"@/')\n    .replace(/import \"@uitripled\\/ui\\//g, 'import \"@/')\n    .replace(/from '@uitripled\\/ui\\//g, \"from '@/\")\n    .replace(/import '@uitripled\\/ui\\//g, \"import '@/\");\n}\n\n/**\n * Loads component code on demand\n * This is a Server Function and should be called from Server Components or Server Actions\n */\nexport async function loadComponentCode(component: Component): Promise<string> {\n  let code = \"\";\n  if (component.code) {\n    code = component.code;\n  } else if (component.codePath) {\n    code = await getComponentCode(component.codePath);\n  } else {\n    throw new Error(`No code path found for component ${component.id}`);\n  }\n\n  return transformImports(code);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAEA;;;;AAIO,SAAS,iBAAiB,EAAU;IACzC,OAAO,iKAAkB,CAAC,IAAI,CAAC,CAAC,YAAc,UAAU,EAAE,KAAK;AACjE;AAEO,SAAS,wBACd,QAA2B;IAE3B,OAAO,iKAAkB,CAAC,MAAM,CAC9B,CAAC,YAAc,UAAU,QAAQ,KAAK;AAE1C;AAEO,SAAS,iBAAiB,KAAa;IAC5C,MAAM,aAAa,MAAM,WAAW;IACpC,OAAO,iKAAkB,CAAC,MAAM,CAC9B,CAAC,YACC,UAAU,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,eACtC,UAAU,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,eAC7C,UAAU,IAAI,CAAC,IAAI,CAAC,CAAC,MAAgB,IAAI,WAAW,GAAG,QAAQ,CAAC;AAEtE;AAKO,SAAS,iBAAiB,IAAY;IAC3C,OAAO,KACJ,OAAO,CAAC,2BAA2B,YACnC,OAAO,CAAC,6BAA6B,cACrC,OAAO,CAAC,2BAA2B,YACnC,OAAO,CAAC,6BAA6B;AAC1C;AAMO,eAAe,kBAAkB,SAAoB;IAC1D,IAAI,OAAO;IACX,IAAI,UAAU,IAAI,EAAE;QAClB,OAAO,UAAU,IAAI;IACvB,OAAO,IAAI,UAAU,QAAQ,EAAE;QAC7B,OAAO,MAAM,IAAA,iLAAgB,EAAC,UAAU,QAAQ;IAClD,OAAO;QACL,MAAM,IAAI,MAAM,CAAC,iCAAiC,EAAE,UAAU,EAAE,EAAE;IACpE;IAEA,OAAO,iBAAiB;AAC1B"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/apps/web/components/animation-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useUILibrary } from \"@uitripled/ui/components/ui-library-provider\";\nimport { Input } from \"@uitripled/ui/components/ui/input\";\nimport { ScrollArea } from \"@uitripled/ui/components/ui/scroll-area\";\nimport { componentsRegistry } from \"@/lib/components-registry\";\nimport { Component, ComponentCategory, categoryNames } from \"@uitripled/shared\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { ChevronDown, ChevronRight, Search } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { memo, useCallback, useEffect, useMemo, useState } from \"react\";\n\n// --- Types ---\n\ntype AnimationsSidebarProps = {\n  selectedComponent: Component | null;\n  onSelectComponent?: (component: Component) => void;\n  useLinks?: boolean;\n  target?: string | null;\n};\n\ntype SidebarItemProps = {\n  component: Component;\n  isSelected: boolean;\n  useLinks: boolean;\n  onSelect: ((component: Component) => void) | undefined;\n};\n\ntype SidebarCategoryProps = {\n  category: ComponentCategory | \"all\";\n  animations: Component[];\n  isExpanded: boolean;\n  onToggle: (category: ComponentCategory | \"all\") => void;\n  selectedComponentId: string | undefined;\n  onSelectComponent?: (component: Component) => void;\n  useLinks: boolean;\n};\n\n// --- Components ---\n\nconst SidebarItem = memo(function SidebarItem({\n  component,\n  isSelected,\n  useLinks,\n  onSelect,\n}: SidebarItemProps) {\n  const showProBadge = false; // No pro badge shown currently\n\n  const itemClass = `flex w-full items-center justify-between rounded-md px-2 py-1.5 text-left text-xs transition-colors ${\n    isSelected\n      ? \"bg-primary text-primary-foreground\"\n      : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\n  }`;\n\n  if (useLinks) {\n    return (\n      <Link href={`/components/${component.id}`} className={itemClass}>\n        <span className=\"flex-1 truncate\">{component.name}</span>\n        {showProBadge && (\n          <span\n            className={`ml-2 whitespace-nowrap rounded border px-1.5 py-0.5 text-[10px] font-semibold uppercase tracking-wide ${\n              isSelected\n                ? \"border-primary-foreground/80 bg-primary-foreground/10 text-primary-foreground\"\n                : \"backdrop-blur-sm border border-border bg-black/10 rounded-sm\"\n            }`}\n          >\n            PRO\n          </span>\n        )}\n      </Link>\n    );\n  }\n\n  return (\n    <button\n      onClick={() => onSelect?.(component)}\n      className={itemClass}\n      type=\"button\"\n    >\n      <span className=\"flex-1 truncate\">{component.name}</span>\n    </button>\n  );\n});\n\nconst SidebarCategory = memo(function SidebarCategory({\n  category,\n  animations,\n  isExpanded,\n  onToggle,\n  selectedComponentId,\n  onSelectComponent,\n  useLinks,\n}: SidebarCategoryProps) {\n  const hasAnimations = animations.length > 0;\n\n  // Memoize the list of items to prevent re-rendering all items when only one changes selection\n  const items = useMemo(() => {\n    return animations.map((component) => (\n      <SidebarItem\n        key={component.id}\n        component={component}\n        isSelected={selectedComponentId === component.id}\n        useLinks={useLinks}\n        onSelect={onSelectComponent}\n      />\n    ));\n  }, [animations, selectedComponentId, useLinks, onSelectComponent]);\n\n  return (\n    <div className=\"mb-1\">\n      <button\n        onClick={() => onToggle(category)}\n        className=\"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-muted hover:text-foreground\"\n      >\n        {isExpanded ? (\n          <ChevronDown className=\"h-4 w-4\" />\n        ) : (\n          <ChevronRight className=\"h-4 w-4\" />\n        )}\n        <span className=\"flex-1 text-left\">\n          {category === \"all\" ? \"All\" : categoryNames[category]}\n        </span>\n        <span className=\"text-xs text-muted-foreground/60\">\n          {animations.length}\n        </span>\n      </button>\n\n      <AnimatePresence>\n        {isExpanded && hasAnimations && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: \"auto\", opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"ml-4 mt-1 space-y-0.5 border-l border-border pl-2\">\n              {items}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n});\n\n// --- Main Component ---\n\nexport function AnimationsSidebar({\n  selectedComponent,\n  onSelectComponent,\n  useLinks = false,\n  target,\n}: AnimationsSidebarProps) {\n  const { selectedLibrary } = useUILibrary();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [expandedCategories, setExpandedCategories] = useState<\n    Set<ComponentCategory | \"all\">\n  >(new Set([\"all\"]));\n\n  // Effect to control expanded categories based on target parameter or selected component\n  useEffect(() => {\n    if (target) {\n      const normalizedTarget = target.toLowerCase();\n\n      // Check if target is a valid category\n      const validCategories: Array<string> = [\n        \"blocks\",\n        \"microinteractions\",\n        \"components\",\n        \"page\",\n        \"data\",\n        \"decorative\",\n        \"resumes\",\n        \"forms\",\n        \"cards\",\n        \"native\",\n      ];\n\n      if (validCategories.includes(normalizedTarget)) {\n        // Close all categories and open only the target\n        setExpandedCategories(\n          new Set([normalizedTarget as ComponentCategory | \"all\"])\n        );\n      } else {\n        // Target not found, open \"all\" by default\n        setExpandedCategories(new Set([\"all\"]));\n      }\n    } else if (selectedComponent) {\n      // If a component is selected, ensure its category is open\n      // Keep other manually opened categories, but close \"all\" if it was the only one open\n      setExpandedCategories((prev) => {\n        const next = new Set(prev);\n        // Add the component's category to the expanded set\n        next.add(selectedComponent.category);\n        // If only \"all\" was open, replace it with the component's category\n        if (prev.size === 1 && prev.has(\"all\")) {\n          return new Set([selectedComponent.category]);\n        }\n        // Otherwise, keep existing categories and add the component's category\n        return next;\n      });\n    } else {\n      // No target or selected component, open \"all\" by default\n      setExpandedCategories(new Set([\"all\"]));\n    }\n  }, [target, selectedComponent]);\n\n  const categories: Array<ComponentCategory | \"all\"> = [\n    \"native\",\n    \"blocks\",\n    \"cards\",\n    \"components\",\n    \"page\",\n    \"data\",\n    \"resumes\",\n    \"decorative\",\n    \"forms\",\n    \"microinteractions\",\n  ];\n\n  const filteredAnimations = useMemo(() => {\n    // First filter by display property (only show animations where display !== false)\n    let filtered = componentsRegistry.filter((anim) => anim.display !== false);\n\n    // Filter by selected UI library\n    filtered = filtered.filter((anim) => {\n      const availableLibraries = anim.availableIn || [\"shadcnui\"];\n\n      // If component has \"carbon\" (pure React), it's compatible with shadcnui and baseui\n      if (availableLibraries.includes(\"carbon\")) {\n        return (\n          selectedLibrary === \"shadcnui\" ||\n          selectedLibrary === \"baseui\" ||\n          selectedLibrary === \"carbon\"\n        );\n      }\n\n      return availableLibraries.includes(selectedLibrary);\n    });\n\n    if (searchQuery) {\n      const lowerQuery = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (anim) =>\n          anim.name.toLowerCase().includes(lowerQuery) ||\n          anim.description.toLowerCase().includes(lowerQuery) ||\n          anim.tags.some((tag: string) => tag.toLowerCase().includes(lowerQuery))\n      );\n    }\n\n    return filtered;\n  }, [searchQuery, selectedLibrary]);\n\n  const animationsByCategory = useMemo(() => {\n    const grouped: Record<ComponentCategory | \"all\", Component[]> = {\n      all: filteredAnimations,\n      blocks: [],\n      microinteractions: [],\n      components: [],\n      page: [],\n      data: [],\n      decorative: [],\n      resumes: [],\n      forms: [],\n      cards: [],\n      native: [],\n    };\n\n    filteredAnimations.forEach((anim: Component) => {\n      grouped[anim.category].push(anim);\n    });\n\n    return grouped;\n  }, [filteredAnimations]);\n\n  const toggleCategory = useCallback((category: ComponentCategory | \"all\") => {\n    setExpandedCategories((prev) => {\n      const next = new Set(prev);\n      if (next.has(category)) {\n        next.delete(category);\n      } else {\n        next.add(category);\n      }\n      return next;\n    });\n  }, []);\n\n  return (\n    <div className=\"flex h-full flex-col bg-background overflow-hidden\">\n      {/* Search */}\n      <div className=\"border-b border-border p-4\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground/50\" />\n          <Input\n            type=\"text\"\n            placeholder=\"Search components & blocks...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-10\"\n            autoComplete=\"off\"\n            autoFocus={false}\n            spellCheck={false}\n          />\n        </div>\n      </div>\n\n      {/* Categories List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2 pb-8\">\n          {categories.map((category) => (\n            <SidebarCategory\n              key={category}\n              category={category}\n              animations={animationsByCategory[category]}\n              isExpanded={expandedCategories.has(category)}\n              onToggle={toggleCategory}\n              selectedComponentId={selectedComponent?.id}\n              onSelectComponent={onSelectComponent}\n              useLinks={useLinks}\n            />\n          ))}\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/apps/web/app/components/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { AnimationsSidebar } from \"@/components/animation-sidebar\";\nimport { Button } from \"@uitripled/ui/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  DialogTrigger,\n} from \"@uitripled/ui/components/ui/dialog\";\nimport {\n  componentsRegistry,\n  getComponentById,\n} from \"@/lib/components-registry\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { ChevronLeft, ChevronRight, Menu } from \"lucide-react\";\nimport { useParams, usePathname, useRouter } from \"next/navigation\";\nimport { parseAsString, useQueryState } from \"nuqs\";\nimport { Suspense, useCallback, useEffect, useMemo, useState } from \"react\";\n\nfunction ComponentsLayoutContent({ children }: { children: React.ReactNode }) {\n  const params = useParams();\n  const pathname = usePathname();\n  const router = useRouter();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [target, setTarget] = useQueryState(\"target\", parseAsString);\n\n  // Sync mobile sidebar with URL parameter\n  const [mobileSidebarOpen, setMobileSidebarOpen] = useState(false);\n\n  // Open dialog when target parameter is present, but only on mobile\n  useEffect(() => {\n    if (target && window.innerWidth < 768) {\n      setMobileSidebarOpen(true);\n    }\n  }, [target]);\n\n  // Clear target parameter when dialog is closed\n  const handleMobileSidebarChange = useCallback(\n    (open: boolean) => {\n      setMobileSidebarOpen(open);\n      if (!open) {\n        setTarget(null);\n      }\n    },\n    [setTarget]\n  );\n\n  // Get selected animation if we're on a detail page\n  const selectedAnimation =\n    pathname.includes(\"/components/\") && params?.id\n      ? getComponentById(params.id as string) || null\n      : null;\n\n  // Get visible animations (display !== false)\n  const visibleAnimations = useMemo(() => {\n    return componentsRegistry.filter(\n      (component) => component.display !== false\n    );\n  }, []);\n\n  // Find current animation index and navigation\n  const currentIndex = useMemo(() => {\n    if (!selectedAnimation) return -1;\n    return visibleAnimations.findIndex(\n      (anim) => anim.id === selectedAnimation.id\n    );\n  }, [selectedAnimation, visibleAnimations]);\n\n  const previousAnimation =\n    currentIndex > 0 ? visibleAnimations[currentIndex - 1] : null;\n  const nextAnimation =\n    currentIndex < visibleAnimations.length - 1\n      ? visibleAnimations[currentIndex + 1]\n      : null;\n\n  const handleNavigate = useCallback(\n    (animationId: string) => {\n      router.push(`/components/${animationId}`);\n    },\n    [router]\n  );\n\n  const handleMobileSelect = useCallback(\n    (animationId: string) => {\n      handleNavigate(animationId);\n      setMobileSidebarOpen(false);\n    },\n    [handleNavigate]\n  );\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Only handle keyboard navigation on component detail pages\n      if (!selectedAnimation) return;\n\n      // Ignore if user is typing in an input/textarea\n      const target = e.target as HTMLElement;\n      if (\n        target.tagName === \"INPUT\" ||\n        target.tagName === \"TEXTAREA\" ||\n        target.isContentEditable\n      ) {\n        return;\n      }\n\n      // Left arrow key - previous component\n      if (e.key === \"ArrowLeft\" && previousAnimation) {\n        e.preventDefault();\n        handleNavigate(previousAnimation.id);\n      }\n\n      // Right arrow key - next component\n      if (e.key === \"ArrowRight\" && nextAnimation) {\n        e.preventDefault();\n        handleNavigate(nextAnimation.id);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [selectedAnimation, previousAnimation, nextAnimation, handleNavigate]);\n\n  return (\n    <div className=\"relative flex h-[calc(100vh-3.5rem)] overflow-hidden px-4\">\n      {/* Sidebar */}\n      <AnimatePresence>\n        {sidebarOpen && (\n          <motion.aside\n            initial={{ width: 0, opacity: 0 }}\n            animate={{ width: 320, opacity: 1 }}\n            exit={{ width: 0, opacity: 0 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n            className=\"hidden md:block shrink-0 border-r border-border overflow-hidden\"\n          >\n            <div className=\"flex h-full flex-col\">\n              <div className=\"flex items-center justify-between border-b border-border px-4 py-3\">\n                <div>\n                  <p className=\"text-sm font-semibold\">\n                    {selectedAnimation\n                      ? selectedAnimation.name\n                      : \"All components\"}\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => setSidebarOpen(false)}\n                  className=\"flex h-8 w-8 items-center justify-center rounded-md border border-border bg-background shadow-sm transition-colors hover:bg-muted\"\n                >\n                  <ChevronLeft className=\"h-4 w-4\" />\n                  <span className=\"sr-only\">Close sidebar</span>\n                </button>\n              </div>\n              <AnimationsSidebar\n                selectedComponent={selectedAnimation}\n                useLinks={true}\n                target={target}\n              />\n            </div>\n          </motion.aside>\n        )}\n      </AnimatePresence>\n\n      {/* Toggle Button */}\n      <AnimatePresence>\n        {!sidebarOpen && (\n          <motion.button\n            onClick={() => setSidebarOpen(true)}\n            className=\"hidden md:flex fixed left-2 top-[110px] z-10 rounded-md bg-background border border-border p-1.5 shadow-sm transition-colors hover:bg-muted\"\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -10 }}\n            transition={{ duration: 0.2, ease: \"easeInOut\" }}\n          >\n            <ChevronRight className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Open sidebar</span>\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      {/* Navigation Arrows - Show when sidebar is closed and on component detail page */}\n      <AnimatePresence>\n        {!sidebarOpen && selectedAnimation && (\n          <>\n            {/* Previous Button */}\n            {previousAnimation && (\n              <motion.button\n                initial={{ opacity: 0, x: 10 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: 10 }}\n                transition={{ duration: 0.3 }}\n                onClick={() => handleNavigate(previousAnimation.id)}\n                className=\"hidden md:flex fixed left-4 top-1/2 -translate-y-1/2 z-20 rounded-full bg-background/80 backdrop-blur-sm border border-border p-3 shadow-lg transition-all hover:bg-muted hover:scale-110 group\"\n                title={`Previous: ${previousAnimation.name}`}\n              >\n                <ChevronLeft className=\"h-6 w-6 transition-transform group-hover:-translate-x-0.5\" />\n              </motion.button>\n            )}\n\n            {/* Next Button */}\n            {nextAnimation && (\n              <motion.button\n                initial={{ opacity: 0, x: -10 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -10 }}\n                transition={{ duration: 0.3 }}\n                onClick={() => handleNavigate(nextAnimation.id)}\n                className=\"hidden md:flex fixed right-4 top-1/2 -translate-y-1/2 z-20 rounded-full bg-background/80 backdrop-blur-sm border border-border p-3 shadow-lg transition-all hover:bg-muted hover:scale-110 group\"\n                title={`Next: ${nextAnimation.name}`}\n              >\n                <ChevronRight className=\"h-6 w-6 transition-transform group-hover:translate-x-0.5\" />\n              </motion.button>\n            )}\n          </>\n        )}\n      </AnimatePresence>\n\n      <div className=\"flex flex-1 flex-col overflow-hidden\">\n        {/* Mobile Header */}\n        <Dialog\n          open={mobileSidebarOpen}\n          onOpenChange={handleMobileSidebarChange}\n        >\n          <div className=\"flex items-center justify-between border-b border-border bg-background px-4 py-3 md:hidden\">\n            <div className=\"min-w-0\">\n              <p className=\"text-xs font-medium uppercase tracking-wide text-muted-foreground\">\n                Components\n              </p>\n              <p className=\"truncate text-sm font-semibold\">\n                {selectedAnimation ? selectedAnimation.name : \"Browse library\"}\n              </p>\n            </div>\n            <DialogTrigger asChild>\n              <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n                <Menu className=\"h-4 w-4\" />\n                Browse\n              </Button>\n            </DialogTrigger>\n          </div>\n          <DialogContent className=\"md:hidden inset-x-0 bottom-0 left-0 right-0 top-auto flex h-[calc(100vh-5rem)] max-w-none translate-x-0 translate-y-0 flex-col rounded-t-3xl border border-border bg-background p-0 pb-4 shadow-xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom sm:rounded-t-3xl\">\n            <DialogTitle className=\"sr-only\">Mobile Navigation</DialogTitle>\n            <div className=\"flex items-center justify-between border-b border-border px-4 py-3\">\n              <div>\n                <p className=\"text-sm font-semibold\">\n                  {selectedAnimation\n                    ? selectedAnimation.name\n                    : \"All components\"}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex-1 overflow-hidden\">\n              <AnimationsSidebar\n                selectedComponent={selectedAnimation}\n                onSelectComponent={(component) =>\n                  handleMobileSelect(component.id)\n                }\n                target={target}\n              />\n            </div>\n          </DialogContent>\n        </Dialog>\n\n        <div className=\"flex-1 overflow-hidden\">{children}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ComponentsLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"flex h-screen items-center justify-center\">\n          Loading...\n        </div>\n      }\n    >\n      <ComponentsLayoutContent>{children}</ComponentsLayoutContent>\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}