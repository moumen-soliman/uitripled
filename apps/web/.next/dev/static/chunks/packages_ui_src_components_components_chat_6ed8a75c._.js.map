{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/packages/ui/src/components/components/chat/ai-chat-interface.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@uitripled/ui/components/ui/button\";\nimport { Textarea } from \"@uitripled/ui/components/ui/textarea\";\nimport { AnimatePresence, motion, useReducedMotion } from \"framer-motion\";\nimport {\n  ArrowUpRight,\n  ChevronDown,\n  Clock,\n  Link2,\n  Mail,\n  MessageSquare,\n  Share2,\n  Sparkles,\n  Star,\n  Zap,\n} from \"lucide-react\";\nimport { useEffect, useRef, useState } from \"react\";\n\ntype DropdownType = \"share\" | \"quick\" | \"history\" | \"magic\" | \"model\" | null;\n\ntype ActionOption = {\n  icon: typeof Link2;\n  label: string;\n  action: string;\n};\n\nconst shareOptions: ActionOption[] = [\n  { icon: Link2, label: \"Copy link\", action: \"copy-link\" },\n  { icon: Mail, label: \"Email\", action: \"email\" },\n  { icon: MessageSquare, label: \"Slack\", action: \"slack\" },\n];\n\nconst quickOptions: ActionOption[] = [\n  { icon: Sparkles, label: \"Summarize\", action: \"summarize\" },\n  { icon: Sparkles, label: \"Improve\", action: \"improve\" },\n  { icon: Sparkles, label: \"Translate\", action: \"translate\" },\n];\n\nconst historyOptions: ActionOption[] = [\n  { icon: Clock, label: \"Last hour\", action: \"history-1h\" },\n  { icon: Clock, label: \"Today\", action: \"history-today\" },\n  { icon: Clock, label: \"This week\", action: \"history-week\" },\n];\n\nconst magicOptions: ActionOption[] = [\n  { icon: Sparkles, label: \"Auto-complete\", action: \"magic-complete\" },\n  { icon: Sparkles, label: \"Storyboard\", action: \"magic-storyboard\" },\n  { icon: Sparkles, label: \"Rephrase\", action: \"magic-rephrase\" },\n];\n\nconst models = [\"GPT 5.0\", \"GPT 4.5 Turbo\", \"GPT 4.0\", \"Claude 3.5 Sonnet\"];\n\nexport function AIChatInterface() {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [activeDropdown, setActiveDropdown] = useState<DropdownType>(null);\n  const [selectedModel, setSelectedModel] = useState(models[0]);\n  const prefersReducedMotion = useReducedMotion();\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  const shouldAnimate = !prefersReducedMotion;\n\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setActiveDropdown(null);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const handleTextareaChange = (\n    event: React.ChangeEvent<HTMLTextAreaElement>\n  ) => {\n    setInputValue(event.target.value);\n\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  };\n\n  const renderDropdown = (\n    type: DropdownType,\n    options: ActionOption[],\n    align: \"left\" | \"right\" = \"left\"\n  ) => (\n    <AnimatePresence>\n      {activeDropdown === type && (\n        <motion.div\n          key={type}\n          initial={{ opacity: 0, y: -8 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: -8 }}\n          transition={{ duration: 0.18, ease: \"easeOut\" }}\n          className={`absolute ${align === \"right\" ? \"right-0\" : \"left-0\"} mt-3 w-56 rounded-2xl border border-border/40 bg-background/85 py-2 shadow-[0_24px_60px_rgba(15,23,42,0.24)] backdrop-blur-xl`}\n          role=\"menu\"\n        >\n          {options.map((option) => (\n            <Button\n              key={option.action}\n              onClick={() => {\n                console.log(`Action: ${option.action}`);\n                setActiveDropdown(null);\n              }}\n              className=\"flex w-full justify-start items-center gap-3 px-4 py-2 text-sm text-foreground/85 transition-all hover:bg-foreground/[0.05] hover:text-foreground\"\n              role=\"menuitem\"\n              type=\"button\"\n              variant=\"ghost\"\n            >\n              <option.icon size={16} className=\"text-foreground/60\" />\n              <span>{option.label}</span>\n            </Button>\n          ))}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n\n  return (\n    <motion.section\n      initial={shouldAnimate ? { opacity: 0, y: 20 } : { opacity: 1, y: 0 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={shouldAnimate ? { duration: 0.5 } : { duration: 0 }}\n      className=\"relative w-full\"\n    >\n      <div className=\"space-y-8\">\n        <div\n          className={`relative rounded-[28px] border border-border/50 bg-background/70 px-6 py-6 backdrop-blur-xl transition w-full z-10 ${\n            isFocused ? \"shadow-[0_28px_80px_rgba(15,23,42,0.24)]\" : \"\"\n          }`}\n        >\n          <div className=\"pointer-events-none absolute inset-0 bg-gradient-to-br from-primary/20/20 via-transparent to-transparent\" />\n          <div className=\"relative space-y-5\">\n            <div className=\"flex flex-col gap-1 text-left\">\n              <span className=\"text-xs font-semibold uppercase tracking-[0.32em] text-foreground/45\">\n                Prompt\n              </span>\n              <p className=\"text-sm text-foreground/60\">\n                Share goals, context, tone, and desired output.\n              </p>\n            </div>\n            <label htmlFor=\"chat-input\" className=\"sr-only\">\n              Ask AI anything\n            </label>\n            <Textarea\n              id=\"chat-input\"\n              ref={textareaRef}\n              value={inputValue}\n              onChange={handleTextareaChange}\n              placeholder=\"Ask AI anything...\"\n              className=\"w-full resize-none bg-transparent text-base text-foreground/90 placeholder:text-foreground/40 focus:outline-none\"\n              onFocus={() => setIsFocused(true)}\n              onBlur={() => setIsFocused(false)}\n              rows={1}\n              aria-label=\"Chat input\"\n            />\n\n            <div\n              className=\"flex flex-wrap items-center gap-2 border-t border-border/25 pt-3\"\n              ref={dropdownRef}\n            >\n              <div className=\"relative\">\n                <Button\n                  onClick={() =>\n                    setActiveDropdown(\n                      activeDropdown === \"share\" ? null : \"share\"\n                    )\n                  }\n                  className=\"group rounded-xl p-2 bg-background/80 transition-all hover:bg-foreground/[0.05] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground/40\"\n                  aria-label=\"Share options\"\n                  aria-expanded={activeDropdown === \"share\"}\n                  aria-haspopup=\"menu\"\n                  type=\"button\"\n                >\n                  <Share2\n                    size={18}\n                    className=\"text-foreground/50 group-hover:text-foreground\"\n                    strokeWidth={2}\n                  />\n                </Button>\n                {renderDropdown(\"share\", shareOptions)}\n              </div>\n\n              <div className=\"relative\">\n                <Button\n                  onClick={() =>\n                    setActiveDropdown(\n                      activeDropdown === \"quick\" ? null : \"quick\"\n                    )\n                  }\n                  className=\"group rounded-xl p-2 bg-background/80 transition-all hover:bg-foreground/[0.05] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground/40\"\n                  aria-label=\"Quick actions\"\n                  aria-expanded={activeDropdown === \"quick\"}\n                  aria-haspopup=\"menu\"\n                  type=\"button\"\n                >\n                  <Zap\n                    size={18}\n                    className=\"text-foreground/50 group-hover:text-foreground\"\n                    strokeWidth={2}\n                  />\n                </Button>\n                {renderDropdown(\"quick\", quickOptions)}\n              </div>\n\n              <div className=\"relative\">\n                <Button\n                  onClick={() =>\n                    setActiveDropdown(\n                      activeDropdown === \"history\" ? null : \"history\"\n                    )\n                  }\n                  className=\"group rounded-xl p-2 bg-background/80 transition-all hover:bg-foreground/[0.05] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground/40\"\n                  aria-label=\"History\"\n                  aria-expanded={activeDropdown === \"history\"}\n                  aria-haspopup=\"menu\"\n                  type=\"button\"\n                >\n                  <Clock\n                    size={18}\n                    className=\"text-foreground/50 group-hover:text-foreground\"\n                    strokeWidth={2}\n                  />\n                </Button>\n                {renderDropdown(\"history\", historyOptions)}\n              </div>\n\n              <div className=\"relative\">\n                <Button\n                  onClick={() =>\n                    setActiveDropdown(\n                      activeDropdown === \"magic\" ? null : \"magic\"\n                    )\n                  }\n                  className=\"group rounded-xl p-2 bg-background/80 transition-all hover:bg-foreground/[0.05] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground/40\"\n                  aria-label=\"Magic options\"\n                  aria-expanded={activeDropdown === \"magic\"}\n                  aria-haspopup=\"menu\"\n                  type=\"button\"\n                >\n                  <Sparkles\n                    size={18}\n                    className=\"text-foreground/50 group-hover:text-foreground\"\n                    strokeWidth={2}\n                  />\n                </Button>\n                {renderDropdown(\"magic\", magicOptions)}\n              </div>\n\n              <div className=\"relative ml-auto\">\n                <Button\n                  onClick={() =>\n                    setActiveDropdown(\n                      activeDropdown === \"model\" ? null : \"model\"\n                    )\n                  }\n                  className=\"flex items-center gap-2 rounded-xl border border-border/30 bg-background/80 px-3 py-1.5 text-sm font-medium text-foreground/80 transition hover:border-border/40 hover:bg-background/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground/40\"\n                  aria-label=\"Select AI model\"\n                  aria-expanded={activeDropdown === \"model\"}\n                  aria-haspopup=\"listbox\"\n                  type=\"button\"\n                >\n                  <span>{selectedModel}</span>\n                  <ChevronDown size={16} className=\"text-foreground/50\" />\n                </Button>\n\n                <AnimatePresence>\n                  {activeDropdown === \"model\" && (\n                    <motion.div\n                      key=\"model-dropdown\"\n                      initial={{ opacity: 0, y: -8 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      exit={{ opacity: 0, y: -8 }}\n                      transition={{ duration: 0.18, ease: \"easeOut\" }}\n                      className=\"absolute right-0 mt-3 w-56 rounded-2xl border border-border/40 bg-background/85 py-2 shadow-[0_24px_60px_rgba(15,23,42,0.24)] backdrop-blur-xl z-50\"\n                      role=\"listbox\"\n                    >\n                      {models.map((model) => (\n                        <Button\n                          key={model}\n                          onClick={() => {\n                            setSelectedModel(model);\n                            setActiveDropdown(null);\n                          }}\n                          className={`flex w-full items-center justify-between px-4 py-2 text-sm transition-all ${\n                            selectedModel === model\n                              ? \"bg-primary/15 font-medium text-primary hover:bg-primary/20\"\n                              : \"text-foreground/80 hover:bg-foreground/[0.05]\"\n                          }`}\n                          role=\"option\"\n                          aria-selected={selectedModel === model}\n                          type=\"button\"\n                          variant={\n                            selectedModel === model ? \"default\" : \"ghost\"\n                          }\n                        >\n                          {model}\n                          {selectedModel === model && (\n                            <Star size={14} className=\"text-primary/80\" />\n                          )}\n                        </Button>\n                      ))}\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </div>\n\n              <Button\n                type=\"button\"\n                size=\"lg\"\n                className=\"inline-flex items-center gap-2 rounded-full px-5 text-xs uppercase tracking-[0.28em]\"\n                onClick={() => console.log(\"Action: send-message\")}\n              >\n                Send\n                <ArrowUpRight className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </motion.section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/packages/ui/src/components/components/chat/chat-app.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@uitripled/ui/components/ui/button\";\nimport { Card } from \"@uitripled/ui/components/ui/card\";\nimport { Input } from \"@uitripled/ui/components/ui/input\";\nimport { ScrollArea } from \"@uitripled/ui/components/ui/scroll-area\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Bot, Loader2, Send, User } from \"lucide-react\";\nimport { useEffect, useRef, useState } from \"react\";\n\ntype Message = {\n  id: number;\n  text: string;\n  sender: \"user\" | \"bot\";\n  timestamp: Date;\n};\n\nconst initialMessages: Message[] = [\n  {\n    id: 1,\n    text: \"Hello! How can I help you today?\",\n    sender: \"bot\",\n    timestamp: new Date(Date.now() - 60000),\n  },\n  {\n    id: 2,\n    text: \"Hi there! I was wondering about your features.\",\n    sender: \"user\",\n    timestamp: new Date(Date.now() - 30000),\n  },\n  {\n    id: 3,\n    text: \"Of course! What would you like to know?\",\n    sender: \"bot\",\n    timestamp: new Date(Date.now() - 15000),\n  },\n];\n\nexport function ChatApp() {\n  const [messages, setMessages] = useState<Message[]>(initialMessages);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    // Auto-scroll to bottom when new messages arrive\n    if (scrollAreaRef.current) {\n      const scrollContainer = scrollAreaRef.current.querySelector(\n        \"[data-radix-scroll-area-viewport]\"\n      );\n      if (scrollContainer) {\n        scrollContainer.scrollTop = scrollContainer.scrollHeight;\n      }\n    }\n  }, [messages, isTyping]);\n\n  const formatTime = (date: Date): string => {\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const ampm = hours >= 12 ? \"PM\" : \"AM\";\n    const displayHours = hours % 12 || 12;\n    const displayMinutes = minutes.toString().padStart(2, \"0\");\n    return `${displayHours}:${displayMinutes} ${ampm}`;\n  };\n\n  const handleSend = () => {\n    const trimmed = inputValue.trim();\n    if (!trimmed) return;\n\n    const userMessage: Message = {\n      id: Date.now(),\n      text: trimmed,\n      sender: \"user\",\n      timestamp: new Date(),\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    setInputValue(\"\");\n    setIsTyping(true);\n\n    // Simulate bot response with typing indicator\n    setTimeout(() => {\n      const botMessage: Message = {\n        id: Date.now() + 1,\n        text: \"Thanks for your message! This is an automated response. I can help you with various tasks and answer your questions.\",\n        sender: \"bot\",\n        timestamp: new Date(),\n      };\n      setMessages((prev) => [...prev, botMessage]);\n      setIsTyping(false);\n      inputRef.current?.focus();\n    }, 1500);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  return (\n    <div className=\"\">\n      <Card className=\"flex h-[700px] w-full md:w-[600px] mx-auto flex-col overflow-hidden shadow-2xl\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"border-b bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 px-6 py-4\"\n        >\n          <div className=\"flex items-center gap-4\">\n            <motion.div\n              className=\"relative flex h-12 w-12 items-center justify-center rounded-full bg-primary shadow-lg\"\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              <Bot\n                className=\"h-6 w-6 text-primary-foreground\"\n                aria-hidden=\"true\"\n              />\n              <motion.div\n                className=\"absolute -right-1 -top-1 h-3 w-3 rounded-full bg-green-500 ring-2 ring-background\"\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                transition={{ delay: 0.5 }}\n              />\n            </motion.div>\n            <div>\n              <h1 className=\"text-lg font-semibold\">AI Assistant</h1>\n              <p className=\"text-sm text-muted-foreground\">\n                Always here to help\n              </p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Messages */}\n        <ScrollArea ref={scrollAreaRef} className=\"flex-1 px-6\">\n          <div\n            className=\"space-y-6 py-6\"\n            role=\"log\"\n            aria-live=\"polite\"\n            aria-label=\"Chat messages\"\n          >\n            <AnimatePresence mode=\"popLayout\">\n              {messages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  layout\n                  initial={{ opacity: 0, y: 20, scale: 0.95 }}\n                  animate={{ opacity: 1, y: 0, scale: 1 }}\n                  exit={{ opacity: 0, scale: 0.95 }}\n                  transition={{\n                    duration: 0.3,\n                    ease: [0.4, 0, 0.2, 1],\n                  }}\n                  className={`flex gap-3 ${\n                    message.sender === \"user\" ? \"flex-row-reverse\" : \"flex-row\"\n                  }`}\n                >\n                  <motion.div\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{\n                      delay: 0.1,\n                      type: \"spring\",\n                      stiffness: 260,\n                      damping: 20,\n                    }}\n                    className={`flex h-10 w-10 shrink-0 items-center justify-center rounded-full shadow-md ${\n                      message.sender === \"user\" ? \"bg-primary\" : \"bg-accent\"\n                    }`}\n                    aria-hidden=\"true\"\n                  >\n                    {message.sender === \"user\" ? (\n                      <User className=\"h-5 w-5 text-primary-foreground\" />\n                    ) : (\n                      <Bot className=\"h-5 w-5 text-accent-foreground\" />\n                    )}\n                  </motion.div>\n                  <div\n                    className={`flex max-w-[75%] flex-col ${\n                      message.sender === \"user\" ? \"items-end\" : \"items-start\"\n                    }`}\n                  >\n                    <motion.div\n                      initial={{ scale: 0.9, opacity: 0 }}\n                      animate={{ scale: 1, opacity: 1 }}\n                      transition={{ delay: 0.15 }}\n                      className={`rounded-2xl px-4 py-3 shadow-sm ${\n                        message.sender === \"user\"\n                          ? \"bg-primary text-primary-foreground\"\n                          : \"bg-accent text-accent-foreground\"\n                      }`}\n                    >\n                      <p className=\"text-sm leading-relaxed\">{message.text}</p>\n                    </motion.div>\n                    <time\n                      className=\"mt-1.5 px-1 text-xs text-muted-foreground\"\n                      dateTime={message.timestamp.toISOString()}\n                    >\n                      {formatTime(message.timestamp)}\n                    </time>\n                  </div>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n\n            {/* Typing Indicator */}\n            <AnimatePresence>\n              {isTyping && (\n                <motion.div\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -10 }}\n                  className=\"flex gap-3\"\n                  aria-live=\"polite\"\n                  aria-label=\"AI is typing\"\n                >\n                  <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-accent shadow-md\">\n                    <Bot\n                      className=\"h-5 w-5 text-accent-foreground\"\n                      aria-hidden=\"true\"\n                    />\n                  </div>\n                  <div className=\"flex items-center gap-1 rounded-2xl bg-accent px-4 py-3 shadow-sm\">\n                    <motion.div\n                      className=\"h-2 w-2 rounded-full bg-accent-foreground/60\"\n                      animate={{ scale: [1, 1.2, 1] }}\n                      transition={{ duration: 0.6, repeat: Infinity, delay: 0 }}\n                    />\n                    <motion.div\n                      className=\"h-2 w-2 rounded-full bg-accent-foreground/60\"\n                      animate={{ scale: [1, 1.2, 1] }}\n                      transition={{\n                        duration: 0.6,\n                        repeat: Infinity,\n                        delay: 0.2,\n                      }}\n                    />\n                    <motion.div\n                      className=\"h-2 w-2 rounded-full bg-accent-foreground/60\"\n                      animate={{ scale: [1, 1.2, 1] }}\n                      transition={{\n                        duration: 0.6,\n                        repeat: Infinity,\n                        delay: 0.4,\n                      }}\n                    />\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        </ScrollArea>\n\n        {/* Input */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2 }}\n          className=\"border-t bg-gradient-to-r from-background via-accent/5 to-background p-6\"\n        >\n          <div className=\"flex gap-3\" role=\"group\" aria-label=\"Message input\">\n            <Input\n              ref={inputRef}\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder=\"Type your message...\"\n              className=\"flex-1 rounded-full border-2 px-4 focus-visible:ring-2 focus-visible:ring-primary\"\n              aria-label=\"Message input\"\n              disabled={isTyping}\n            />\n            <Button\n              onClick={handleSend}\n              size=\"icon\"\n              disabled={!inputValue.trim() || isTyping}\n              aria-label=\"Send message\"\n              type=\"button\"\n              className=\"h-11 w-11 rounded-full shadow-md transition-all hover:scale-105 hover:shadow-lg active:scale-95 disabled:opacity-50\"\n            >\n              {isTyping ? (\n                <Loader2 className=\"h-5 w-5 animate-spin\" aria-hidden=\"true\" />\n              ) : (\n                <Send className=\"h-5 w-5\" aria-hidden=\"true\" />\n              )}\n            </Button>\n          </div>\n        </motion.div>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1111, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/packages/ui/src/components/components/chat/messenger.tsx"],"sourcesContent":["\"use client\";\n\nimport { Avatar, AvatarFallback } from \"@uitripled/ui/components/ui/avatar\";\nimport { Badge } from \"@uitripled/ui/components/ui/badge\";\nimport { Button } from \"@uitripled/ui/components/ui/button\";\nimport { Input } from \"@uitripled/ui/components/ui/input\";\nimport { Textarea } from \"@uitripled/ui/components/ui/textarea\";\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport { AnimatePresence, motion, useReducedMotion } from \"framer-motion\";\nimport {\n  CheckCheck,\n  MoreVertical,\n  Paperclip,\n  Phone,\n  Search,\n  Send,\n  Video,\n} from \"lucide-react\";\nimport { FormEvent, useEffect, useMemo, useRef, useState } from \"react\";\n\ntype Message = {\n  id: string;\n  sender: \"user\" | \"contact\";\n  author: string;\n  text: string;\n  timestamp: string;\n};\n\ntype Conversation = {\n  id: string;\n  name: string;\n  title: string;\n  status: \"online\" | \"offline\";\n  unread: number;\n  initials: string;\n  messages: Message[];\n  quickReplies: string[];\n  autoReplies: string[];\n};\n\nconst initialConversations: Conversation[] = [\n  {\n    id: \"product-updates\",\n    name: \"Morgan James\",\n    title: \"Product Strategy\",\n    status: \"online\",\n    unread: 2,\n    initials: \"MJ\",\n    messages: [\n      {\n        id: \"product-1\",\n        sender: \"contact\",\n        author: \"Morgan\",\n        text: \"Thanks for the recap on the CashFlow release. The beta cohort loves the motion work.\",\n        timestamp: \"09:18\",\n      },\n      {\n        id: \"product-2\",\n        sender: \"user\",\n        author: \"You\",\n        text: \"Amazing to hear. Do we have a decision on the new Messenger surface?\",\n        timestamp: \"09:21\",\n      },\n      {\n        id: \"product-3\",\n        sender: \"contact\",\n        author: \"Morgan\",\n        text: \"Almost there. Design asked for one more pass on the animation timings - soft ease on expand.\",\n        timestamp: \"09:24\",\n      },\n    ],\n    quickReplies: [\n      \"I can share a timing proposal.\",\n      \"Let me know if you need a demo recording.\",\n      \"We can add an onboarding tooltip.\",\n    ],\n    autoReplies: [\n      \"That would help so much - a short clip would be perfect.\",\n      \"Can we confirm the handoff checklist by tomorrow?\",\n      \"Love the attention to accessibility details here.\",\n    ],\n  },\n  {\n    id: \"customer-success\",\n    name: \"Leah Patel\",\n    title: \"Customer Success\",\n    status: \"offline\",\n    unread: 0,\n    initials: \"LP\",\n    messages: [\n      {\n        id: \"success-1\",\n        sender: \"contact\",\n        author: \"Leah\",\n        text: \"Morning! Enterprise users keep mentioning how clear the summary cards feel.\",\n        timestamp: \"08:05\",\n      },\n      {\n        id: \"success-2\",\n        sender: \"user\",\n        author: \"You\",\n        text: \"Great sign. Do we need any follow-up education for folks migrating from the legacy dashboard?\",\n        timestamp: \"08:08\",\n      },\n      {\n        id: \"success-3\",\n        sender: \"contact\",\n        author: \"Leah\",\n        text: \"Maybe a guided walkthrough. I can draft the outline if you can provide the animation cues.\",\n        timestamp: \"08:11\",\n      },\n    ],\n    quickReplies: [\n      \"Happy to add cues for the walkthrough.\",\n      \"Let us sync after the support standup.\",\n      \"We can capture a Loom covering the flows.\",\n    ],\n    autoReplies: [\n      \"Perfect. Support will love a beat-by-beat cue list.\",\n      \"Thanks - I will drop a doc in the shared folder shortly.\",\n      \"Appreciate you keeping motion accessible throughout.\",\n    ],\n  },\n  {\n    id: \"engineering-handoff\",\n    name: \"Build Squad\",\n    title: \"Engineering Handoff\",\n    status: \"offline\",\n    unread: 1,\n    initials: \"BS\",\n    messages: [\n      {\n        id: \"build-1\",\n        sender: \"contact\",\n        author: \"Carson\",\n        text: \"Do you have the reduced-motion variants for Messenger handy?\",\n        timestamp: \"Yesterday\",\n      },\n      {\n        id: \"build-2\",\n        sender: \"user\",\n        author: \"You\",\n        text: \"Yep - exporting now with notes on keyboard focus states.\",\n        timestamp: \"Yesterday\",\n      },\n    ],\n    quickReplies: [\n      \"Uploading the reduced-motion recording now.\",\n      \"Focus ring spec is ready if you need it.\",\n      \"We can pair on the final QA pass.\",\n    ],\n    autoReplies: [\n      \"Legend - the team will plug that into the Storybook build tonight.\",\n      \"Appreciate the extra detail on focus management.\",\n      \"We will ping if anything else blocks us.\",\n    ],\n  },\n];\n\ntype ReplyCursorState = Record<string, number>;\n\nexport function Messenger() {\n  const [selectedConversationId, setSelectedConversationId] = useState<string>(\n    initialConversations[0]?.id ?? \"\"\n  );\n  const [conversations, setConversations] =\n    useState<Conversation[]>(initialConversations);\n  const [draft, setDraft] = useState(\"\");\n  const [replyCursor, setReplyCursor] = useState<ReplyCursorState>(() => {\n    const cursor: ReplyCursorState = {};\n    initialConversations.forEach((conversation) => {\n      cursor[conversation.id] = 0;\n    });\n    return cursor;\n  });\n  const shouldReduceMotion = useReducedMotion();\n  const messagesContainerRef = useRef<HTMLDivElement | null>(null);\n  const liveRegionRef = useRef<HTMLDivElement | null>(null);\n  const selectedConversationRef = useRef<string>(selectedConversationId);\n  const replyTimeoutRef = useRef<number | null>(null);\n\n  const activeConversation = useMemo(() => {\n    return conversations.find(\n      (conversation) => conversation.id === selectedConversationId\n    );\n  }, [conversations, selectedConversationId]);\n\n  useEffect(() => {\n    selectedConversationRef.current = selectedConversationId;\n    setConversations((prev) =>\n      prev.map((conversation) =>\n        conversation.id === selectedConversationId\n          ? { ...conversation, unread: 0 }\n          : conversation\n      )\n    );\n  }, [selectedConversationId]);\n\n  useEffect(() => {\n    if (!messagesContainerRef.current) {\n      return;\n    }\n    const container = messagesContainerRef.current;\n    const behavior = shouldReduceMotion ? \"auto\" : \"smooth\";\n\n    const scrollToBottom = () => {\n      container.scrollTo({ top: container.scrollHeight, behavior });\n    };\n\n    if (behavior === \"smooth\") {\n      requestAnimationFrame(scrollToBottom);\n    } else {\n      scrollToBottom();\n    }\n  }, [\n    activeConversation?.messages,\n    activeConversation?.id,\n    shouldReduceMotion,\n  ]);\n\n  useEffect(() => {\n    return () => {\n      if (replyTimeoutRef.current) {\n        window.clearTimeout(replyTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!liveRegionRef.current || !activeConversation) {\n      return;\n    }\n    const lastMessage =\n      activeConversation.messages[activeConversation.messages.length - 1];\n    if (!lastMessage) {\n      return;\n    }\n    liveRegionRef.current.textContent =\n      lastMessage.author +\n      \" at \" +\n      lastMessage.timestamp +\n      \": \" +\n      lastMessage.text;\n  }, [activeConversation?.messages, activeConversation]);\n\n  const handleSelectConversation = (conversationId: string) => {\n    setSelectedConversationId(conversationId);\n  };\n\n  const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (!draft.trim() || !activeConversation) {\n      return;\n    }\n\n    const conversationId = activeConversation.id;\n    const timestamp = new Date().toLocaleTimeString(\"en-US\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n    const outgoing: Message = {\n      id: \"outgoing-\" + Date.now().toString(),\n      sender: \"user\",\n      author: \"You\",\n      text: draft.trim(),\n      timestamp,\n    };\n\n    setConversations((prev) =>\n      prev.map((conversation) =>\n        conversation.id === conversationId\n          ? {\n              ...conversation,\n              messages: [...conversation.messages, outgoing],\n              unread: 0,\n            }\n          : conversation\n      )\n    );\n    setDraft(\"\");\n\n    const autoReplies = activeConversation.autoReplies;\n    if (!autoReplies.length) {\n      return;\n    }\n\n    const cursor = replyCursor[conversationId] ?? 0;\n    const nextReply = autoReplies[cursor % autoReplies.length];\n    const delay = shouldReduceMotion ? 0 : 900;\n\n    replyTimeoutRef.current = window.setTimeout(() => {\n      const safeTimestamp = new Date().toLocaleTimeString(\"en-US\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      });\n      const incoming: Message = {\n        id: \"incoming-\" + Date.now().toString(),\n        sender: \"contact\",\n        author: activeConversation.name,\n        text: nextReply,\n        timestamp: safeTimestamp,\n      };\n\n      const currentSelected = selectedConversationRef.current;\n      setConversations((prev) =>\n        prev.map((conversation) => {\n          if (conversation.id !== conversationId) {\n            return conversation;\n          }\n          const isActive = currentSelected === conversationId;\n          return {\n            ...conversation,\n            messages: [...conversation.messages, incoming],\n            unread: isActive ? 0 : conversation.unread + 1,\n          };\n        })\n      );\n\n      setReplyCursor((prev) => ({\n        ...prev,\n        [conversationId]: cursor + 1,\n      }));\n    }, delay);\n  };\n\n  if (!activeConversation) {\n    return null;\n  }\n\n  const statusDotColor: Record<Conversation[\"status\"], string> = {\n    online: \"bg-green-500\",\n    offline: \"bg-red-500\",\n  };\n\n  return (\n    <section className=\"relative w-full py-6 sm:py-8 md:py-12 lg:py-16\">\n      <div className=\"relative grid min-h-[500px] max-h-[calc(100vh-3rem)] grid-rows-[auto,1fr] gap-4 overflow-hidden rounded-[30px] border border-border/50 bg-background/70 p-4 backdrop-blur-xl sm:min-h-[600px] sm:max-h-[calc(100vh-4rem)] sm:gap-6 sm:p-6 md:min-h-[650px] md:max-h-[calc(100vh-5rem)] lg:h-[760px] lg:max-h-[calc(100vh-6rem)] lg:grid-rows-[1fr] lg:gap-8 lg:p-8 lg:[grid-template-columns:30%_1fr]\">\n        <div className=\"flex flex-col gap-3 rounded-2xl border border-border/40 bg-background/75 p-3 backdrop-blur sm:gap-4 sm:rounded-3xl sm:p-4 lg:hidden\">\n          <div className=\"flex items-center justify-between gap-2 sm:gap-3\">\n            <div>\n              <p className=\"text-xs font-semibold text-foreground sm:text-sm\">\n                Messenger\n              </p>\n              <p className=\"text-[0.65rem] text-muted-foreground sm:text-xs\">\n                {conversations.length} active conversation\n                {conversations.length === 1 ? \"\" : \"s\"}\n              </p>\n            </div>\n            <Badge\n              variant=\"outline\"\n              className=\"rounded-full border border-border/50 bg-primary/15 px-2 py-0.5 text-[0.65rem] uppercase tracking-[0.2em] text-primary hover:bg-primary/15 hover:text-primary sm:px-3 sm:py-1 sm:text-[0.7rem] sm:tracking-[0.24em]\"\n            >\n              Live\n            </Badge>\n          </div>\n          <div className=\"space-y-1.5 sm:space-y-2\">\n            <label\n              htmlFor=\"messenger-conversation\"\n              className=\"text-[0.65rem] font-medium text-muted-foreground sm:text-xs\"\n            >\n              Conversation\n            </label>\n            <select\n              id=\"messenger-conversation\"\n              value={selectedConversationId}\n              onChange={(event) => handleSelectConversation(event.target.value)}\n              className=\"w-full rounded-xl border border-border/40 bg-background/70 px-2.5 py-1.5 text-xs text-foreground focus:border-primary/40 focus:outline-none focus:ring-2 focus:ring-primary/30 sm:rounded-2xl sm:px-3 sm:py-2 sm:text-sm\"\n            >\n              {conversations.map((conversation) => (\n                <option key={conversation.id} value={conversation.id}>\n                  {conversation.name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"hidden h-full flex-col gap-5 overflow-hidden rounded-3xl border border-border/40 bg-background/75 p-4 backdrop-blur lg:flex lg:col-start-1 lg:col-end-2\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <div>\n              <p className=\"text-sm font-semibold text-foreground\">Messenger</p>\n              <p className=\"text-xs text-muted-foreground\">\n                {conversations.length} active conversation\n                {conversations.length === 1 ? \"\" : \"s\"}\n              </p>\n            </div>\n            <Badge\n              variant=\"outline\"\n              className=\"rounded-full border border-border/50 bg-primary/15 px-3 py-1 text-[0.7rem] uppercase tracking-[0.24em] text-primary hover:bg-primary/15 hover:text-primary\"\n            >\n              Live\n            </Badge>\n          </div>\n\n          <label htmlFor=\"messenger-search\" className=\"sr-only\">\n            Search conversations\n          </label>\n          <div className=\"relative\">\n            <Search\n              className=\"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground/70\"\n              aria-hidden=\"true\"\n            />\n            <Input\n              id=\"messenger-search\"\n              type=\"search\"\n              placeholder=\"Search teammates or channels\"\n              className=\"w-full rounded-2xl border-border/40 bg-background/60 pl-10 text-sm text-foreground placeholder:text-muted-foreground/70 focus-visible:ring-2 focus-visible:ring-primary/40\"\n            />\n          </div>\n\n          <div\n            className=\"flex-1 space-y-2 overflow-y-auto pr-1\"\n            aria-label=\"Conversation list\"\n            role=\"list\"\n          >\n            {conversations.map((conversation) => {\n              const isActive = conversation.id === selectedConversationId;\n              const lastMessage =\n                conversation.messages[conversation.messages.length - 1];\n              return (\n                <motion.button\n                  key={conversation.id}\n                  type=\"button\"\n                  onClick={() => handleSelectConversation(conversation.id)}\n                  aria-pressed={isActive}\n                  className={cn(\n                    \"group relative flex w-full items-start gap-3 rounded-2xl border border-transparent p-3 text-left transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n                    isActive\n                      ? \"border-primary/40 bg-primary/10\"\n                      : \"bg-background/70 hover:border-border/40 hover:bg-muted/40\"\n                  )}\n                  role=\"listitem\"\n                >\n                  <div className=\"relative shrink-0\">\n                    <Avatar className=\"h-10 w-10 rounded-2xl border border-border/40 bg-background/80 text-foreground\">\n                      <AvatarFallback className=\"rounded-2xl bg-primary/15 text-sm font-medium text-primary\">\n                        {conversation.initials}\n                      </AvatarFallback>\n                    </Avatar>\n                    <span\n                      className={cn(\n                        \"absolute bottom-0 right-0 inline-flex h-3 w-3 rounded-full border-2 border-background\",\n                        statusDotColor[conversation.status]\n                      )}\n                      aria-label={\n                        conversation.status === \"online\" ? \"Online\" : \"Offline\"\n                      }\n                    />\n                  </div>\n                  <div className=\"min-w-0 flex-1 space-y-1\">\n                    <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-semibold text-foreground\">\n                          {conversation.name}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {conversation.title}\n                        </p>\n                      </div>\n                    </div>\n                    {lastMessage ? (\n                      <p className=\"line-clamp-2 text-xs text-muted-foreground\">\n                        {lastMessage.author}: {lastMessage.text}\n                      </p>\n                    ) : (\n                      <p className=\"text-xs text-muted-foreground\">\n                        No messages yet\n                      </p>\n                    )}\n                  </div>\n                  {conversation.unread > 0 && (\n                    <span className=\"ml-2 inline-flex min-h-[1.5rem] min-w-[1.5rem] items-center justify-center rounded-full bg-primary text-[0.7rem] font-semibold text-primary-foreground shadow-lg\">\n                      {conversation.unread}\n                    </span>\n                  )}\n                </motion.button>\n              );\n            })}\n          </div>\n        </div>\n\n        <AnimatePresence initial={false} mode=\"wait\">\n          <motion.div\n            key={activeConversation.id}\n            initial={\n              shouldReduceMotion ? { opacity: 1 } : { opacity: 0, y: 12 }\n            }\n            animate={shouldReduceMotion ? { opacity: 1 } : { opacity: 1, y: 0 }}\n            exit={shouldReduceMotion ? { opacity: 0 } : { opacity: 0, y: -12 }}\n            transition={{ duration: 0.32, ease: \"easeOut\" }}\n            className=\"flex min-h-0 flex-col gap-4 overflow-hidden rounded-3xl border border-border/40 bg-background/80 p-4 backdrop-blur sm:gap-5 sm:p-5 md:gap-6 md:p-6 lg:col-start-2 lg:col-end-3\"\n          >\n            <header className=\"flex flex-wrap items-center justify-between gap-3 sm:gap-4\">\n              <div className=\"flex items-center gap-2 sm:gap-3\">\n                <div className=\"relative\">\n                  <Avatar className=\"h-10 w-10 rounded-2xl border border-border/40 bg-card/80 text-foreground sm:h-12 sm:w-12 sm:rounded-3xl\">\n                    <AvatarFallback className=\"rounded-2xl bg-primary/20 text-sm font-semibold text-primary sm:rounded-3xl sm:text-base\">\n                      {activeConversation.initials}\n                    </AvatarFallback>\n                  </Avatar>\n                  <span\n                    className={cn(\n                      \"absolute bottom-0 right-0 inline-flex h-3 w-3 rounded-full border-2 border-background sm:h-3.5 sm:w-3.5\",\n                      statusDotColor[activeConversation.status]\n                    )}\n                    aria-label={\n                      activeConversation.status === \"online\"\n                        ? \"Online\"\n                        : \"Offline\"\n                    }\n                  />\n                </div>\n                <div>\n                  <p className=\"text-sm font-semibold text-foreground sm:text-base\">\n                    {activeConversation.name}\n                  </p>\n                  <p className=\"text-xs text-muted-foreground sm:text-sm\">\n                    {activeConversation.title}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-1.5 sm:gap-2\">\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"size-8 rounded-full border border-border/40 bg-background/60 text-muted-foreground transition hover:bg-muted/60 focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background sm:size-10\"\n                  aria-label=\"Start audio call\"\n                >\n                  <Phone className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\" />\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"size-8 rounded-full border border-border/40 bg-background/60 text-muted-foreground transition hover:bg-muted/60 focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background sm:size-10\"\n                  aria-label=\"Start video call\"\n                >\n                  <Video className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\" />\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"size-8 rounded-full border border-border/40 bg-background/60 text-muted-foreground transition hover:bg-muted/60 focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background sm:size-10\"\n                  aria-label=\"Open conversation menu\"\n                >\n                  <MoreVertical className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\" />\n                </Button>\n              </div>\n            </header>\n\n            <div\n              ref={messagesContainerRef}\n              className=\"relative flex-1 min-h-0 space-y-3 overflow-y-auto pr-2 sm:space-y-4 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-muted\"\n              aria-live=\"off\"\n              aria-label={\"Message thread with \" + activeConversation.name}\n            >\n              <AnimatePresence initial={false}>\n                {activeConversation.messages.map((message) => (\n                  <motion.div\n                    key={message.id}\n                    initial={\n                      shouldReduceMotion\n                        ? false\n                        : { opacity: 0, y: 12, scale: 0.98 }\n                    }\n                    animate={\n                      shouldReduceMotion\n                        ? { opacity: 1 }\n                        : { opacity: 1, y: 0, scale: 1 }\n                    }\n                    exit={{ opacity: 0, y: 0 }}\n                    transition={{ duration: 0.28, ease: \"easeOut\" }}\n                    className=\"flex flex-col gap-1\"\n                    role=\"group\"\n                    aria-label={message.author + \" at \" + message.timestamp}\n                  >\n                    <div\n                      className={cn(\n                        \"relative max-w-[85%] rounded-xl border border-border/40 bg-background/80 px-3 py-2 text-xs leading-relaxed text-foreground backdrop-blur sm:max-w-[82%] sm:rounded-2xl sm:px-4 sm:py-3 sm:text-sm\",\n                        message.sender === \"user\" &&\n                          \"ml-auto border-primary/40 bg-primary text-primary-foreground\"\n                      )}\n                    >\n                      <p className=\"font-medium text-foreground/80 sm:text-sm\">\n                        {message.author}\n                      </p>\n                      <p\n                        className={cn(\n                          \"mt-1 text-[0.875rem] sm:text-[0.95rem]\",\n                          message.sender === \"user\"\n                            ? \"text-primary-foreground/90\"\n                            : \"text-foreground/90\"\n                        )}\n                      >\n                        {message.text}\n                      </p>\n                      <div className=\"mt-2 flex items-center justify-end gap-1.5 text-[0.65rem] sm:mt-3 sm:gap-2 sm:text-[0.7rem]\">\n                        <span\n                          className={cn(\n                            \"text-muted-foreground\",\n                            message.sender === \"user\" &&\n                              \"text-primary-foreground/80\"\n                          )}\n                        >\n                          {message.timestamp}\n                        </span>\n                        {message.sender === \"user\" && (\n                          <CheckCheck\n                            className=\"h-3 w-3 text-primary-foreground/80 sm:h-3.5 sm:w-3.5\"\n                            aria-hidden=\"true\"\n                          />\n                        )}\n                      </div>\n                    </div>\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </div>\n\n            <form\n              onSubmit={handleSubmit}\n              className=\"space-y-2 sm:space-y-3\"\n              aria-label=\"Reply composer\"\n            >\n              <label htmlFor=\"messenger-editor\" className=\"sr-only\">\n                Write a message\n              </label>\n              <div className=\"flex items-end gap-2 rounded-2xl border border-border/40 bg-background/80 p-3 backdrop-blur sm:gap-3 sm:rounded-3xl sm:p-4\">\n                <div className=\"flex-1 min-w-0\">\n                  <Textarea\n                    id=\"messenger-editor\"\n                    value={draft}\n                    onChange={(event) => setDraft(event.target.value)}\n                    placeholder={\"Message \" + activeConversation.name}\n                    rows={2}\n                    className=\"min-h-[3rem] w-full resize-none border-none bg-transparent text-xs text-foreground placeholder:text-muted-foreground/70 focus-visible:ring-0 focus-visible:outline-none sm:min-h-[4rem] sm:text-sm\"\n                    aria-label={\"Message \" + activeConversation.name}\n                  />\n                  <div className=\"mt-2 flex flex-wrap gap-1.5 sm:mt-3 sm:gap-2\">\n                    {activeConversation.quickReplies.map((reply) => (\n                      <button\n                        key={reply}\n                        type=\"button\"\n                        onClick={() => setDraft(reply)}\n                        className=\"rounded-full border border-border/50 bg-background/70 px-2.5 py-0.5 text-[0.65rem] text-muted-foreground transition hover:border-primary/40 hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background sm:px-3 sm:py-1 sm:text-xs\"\n                      >\n                        {reply}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n                <div className=\"flex shrink-0 flex-col items-end gap-1.5 sm:w-24 sm:gap-2\">\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"size-8 rounded-full border border-border/40 bg-background/70 text-muted-foreground transition hover:bg-muted/50 focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background sm:size-10\"\n                    aria-label=\"Attach a file\"\n                  >\n                    <Paperclip className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\" />\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    size=\"icon\"\n                    className=\"size-8 rounded-full bg-primary text-primary-foreground shadow-lg transition hover:bg-primary/90 focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-60 sm:size-10\"\n                    disabled={!draft.trim()}\n                    aria-label=\"Send message\"\n                  >\n                    <Send\n                      className=\"h-3.5 w-3.5 sm:h-4 sm:w-4\"\n                      aria-hidden=\"true\"\n                    />\n                  </Button>\n                </div>\n              </div>\n            </form>\n          </motion.div>\n        </AnimatePresence>\n      </div>\n      <div\n        ref={liveRegionRef}\n        className=\"sr-only\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n      />\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2175, "column": 0}, "map": {"version":3,"sources":["file:///Users/moumensoliman/code/uitripled/packages/ui/src/components/components/chat/floating-chat-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { Avatar, AvatarFallback, AvatarImage } from \"@uitripled/ui/components/ui/avatar\";\nimport { Button } from \"@uitripled/ui/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@uitripled/ui/components/ui/select\";\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport { AnimatePresence, motion, type Variants } from \"framer-motion\";\nimport {\n  Brain,\n  Code,\n  MessageSquare,\n  Send,\n  Sparkles,\n  X,\n  Zap,\n} from \"lucide-react\";\nimport { useCallback, useId, useState } from \"react\";\n\ninterface Agent {\n  id: string;\n  name: string;\n  role: string;\n  avatar: string;\n  status: \"online\" | \"busy\" | \"offline\";\n  icon: React.ElementType;\n  gradient: string;\n}\n\nconst AI_AGENTS: Agent[] = [\n  {\n    id: \"gpt4\",\n    name: \"GPT-4\",\n    role: \"Advanced Reasoning\",\n    avatar: \"https://github.com/shadcn.png\",\n    status: \"online\",\n    icon: Sparkles,\n    gradient: \"from-green-500/20 to-emerald-500/20\",\n  },\n  {\n    id: \"claude\",\n    name: \"Claude 3.5\",\n    role: \"Creative Writing\",\n    avatar: \"https://github.com/shadcn.png\",\n    status: \"online\",\n    icon: Brain,\n    gradient: \"from-orange-500/20 to-amber-500/20\",\n  },\n  {\n    id: \"gemini\",\n    name: \"Gemini Pro\",\n    role: \"Multimodal Analysis\",\n    avatar: \"https://github.com/shadcn.png\",\n    status: \"busy\",\n    icon: Zap,\n    gradient: \"from-blue-500/20 to-cyan-500/20\",\n  },\n  {\n    id: \"copilot\",\n    name: \"Copilot\",\n    role: \"Code Assistant\",\n    avatar: \"https://github.com/shadcn.png\",\n    status: \"online\",\n    icon: Code,\n    gradient: \"from-purple-500/20 to-violet-500/20\",\n  },\n];\n\nconst containerVariants: Variants = {\n  hidden: {\n    opacity: 0,\n    y: 20,\n    scale: 0.95,\n    transformOrigin: \"bottom right\",\n  },\n  visible: {\n    opacity: 1,\n    y: 0,\n    scale: 1,\n    transition: {\n      type: \"spring\",\n      damping: 25,\n      stiffness: 300,\n      staggerChildren: 0.05,\n    },\n  },\n  exit: {\n    opacity: 0,\n    y: 20,\n    scale: 0.95,\n    transition: {\n      duration: 0.2,\n    },\n  },\n};\n\nconst messageVariants: Variants = {\n  hidden: { opacity: 0, y: 10, x: -10 },\n  visible: {\n    opacity: 1,\n    y: 0,\n    x: 0,\n    transition: { type: \"spring\", stiffness: 500, damping: 30 },\n  },\n};\n\nexport function FloatingChatWidget() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedAgent, setSelectedAgent] = useState<string>(AI_AGENTS[0].id);\n  const [message, setMessage] = useState(\"\");\n  const widgetId = useId();\n\n  const toggleOpen = useCallback(() => setIsOpen((prev) => !prev), []);\n\n  const currentAgent =\n    AI_AGENTS.find((a) => a.id === selectedAgent) || AI_AGENTS[0];\n  const AgentIcon = currentAgent.icon;\n\n  return (\n    <div className=\"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-4\">\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            key=\"chat-window\"\n            variants={containerVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            exit=\"exit\"\n            className=\"w-[380px] overflow-hidden rounded-2xl border border-border/40 bg-background/60 shadow-2xl backdrop-blur-xl ring-1 ring-white/10\"\n          >\n            {/* Header */}\n            <div className=\"relative border-b border-border/40 bg-muted/30 p-4 overflow-hidden\">\n              <div\n                className={cn(\n                  \"absolute inset-0 bg-gradient-to-br opacity-50\",\n                  currentAgent.gradient\n                )}\n              />\n              <div className=\"relative flex items-center justify-between z-10\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"relative\">\n                    <Avatar className=\"h-10 w-10 border-2 border-background shadow-sm\">\n                      <AvatarImage\n                        src={currentAgent.avatar}\n                        alt={currentAgent.name}\n                      />\n                      <AvatarFallback>AI</AvatarFallback>\n                    </Avatar>\n                    <span\n                      className={cn(\n                        \"absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-background\",\n                        currentAgent.status === \"online\"\n                          ? \"bg-emerald-500\"\n                          : currentAgent.status === \"busy\"\n                            ? \"bg-amber-500\"\n                            : \"bg-slate-400\"\n                      )}\n                    />\n                  </div>\n                  <div>\n                    <h3 className=\"text-sm font-semibold text-foreground\">\n                      {currentAgent.name}\n                    </h3>\n                    <div className=\"flex items-center gap-1.5\">\n                      <span className=\"text-xs text-muted-foreground\">\n                        {currentAgent.role}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-8 w-8 rounded-full hover:bg-background/50\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n\n            {/* Agent Selector */}\n            <div className=\"border-b border-border/40 p-3\">\n              <Select value={selectedAgent} onValueChange={setSelectedAgent}>\n                <SelectTrigger className=\"w-full border-none bg-transparent shadow-none focus:ring-0 focus:ring-offset-0 text-lg font-medium h-auto hover:bg-transparent px-2 py-6 cursor-pointer\">\n                  <SelectValue placeholder=\"Select an agent\" />\n                </SelectTrigger>\n                <SelectContent className=\"backdrop-blur-xl bg-background/90 border-border/40\">\n                  {AI_AGENTS.map((agent) => {\n                    const Icon = agent.icon;\n                    return (\n                      <SelectItem\n                        key={agent.id}\n                        value={agent.id}\n                        className=\"cursor-pointer focus:bg-primary/10\"\n                      >\n                        <div className=\"flex items-center gap-3 py-1\">\n                          <div\n                            className={cn(\n                              \"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br\",\n                              agent.gradient\n                            )}\n                          >\n                            <Icon className=\"h-4 w-4 text-foreground/80\" />\n                          </div>\n                          <div className=\"flex flex-col text-left\">\n                            <span className=\"text-sm font-medium\">\n                              {agent.name}\n                            </span>\n                            <span className=\"text-[10px] text-muted-foreground\">\n                              {agent.role}\n                            </span>\n                          </div>\n                        </div>\n                      </SelectItem>\n                    );\n                  })}\n                </SelectContent>\n              </Select>\n            </div>\n\n            {/* Chat Area */}\n            <div className=\"flex h-[320px] flex-col gap-4 overflow-y-auto p-4 bg-gradient-to-b from-background/20 to-background/40\">\n              <motion.div variants={messageVariants} className=\"flex gap-3\">\n                <Avatar className=\"h-8 w-8 border border-border/40 shadow-sm\">\n                  <AvatarImage src={currentAgent.avatar} />\n                  <AvatarFallback className=\"bg-primary/10 text-primary\">\n                    AI\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"flex max-w-[85%] flex-col gap-1\">\n                  <span className=\"text-xs font-medium text-muted-foreground\">\n                    {currentAgent.name}\n                  </span>\n                  <div className=\"rounded-2xl rounded-tl-none bg-muted/50 px-4 py-2.5 text-sm shadow-sm backdrop-blur-sm border border-border/20\">\n                    <p>\n                      Hello! I'm {currentAgent.name}. How can I assist you with\n                      your project today?\n                    </p>\n                  </div>\n                </div>\n              </motion.div>\n\n              {/* User Message Mock */}\n              <motion.div\n                variants={messageVariants}\n                className=\"flex flex-row-reverse gap-3 self-end\"\n              >\n                <Avatar className=\"h-8 w-8 border border-border/40 shadow-sm\">\n                  <AvatarImage src=\"https://github.com/shadcn.png\" />\n                  <AvatarFallback className=\"bg-primary text-primary-foreground font-semibold\">\n                    ME\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"flex max-w-[85%] flex-col items-end gap-1\">\n                  <div className=\"rounded-2xl rounded-tr-none bg-primary px-4 py-2.5 text-sm text-primary-foreground shadow-md\">\n                    <p>I need help optimizing my dashboard performance.</p>\n                  </div>\n                </div>\n              </motion.div>\n\n              {/* Typing Indicator Mock */}\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.5 }}\n                className=\"flex gap-3\"\n              >\n                <Avatar className=\"h-8 w-8 border border-border/40 shadow-sm\">\n                  <AvatarImage src={currentAgent.avatar} />\n                  <AvatarFallback className=\"bg-primary/10 text-primary\">\n                    AI\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"flex flex-col gap-1\">\n                  <div className=\"rounded-2xl rounded-tl-none bg-muted/50 px-4 py-3 shadow-sm backdrop-blur-sm border border-border/20 w-16 flex items-center justify-center gap-1\">\n                    <span className=\"h-1.5 w-1.5 rounded-full bg-foreground/40 animate-bounce [animation-delay:-0.3s]\" />\n                    <span className=\"h-1.5 w-1.5 rounded-full bg-foreground/40 animate-bounce [animation-delay:-0.15s]\" />\n                    <span className=\"h-1.5 w-1.5 rounded-full bg-foreground/40 animate-bounce\" />\n                  </div>\n                </div>\n              </motion.div>\n            </div>\n\n            {/* Input Area */}\n            <div className=\"border-t border-border/40 bg-background/60 p-3 backdrop-blur-md\">\n              <form\n                className=\"relative flex items-center gap-2\"\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  setMessage(\"\");\n                }}\n              >\n                <input\n                  type=\"text\"\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  placeholder={`Message ${currentAgent.name}...`}\n                  className=\"flex-1 rounded-full border border-border/40 bg-background/50 px-4 py-2.5 text-sm outline-none transition-all placeholder:text-muted-foreground focus:border-primary/50 focus:bg-background focus:ring-2 focus:ring-primary/10\"\n                />\n                <Button\n                  size=\"icon\"\n                  className=\"h-10 w-10 rounded-full bg-primary text-primary-foreground shadow-lg transition-transform hover:scale-105 hover:shadow-primary/25\"\n                  disabled={!message.trim()}\n                >\n                  <Send className=\"h-4 w-4\" />\n                </Button>\n              </form>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <motion.button\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        onClick={toggleOpen}\n        className={cn(\n          \"cursor-pointer group relative flex h-14 w-14 items-center justify-center rounded-full shadow-2xl transition-all duration-300\",\n          isOpen\n            ? \"bg-destructive text-destructive-foreground rotate-90\"\n            : \"bg-primary text-primary-foreground hover:shadow-primary/25\"\n        )}\n      >\n        <span className=\"absolute inset-0 -z-10 rounded-full bg-inherit opacity-20 blur-xl transition-opacity duration-300 group-hover:opacity-40\" />\n        {isOpen ? (\n          <X className=\"h-6 w-6 text-white\" />\n        ) : (\n          <MessageSquare className=\"h-6 w-6\" />\n        )}\n      </motion.button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAOA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;AAtBA;;;;;;;;AAkCA,MAAM,YAAqB;IACzB;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,MAAM,yNAAQ;QACd,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,MAAM,gNAAK;QACX,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,MAAM,0MAAG;QACT,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,MAAM,6MAAI;QACV,UAAU;IACZ;CACD;AAED,MAAM,oBAA8B;IAClC,QAAQ;QACN,SAAS;QACT,GAAG;QACH,OAAO;QACP,iBAAiB;IACnB;IACA,SAAS;QACP,SAAS;QACT,GAAG;QACH,OAAO;QACP,YAAY;YACV,MAAM;YACN,SAAS;YACT,WAAW;YACX,iBAAiB;QACnB;IACF;IACA,MAAM;QACJ,SAAS;QACT,GAAG;QACH,OAAO;QACP,YAAY;YACV,UAAU;QACZ;IACF;AACF;AAEA,MAAM,kBAA4B;IAChC,QAAQ;QAAE,SAAS;QAAG,GAAG;QAAI,GAAG,CAAC;IAAG;IACpC,SAAS;QACP,SAAS;QACT,GAAG;QACH,GAAG;QACH,YAAY;YAAE,MAAM;YAAU,WAAW;YAAK,SAAS;QAAG;IAC5D;AACF;AAEO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAS,SAAS,CAAC,EAAE,CAAC,EAAE;IAC1E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,sKAAK;IAEtB,MAAM,aAAa,IAAA,4KAAW;sDAAC,IAAM;8DAAU,CAAC,OAAS,CAAC;;qDAAO,EAAE;IAEnE,MAAM,eACJ,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,kBAAkB,SAAS,CAAC,EAAE;IAC/D,MAAM,YAAY,aAAa,IAAI;IAEnC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,+MAAe;0BACb,wBACC,6LAAC,uMAAM,CAAC,GAAG;oBAET,UAAU;oBACV,SAAQ;oBACR,SAAQ;oBACR,MAAK;oBACL,WAAU;;sCAGV,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,WAAW,IAAA,8IAAE,EACX,iDACA,aAAa,QAAQ;;;;;;8CAGzB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,iKAAM;4DAAC,WAAU;;8EAChB,6LAAC,sKAAW;oEACV,KAAK,aAAa,MAAM;oEACxB,KAAK,aAAa,IAAI;;;;;;8EAExB,6LAAC,yKAAc;8EAAC;;;;;;;;;;;;sEAElB,6LAAC;4DACC,WAAW,IAAA,8IAAE,EACX,6EACA,aAAa,MAAM,KAAK,WACpB,mBACA,aAAa,MAAM,KAAK,SACtB,iBACA;;;;;;;;;;;;8DAIZ,6LAAC;;sEACC,6LAAC;4DAAG,WAAU;sEACX,aAAa,IAAI;;;;;;sEAEpB,6LAAC;4DAAI,WAAU;sEACb,cAAA,6LAAC;gEAAK,WAAU;0EACb,aAAa,IAAI;;;;;;;;;;;;;;;;;;;;;;;sDAK1B,6LAAC,iKAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,UAAU;sDAEzB,cAAA,6LAAC,oMAAC;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAMnB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,iKAAM;gCAAC,OAAO;gCAAe,eAAe;;kDAC3C,6LAAC,wKAAa;wCAAC,WAAU;kDACvB,cAAA,6LAAC,sKAAW;4CAAC,aAAY;;;;;;;;;;;kDAE3B,6LAAC,wKAAa;wCAAC,WAAU;kDACtB,UAAU,GAAG,CAAC,CAAC;4CACd,MAAM,OAAO,MAAM,IAAI;4CACvB,qBACE,6LAAC,qKAAU;gDAET,OAAO,MAAM,EAAE;gDACf,WAAU;0DAEV,cAAA,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DACC,WAAW,IAAA,8IAAE,EACX,yEACA,MAAM,QAAQ;sEAGhB,cAAA,6LAAC;gEAAK,WAAU;;;;;;;;;;;sEAElB,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAK,WAAU;8EACb,MAAM,IAAI;;;;;;8EAEb,6LAAC;oEAAK,WAAU;8EACb,MAAM,IAAI;;;;;;;;;;;;;;;;;;+CAlBZ,MAAM,EAAE;;;;;wCAwBnB;;;;;;;;;;;;;;;;;sCAMN,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,uMAAM,CAAC,GAAG;oCAAC,UAAU;oCAAiB,WAAU;;sDAC/C,6LAAC,iKAAM;4CAAC,WAAU;;8DAChB,6LAAC,sKAAW;oDAAC,KAAK,aAAa,MAAM;;;;;;8DACrC,6LAAC,yKAAc;oDAAC,WAAU;8DAA6B;;;;;;;;;;;;sDAIzD,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DACb,aAAa,IAAI;;;;;;8DAEpB,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC;;4DAAE;4DACW,aAAa,IAAI;4DAAC;;;;;;;;;;;;;;;;;;;;;;;;8CAQtC,6LAAC,uMAAM,CAAC,GAAG;oCACT,UAAU;oCACV,WAAU;;sDAEV,6LAAC,iKAAM;4CAAC,WAAU;;8DAChB,6LAAC,sKAAW;oDAAC,KAAI;;;;;;8DACjB,6LAAC,yKAAc;oDAAC,WAAU;8DAAmD;;;;;;;;;;;;sDAI/E,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;8DAAE;;;;;;;;;;;;;;;;;;;;;;8CAMT,6LAAC,uMAAM,CAAC,GAAG;oCACT,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAG;oCAC7B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,YAAY;wCAAE,OAAO;oCAAI;oCACzB,WAAU;;sDAEV,6LAAC,iKAAM;4CAAC,WAAU;;8DAChB,6LAAC,sKAAW;oDAAC,KAAK,aAAa,MAAM;;;;;;8DACrC,6LAAC,yKAAc;oDAAC,WAAU;8DAA6B;;;;;;;;;;;;sDAIzD,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAK,WAAU;;;;;;kEAChB,6LAAC;wDAAK,WAAU;;;;;;kEAChB,6LAAC;wDAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAOxB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,WAAU;gCACV,UAAU,CAAC;oCACT,EAAE,cAAc;oCAChB,WAAW;gCACb;;kDAEA,6LAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC1C,aAAa,CAAC,QAAQ,EAAE,aAAa,IAAI,CAAC,GAAG,CAAC;wCAC9C,WAAU;;;;;;kDAEZ,6LAAC,iKAAM;wCACL,MAAK;wCACL,WAAU;wCACV,UAAU,CAAC,QAAQ,IAAI;kDAEvB,cAAA,6LAAC,6MAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;mBAtLlB;;;;;;;;;;0BA8LV,6LAAC,uMAAM,CAAC,MAAM;gBACZ,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;gBACxB,SAAS;gBACT,WAAW,IAAA,8IAAE,EACX,gIACA,SACI,yDACA;;kCAGN,6LAAC;wBAAK,WAAU;;;;;;oBACf,uBACC,6LAAC,oMAAC;wBAAC,WAAU;;;;;6CAEb,6LAAC,4OAAa;wBAAC,WAAU;;;;;;;;;;;;;;;;;;AAKnC;GAnOgB;;QAIG,sKAAK;;;KAJR"}}]
}