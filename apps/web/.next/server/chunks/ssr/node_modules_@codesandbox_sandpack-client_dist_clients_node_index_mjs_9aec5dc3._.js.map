{"version":3,"sources":["../../../../../../node_modules/%40codesandbox/sandpack-client/dist/clients/node/index.mjs","../../../../../../node_modules/%40codesandbox/nodebox/build/index.mjs"],"sourcesContent":["import { _ as __awaiter, a as __generator, n as nullthrows, c as createError, g as __extends, h as __assign } from '../../utils-52664384.mjs';\nimport { INJECT_MESSAGE_TYPE, Nodebox, PREVIEW_LOADED_MESSAGE_TYPE } from '@codesandbox/nodebox';\nimport { S as SandpackClient } from '../../base-80a1f760.mjs';\nimport { c as consoleHook, f as fromBundlerFilesToFS, r as readBuffer, w as writeBuffer, g as generateRandomId, E as EventEmitter, a as getMessageFromError, b as findStartScriptPackageJson } from '../../consoleHook-59e792cb.mjs';\nimport 'outvariant';\nimport 'dequal';\n\nfunction loadPreviewIframe(iframe, url) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentWindow, TIME_OUT, MAX_MANY_TIRES, tries, timeout;\n        return __generator(this, function (_a) {\n            contentWindow = iframe.contentWindow;\n            nullthrows(contentWindow, \"Failed to await preview iframe: no content window found\");\n            TIME_OUT = 90000;\n            MAX_MANY_TIRES = 20;\n            tries = 0;\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    var triesToSetUrl = function () {\n                        var onLoadPage = function () {\n                            clearTimeout(timeout);\n                            tries = MAX_MANY_TIRES;\n                            resolve();\n                            iframe.removeEventListener(\"load\", onLoadPage);\n                        };\n                        if (tries >= MAX_MANY_TIRES) {\n                            reject(createError(\"Could not able to connect to preview.\"));\n                            return;\n                        }\n                        iframe.setAttribute(\"src\", url);\n                        timeout = setTimeout(function () {\n                            triesToSetUrl();\n                            iframe.removeEventListener(\"load\", onLoadPage);\n                        }, TIME_OUT);\n                        tries = tries + 1;\n                        iframe.addEventListener(\"load\", onLoadPage);\n                    };\n                    iframe.addEventListener(\"error\", function () { return reject(new Error(\"Iframe error\")); });\n                    iframe.addEventListener(\"abort\", function () { return reject(new Error(\"Aborted\")); });\n                    triesToSetUrl();\n                })];\n        });\n    });\n}\nvar setPreviewIframeProperties = function (iframe, options) {\n    iframe.style.border = \"0\";\n    iframe.style.width = options.width || \"100%\";\n    iframe.style.height = options.height || \"100%\";\n    iframe.style.overflow = \"hidden\";\n    iframe.allow = \"cross-origin-isolated\";\n};\n\n/* eslint-disable @typescript-eslint/ban-ts-comment, @typescript-eslint/explicit-function-return-type, no-restricted-globals, @typescript-eslint/no-explicit-any  */\nfunction setupHistoryListeners(_a) {\n    var scope = _a.scope;\n    // @ts-ignore\n    var origHistoryProto = window.history.__proto__;\n    var historyList = [];\n    var historyPosition = 0;\n    var dispatchMessage = function (url) {\n        parent.postMessage({\n            type: \"urlchange\",\n            url: url,\n            back: historyPosition > 0,\n            forward: historyPosition < historyList.length - 1,\n            channelId: scope.channelId,\n        }, \"*\");\n    };\n    function pushHistory(url, state) {\n        // remove \"future\" locations\n        historyList.splice(historyPosition + 1);\n        historyList.push({ url: url, state: state });\n        historyPosition = historyList.length - 1;\n    }\n    Object.assign(window.history, {\n        go: function (delta) {\n            var newPos = historyPosition + delta;\n            if (newPos >= 0 && newPos <= historyList.length - 1) {\n                historyPosition = newPos;\n                var _a = historyList[historyPosition], url = _a.url, state = _a.state;\n                origHistoryProto.replaceState.call(window.history, state, \"\", url);\n                var newURL = document.location.href;\n                dispatchMessage(newURL);\n                window.dispatchEvent(new PopStateEvent(\"popstate\", { state: state }));\n            }\n        },\n        back: function () {\n            window.history.go(-1);\n        },\n        forward: function () {\n            window.history.go(1);\n        },\n        pushState: function (state, title, url) {\n            origHistoryProto.replaceState.call(window.history, state, title, url);\n            pushHistory(url, state);\n            dispatchMessage(document.location.href);\n        },\n        replaceState: function (state, title, url) {\n            origHistoryProto.replaceState.call(window.history, state, title, url);\n            historyList[historyPosition] = { state: state, url: url };\n            dispatchMessage(document.location.href);\n        },\n    });\n    function handleMessage(_a) {\n        var data = _a.data;\n        if (data.type === \"urlback\") {\n            history.back();\n        }\n        else if (data.type === \"urlforward\") {\n            history.forward();\n        }\n        else if (data.type === \"refresh\") {\n            document.location.reload();\n        }\n    }\n    window.addEventListener(\"message\", handleMessage);\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction watchResize(_a) {\n    var scope = _a.scope;\n    var lastHeight = 0;\n    function getDocumentHeight() {\n        if (typeof window === \"undefined\")\n            return 0;\n        var body = document.body;\n        var html = document.documentElement;\n        return Math.max(body.scrollHeight, body.offsetHeight, html.offsetHeight);\n    }\n    function sendResizeEvent() {\n        var height = getDocumentHeight();\n        if (lastHeight !== height) {\n            window.parent.postMessage({\n                type: \"resize\",\n                height: height,\n                codesandbox: true,\n                channelId: scope.channelId,\n            }, \"*\");\n        }\n        lastHeight = height;\n    }\n    sendResizeEvent();\n    var throttle;\n    var observer = new MutationObserver(function () {\n        if (throttle === undefined) {\n            sendResizeEvent();\n            throttle = setTimeout(function () {\n                throttle = undefined;\n            }, 300);\n        }\n    });\n    observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true,\n    });\n    /**\n     * Ideally we should only use a `MutationObserver` to trigger a resize event,\n     * however, we noted that it's not 100% reliable, so we went for polling strategy as well\n     */\n    setInterval(sendResizeEvent, 300);\n}\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nvar scripts = [\n    { code: setupHistoryListeners.toString(), id: \"historyListener\" },\n    {\n        code: \"function consoleHook({ scope }) {\" + consoleHook + \"\\n};\",\n        id: \"consoleHook\",\n    },\n    { code: watchResize.toString(), id: \"watchResize\" },\n];\nvar injectScriptToIframe = function (iframe, channelId) {\n    scripts.forEach(function (_a) {\n        var _b;\n        var code = _a.code, id = _a.id;\n        var message = {\n            uid: id,\n            type: INJECT_MESSAGE_TYPE,\n            code: \"exports.activate = \".concat(code),\n            scope: { channelId: channelId },\n        };\n        (_b = iframe.contentWindow) === null || _b === void 0 ? void 0 : _b.postMessage(message, \"*\");\n    });\n};\n\n/* eslint-disable no-console,@typescript-eslint/no-explicit-any,prefer-rest-params,@typescript-eslint/explicit-module-boundary-types */\nvar SandpackNode = /** @class */ (function (_super) {\n    __extends(SandpackNode, _super);\n    function SandpackNode(selector, sandboxInfo, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, selector, sandboxInfo, __assign(__assign({}, options), { bundlerURL: options.bundlerURL })) || this;\n        _this._modulesCache = new Map();\n        _this.messageChannelId = generateRandomId();\n        _this._initPromise = null;\n        _this.emitter = new EventEmitter();\n        // Assign iframes\n        _this.manageIframes(selector);\n        // Init emulator\n        _this.emulator = new Nodebox({\n            iframe: _this.emulatorIframe,\n            runtimeUrl: _this.options.bundlerURL,\n        });\n        // Trigger initial compile\n        _this.updateSandbox(sandboxInfo);\n        return _this;\n    }\n    // Initialize nodebox, should only ever be called once\n    SandpackNode.prototype._init = function (files) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.emulator.connect()];\n                    case 1:\n                        _a.sent();\n                        // 2. Setup\n                        return [4 /*yield*/, this.emulator.fs.init(files)];\n                    case 2:\n                        // 2. Setup\n                        _a.sent();\n                        // 2.1 Other dependencies\n                        return [4 /*yield*/, this.globalListeners()];\n                    case 3:\n                        // 2.1 Other dependencies\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * It initializes the emulator and provide it with files, template and script to run\n     */\n    SandpackNode.prototype.compile = function (files) {\n        return __awaiter(this, void 0, void 0, function () {\n            var shellId, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 5, , 6]);\n                        // 1. Init\n                        this.status = \"initializing\";\n                        this.dispatch({ type: \"start\", firstLoad: true });\n                        if (!this._initPromise) {\n                            this._initPromise = this._init(files);\n                        }\n                        return [4 /*yield*/, this._initPromise];\n                    case 1:\n                        _a.sent();\n                        this.dispatch({ type: \"connected\" });\n                        return [4 /*yield*/, this.createShellProcessFromTask(files)];\n                    case 2:\n                        shellId = (_a.sent()).id;\n                        // 4. Launch Preview\n                        return [4 /*yield*/, this.createPreviewURLFromId(shellId)];\n                    case 3:\n                        // 4. Launch Preview\n                        _a.sent();\n                        return [4 /*yield*/, this.setLocationURLIntoIFrame()];\n                    case 4:\n                        _a.sent();\n                        // 5. Returns to consumer\n                        this.dispatchDoneMessage();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        err_1 = _a.sent();\n                        this.dispatch({\n                            type: \"action\",\n                            action: \"notification\",\n                            notificationType: \"error\",\n                            title: getMessageFromError(err_1),\n                        });\n                        this.dispatch({ type: \"done\", compilatonError: true });\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * It creates a new shell and run the starting task\n     */\n    SandpackNode.prototype.createShellProcessFromTask = function (files) {\n        return __awaiter(this, void 0, void 0, function () {\n            var packageJsonContent;\n            var _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        packageJsonContent = readBuffer(files[\"/package.json\"]);\n                        this.emulatorCommand = findStartScriptPackageJson(packageJsonContent);\n                        this.emulatorShellProcess = this.emulator.shell.create();\n                        // Shell listeners\n                        return [4 /*yield*/, this.emulatorShellProcess.on(\"exit\", function (exitCode) {\n                                _this.dispatch({\n                                    type: \"action\",\n                                    action: \"notification\",\n                                    notificationType: \"error\",\n                                    title: createError(\"Error: process.exit(\".concat(exitCode, \") called.\")),\n                                });\n                            })];\n                    case 1:\n                        // Shell listeners\n                        _b.sent();\n                        return [4 /*yield*/, this.emulatorShellProcess.on(\"progress\", function (data) {\n                                var _a, _b;\n                                if (data.state === \"command_running\" ||\n                                    data.state === \"starting_command\") {\n                                    _this.dispatch({\n                                        type: \"shell/progress\",\n                                        data: __assign(__assign({}, data), { command: [\n                                                (_a = _this.emulatorCommand) === null || _a === void 0 ? void 0 : _a[0],\n                                                (_b = _this.emulatorCommand) === null || _b === void 0 ? void 0 : _b[1].join(\" \"),\n                                            ].join(\" \") }),\n                                    });\n                                    _this.status = \"installing-dependencies\";\n                                    return;\n                                }\n                                _this.dispatch({ type: \"shell/progress\", data: data });\n                            })];\n                    case 2:\n                        _b.sent();\n                        this.emulatorShellProcess.stdout.on(\"data\", function (data) {\n                            _this.dispatch({ type: \"stdout\", payload: { data: data, type: \"out\" } });\n                        });\n                        this.emulatorShellProcess.stderr.on(\"data\", function (data) {\n                            _this.dispatch({ type: \"stdout\", payload: { data: data, type: \"err\" } });\n                        });\n                        return [4 /*yield*/, (_a = this.emulatorShellProcess).runCommand.apply(_a, this.emulatorCommand)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                }\n            });\n        });\n    };\n    SandpackNode.prototype.createPreviewURLFromId = function (id) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var url;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.iframePreviewUrl = undefined;\n                        return [4 /*yield*/, this.emulator.preview.getByShellId(id)];\n                    case 1:\n                        url = (_b.sent()).url;\n                        this.iframePreviewUrl = url + ((_a = this.options.startRoute) !== null && _a !== void 0 ? _a : \"\");\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Nodebox needs to handle two types of iframes at the same time:\n     *\n     * 1. Runtime iframe: where the emulator process runs, which is responsible\n     *    for creating the other iframes (hidden);\n     * 2. Preview iframes: any other node process that contains a PORT (public);\n     */\n    SandpackNode.prototype.manageIframes = function (selector) {\n        var _a;\n        /**\n         * Pick the preview iframe\n         */\n        if (typeof selector === \"string\") {\n            var element = document.querySelector(selector);\n            nullthrows(element, \"The element '\".concat(selector, \"' was not found\"));\n            this.iframe = document.createElement(\"iframe\");\n            element === null || element === void 0 ? void 0 : element.appendChild(this.iframe);\n        }\n        else {\n            this.iframe = selector;\n        }\n        // Set preview iframe styles\n        setPreviewIframeProperties(this.iframe, this.options);\n        nullthrows(this.iframe.parentNode, \"The given iframe does not have a parent.\");\n        /**\n         * Create the runtime iframe, which is hidden sibling\n         * from the preview one\n         */\n        this.emulatorIframe = document.createElement(\"iframe\");\n        this.emulatorIframe.classList.add(\"sp-bridge-frame\");\n        (_a = this.iframe.parentNode) === null || _a === void 0 ? void 0 : _a.appendChild(this.emulatorIframe);\n    };\n    SandpackNode.prototype.setLocationURLIntoIFrame = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.iframePreviewUrl) return [3 /*break*/, 2];\n                        return [4 /*yield*/, loadPreviewIframe(this.iframe, this.iframePreviewUrl)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Send all messages and events to tell to the\n     * consumer that the bundler is ready without any error\n     */\n    SandpackNode.prototype.dispatchDoneMessage = function () {\n        this.status = \"done\";\n        this.dispatch({ type: \"done\", compilatonError: false });\n        if (this.iframePreviewUrl) {\n            this.dispatch({\n                type: \"urlchange\",\n                url: this.iframePreviewUrl,\n                back: false,\n                forward: false,\n            });\n        }\n    };\n    SandpackNode.prototype.globalListeners = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        window.addEventListener(\"message\", function (event) {\n                            if (event.data.type === PREVIEW_LOADED_MESSAGE_TYPE) {\n                                injectScriptToIframe(_this.iframe, _this.messageChannelId);\n                            }\n                            if (event.data.type === \"urlchange\" &&\n                                event.data.channelId === _this.messageChannelId) {\n                                _this.dispatch({\n                                    type: \"urlchange\",\n                                    url: event.data.url,\n                                    back: event.data.back,\n                                    forward: event.data.forward,\n                                });\n                            }\n                            else if (event.data.channelId === _this.messageChannelId) {\n                                _this.dispatch(event.data);\n                            }\n                        });\n                        return [4 /*yield*/, this.emulator.fs.watch([\"*\"], [\n                                \".next\",\n                                \"node_modules\",\n                                \"build\",\n                                \"dist\",\n                                \"vendor\",\n                                \".config\",\n                                \".vuepress\",\n                            ], function (message) { return __awaiter(_this, void 0, void 0, function () {\n                                var event, path, type, _a, content, newContent, err_2;\n                                return __generator(this, function (_b) {\n                                    switch (_b.label) {\n                                        case 0:\n                                            if (!message)\n                                                return [2 /*return*/];\n                                            event = message;\n                                            path = \"newPath\" in event\n                                                ? event.newPath\n                                                : \"path\" in event\n                                                    ? event.path\n                                                    : \"\";\n                                            return [4 /*yield*/, this.emulator.fs.stat(path)];\n                                        case 1:\n                                            type = (_b.sent()).type;\n                                            if (type !== \"file\")\n                                                return [2 /*return*/, null];\n                                            _b.label = 2;\n                                        case 2:\n                                            _b.trys.push([2, 10, , 11]);\n                                            _a = event.type;\n                                            switch (_a) {\n                                                case \"change\": return [3 /*break*/, 3];\n                                                case \"create\": return [3 /*break*/, 3];\n                                                case \"remove\": return [3 /*break*/, 5];\n                                                case \"rename\": return [3 /*break*/, 6];\n                                                case \"close\": return [3 /*break*/, 8];\n                                            }\n                                            return [3 /*break*/, 9];\n                                        case 3: return [4 /*yield*/, this.emulator.fs.readFile(event.path, \"utf8\")];\n                                        case 4:\n                                            content = _b.sent();\n                                            this.dispatch({\n                                                type: \"fs/change\",\n                                                path: event.path,\n                                                content: content,\n                                            });\n                                            this._modulesCache.set(event.path, writeBuffer(content));\n                                            return [3 /*break*/, 9];\n                                        case 5:\n                                            this.dispatch({\n                                                type: \"fs/remove\",\n                                                path: event.path,\n                                            });\n                                            this._modulesCache.delete(event.path);\n                                            return [3 /*break*/, 9];\n                                        case 6:\n                                            this.dispatch({\n                                                type: \"fs/remove\",\n                                                path: event.oldPath,\n                                            });\n                                            this._modulesCache.delete(event.oldPath);\n                                            return [4 /*yield*/, this.emulator.fs.readFile(event.newPath, \"utf8\")];\n                                        case 7:\n                                            newContent = _b.sent();\n                                            this.dispatch({\n                                                type: \"fs/change\",\n                                                path: event.newPath,\n                                                content: newContent,\n                                            });\n                                            this._modulesCache.set(event.newPath, writeBuffer(newContent));\n                                            return [3 /*break*/, 9];\n                                        case 8: return [3 /*break*/, 9];\n                                        case 9: return [3 /*break*/, 11];\n                                        case 10:\n                                            err_2 = _b.sent();\n                                            this.dispatch({\n                                                type: \"action\",\n                                                action: \"notification\",\n                                                notificationType: \"error\",\n                                                title: getMessageFromError(err_2),\n                                            });\n                                            return [3 /*break*/, 11];\n                                        case 11: return [2 /*return*/];\n                                    }\n                                });\n                            }); })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * PUBLIC Methods\n     */\n    SandpackNode.prototype.restartShellProcess = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(this.emulatorShellProcess && this.emulatorCommand)) return [3 /*break*/, 3];\n                        // 1. Set the loading state and clean the URL\n                        this.dispatch({ type: \"start\", firstLoad: true });\n                        this.status = \"initializing\";\n                        // 2. Exit shell\n                        return [4 /*yield*/, this.emulatorShellProcess.kill()];\n                    case 1:\n                        // 2. Exit shell\n                        _b.sent();\n                        (_a = this.iframe) === null || _a === void 0 ? void 0 : _a.removeAttribute(\"attr\");\n                        this.emulator.fs.rm(\"/node_modules/.vite\", {\n                            recursive: true,\n                            force: true,\n                        });\n                        // 3 Run command again\n                        return [4 /*yield*/, this.compile(Object.fromEntries(this._modulesCache))];\n                    case 2:\n                        // 3 Run command again\n                        _b.sent();\n                        _b.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SandpackNode.prototype.updateSandbox = function (setup) {\n        var _this = this;\n        var _a;\n        var modules = fromBundlerFilesToFS(setup.files);\n        /**\n         * Update file changes\n         */\n        if (((_a = this.emulatorShellProcess) === null || _a === void 0 ? void 0 : _a.state) === \"running\") {\n            Object.entries(modules).forEach(function (_a) {\n                var key = _a[0], value = _a[1];\n                if (!_this._modulesCache.get(key) ||\n                    readBuffer(value) !== readBuffer(_this._modulesCache.get(key))) {\n                    _this.emulator.fs.writeFile(key, value, { recursive: true });\n                }\n            });\n            return;\n        }\n        /**\n         * Pass init files to the bundler\n         */\n        this.dispatch({\n            codesandbox: true,\n            modules: modules,\n            template: setup.template,\n            type: \"compile\",\n        });\n        /**\n         * Add modules to cache, this will ensure uniqueness changes\n         *\n         * Keep it after the compile action, in order to update the cache at the right moment\n         */\n        Object.entries(modules).forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            _this._modulesCache.set(key, writeBuffer(value));\n        });\n    };\n    SandpackNode.prototype.dispatch = function (message) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _c = message.type;\n                        switch (_c) {\n                            case \"compile\": return [3 /*break*/, 1];\n                            case \"refresh\": return [3 /*break*/, 2];\n                            case \"urlback\": return [3 /*break*/, 4];\n                            case \"urlforward\": return [3 /*break*/, 4];\n                            case \"shell/restart\": return [3 /*break*/, 5];\n                            case \"shell/openPreview\": return [3 /*break*/, 6];\n                        }\n                        return [3 /*break*/, 7];\n                    case 1:\n                        this.compile(message.modules);\n                        return [3 /*break*/, 8];\n                    case 2: return [4 /*yield*/, this.setLocationURLIntoIFrame()];\n                    case 3:\n                        _d.sent();\n                        return [3 /*break*/, 8];\n                    case 4:\n                        (_b = (_a = this.iframe) === null || _a === void 0 ? void 0 : _a.contentWindow) === null || _b === void 0 ? void 0 : _b.postMessage(message, \"*\");\n                        return [3 /*break*/, 8];\n                    case 5:\n                        this.restartShellProcess();\n                        return [3 /*break*/, 8];\n                    case 6:\n                        window.open(this.iframePreviewUrl, \"_blank\");\n                        return [3 /*break*/, 8];\n                    case 7:\n                        this.emitter.dispatch(message);\n                        _d.label = 8;\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SandpackNode.prototype.listen = function (listener) {\n        return this.emitter.listener(listener);\n    };\n    SandpackNode.prototype.destroy = function () {\n        this.emulatorIframe.remove();\n        this.emitter.cleanup();\n    };\n    return SandpackNode;\n}(SandpackClient));\n\nexport { SandpackNode };\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\n\n// ../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/pad.js\nvar require_pad = __commonJS({\n  \"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/pad.js\"(exports, module) {\n    module.exports = function pad(num, size) {\n      var s = \"000000000\" + num;\n      return s.substr(s.length - size);\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/fingerprint.browser.js\nvar require_fingerprint_browser = __commonJS({\n  \"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/fingerprint.browser.js\"(exports, module) {\n    var pad = require_pad();\n    var env = typeof window === \"object\" ? window : self;\n    var globalCount = Object.keys(env).length;\n    var mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\n    var clientId = pad((mimeTypesLength + navigator.userAgent.length).toString(36) + globalCount.toString(36), 4);\n    module.exports = function fingerprint() {\n      return clientId;\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/getRandomValue.browser.js\nvar require_getRandomValue_browser = __commonJS({\n  \"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/lib/getRandomValue.browser.js\"(exports, module) {\n    var getRandomValue;\n    var crypto = typeof window !== \"undefined\" && (window.crypto || window.msCrypto) || typeof self !== \"undefined\" && self.crypto;\n    if (crypto) {\n      lim = Math.pow(2, 32) - 1;\n      getRandomValue = function() {\n        return Math.abs(crypto.getRandomValues(new Uint32Array(1))[0] / lim);\n      };\n    } else {\n      getRandomValue = Math.random;\n    }\n    var lim;\n    module.exports = getRandomValue;\n  }\n});\n\n// ../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/index.js\nvar require_cuid = __commonJS({\n  \"../../node_modules/.pnpm/cuid@2.1.8/node_modules/cuid/index.js\"(exports, module) {\n    var fingerprint = require_fingerprint_browser();\n    var pad = require_pad();\n    var getRandomValue = require_getRandomValue_browser();\n    var c = 0;\n    var blockSize = 4;\n    var base = 36;\n    var discreteValues = Math.pow(base, blockSize);\n    function randomBlock() {\n      return pad((getRandomValue() * discreteValues << 0).toString(base), blockSize);\n    }\n    function safeCounter() {\n      c = c < discreteValues ? c : 0;\n      c++;\n      return c - 1;\n    }\n    function cuid3() {\n      var letter = \"c\", timestamp = new Date().getTime().toString(base), counter = pad(safeCounter().toString(base), blockSize), print = fingerprint(), random = randomBlock() + randomBlock();\n      return letter + timestamp + counter + print + random;\n    }\n    cuid3.slug = function slug() {\n      var date = new Date().getTime().toString(36), counter = safeCounter().toString(36).slice(-4), print = fingerprint().slice(0, 1) + fingerprint().slice(-1), random = randomBlock().slice(-2);\n      return date.slice(-2) + counter + print + random;\n    };\n    cuid3.isCuid = function isCuid(stringToCheck) {\n      if (typeof stringToCheck !== \"string\")\n        return false;\n      if (stringToCheck.startsWith(\"c\"))\n        return true;\n      return false;\n    };\n    cuid3.isSlug = function isSlug(stringToCheck) {\n      if (typeof stringToCheck !== \"string\")\n        return false;\n      var stringLength = stringToCheck.length;\n      if (stringLength >= 7 && stringLength <= 10)\n        return true;\n      return false;\n    };\n    cuid3.fingerprint = fingerprint;\n    module.exports = cuid3;\n  }\n});\n\n// ../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/createDeferredExecutor.js\nvar require_createDeferredExecutor = __commonJS({\n  \"../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/createDeferredExecutor.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.createDeferredExecutor = void 0;\n    function createDeferredExecutor() {\n      const executor = (resolve, reject) => {\n        executor.state = \"pending\";\n        executor.resolve = (data) => {\n          if (executor.state !== \"pending\") {\n            return;\n          }\n          executor.result = data;\n          const onFulfilled = (value) => {\n            executor.state = \"fulfilled\";\n            return value;\n          };\n          return resolve(data instanceof Promise ? data : Promise.resolve(data).then(onFulfilled));\n        };\n        executor.reject = (reason) => {\n          if (executor.state !== \"pending\") {\n            return;\n          }\n          queueMicrotask(() => {\n            executor.state = \"rejected\";\n          });\n          return reject(executor.rejectionReason = reason);\n        };\n      };\n      return executor;\n    }\n    exports.createDeferredExecutor = createDeferredExecutor;\n  }\n});\n\n// ../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/DeferredPromise.js\nvar require_DeferredPromise = __commonJS({\n  \"../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/DeferredPromise.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.DeferredPromise = void 0;\n    var createDeferredExecutor_1 = require_createDeferredExecutor();\n    var DeferredPromise4 = class extends Promise {\n      #executor;\n      resolve;\n      reject;\n      constructor(executor = null) {\n        const deferredExecutor = (0, createDeferredExecutor_1.createDeferredExecutor)();\n        super((originalResolve, originalReject) => {\n          deferredExecutor(originalResolve, originalReject);\n          executor?.(deferredExecutor.resolve, deferredExecutor.reject);\n        });\n        this.#executor = deferredExecutor;\n        this.resolve = this.#executor.resolve;\n        this.reject = this.#executor.reject;\n      }\n      get state() {\n        return this.#executor.state;\n      }\n      get rejectionReason() {\n        return this.#executor.rejectionReason;\n      }\n      then(onFulfilled, onRejected) {\n        return this.#decorate(super.then(onFulfilled, onRejected));\n      }\n      catch(onRejected) {\n        return this.#decorate(super.catch(onRejected));\n      }\n      finally(onfinally) {\n        return this.#decorate(super.finally(onfinally));\n      }\n      #decorate(promise) {\n        return Object.defineProperties(promise, {\n          resolve: { configurable: true, value: this.resolve },\n          reject: { configurable: true, value: this.reject }\n        });\n      }\n    };\n    exports.DeferredPromise = DeferredPromise4;\n  }\n});\n\n// ../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/index.js\nvar require_build = __commonJS({\n  \"../../node_modules/.pnpm/@open-draft+deferred-promise@2.1.0/node_modules/@open-draft/deferred-promise/build/index.js\"(exports) {\n    \"use strict\";\n    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      var desc = Object.getOwnPropertyDescriptor(m, k);\n      if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = { enumerable: true, get: function() {\n          return m[k];\n        } };\n      }\n      Object.defineProperty(o, k2, desc);\n    } : function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      o[k2] = m[k];\n    });\n    var __exportStar = exports && exports.__exportStar || function(m, exports2) {\n      for (var p in m)\n        if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports2, p))\n          __createBinding(exports2, m, p);\n    };\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __exportStar(require_createDeferredExecutor(), exports);\n    __exportStar(require_DeferredPromise(), exports);\n  }\n});\n\n// ../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/MemoryLeakError.js\nvar require_MemoryLeakError = __commonJS({\n  \"../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/MemoryLeakError.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.MemoryLeakError = void 0;\n    var MemoryLeakError = class extends Error {\n      emitter;\n      type;\n      count;\n      constructor(emitter, type, count) {\n        super(`Possible EventEmitter memory leak detected. ${count} ${type.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`);\n        this.emitter = emitter;\n        this.type = type;\n        this.count = count;\n        this.name = \"MaxListenersExceededWarning\";\n      }\n    };\n    exports.MemoryLeakError = MemoryLeakError;\n  }\n});\n\n// ../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/Emitter.js\nvar require_Emitter = __commonJS({\n  \"../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/Emitter.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.Emitter = void 0;\n    var MemoryLeakError_1 = require_MemoryLeakError();\n    var _events, _maxListeners, _hasWarnedAboutPotentialMemortyLeak, _getListeners, getListeners_fn, _removeListener, removeListener_fn, _wrapOnceListener, wrapOnceListener_fn, _internalEmit, internalEmit_fn;\n    var _Emitter = class {\n      constructor() {\n        __privateAdd(this, _getListeners);\n        __privateAdd(this, _removeListener);\n        __privateAdd(this, _wrapOnceListener);\n        __privateAdd(this, _internalEmit);\n        __privateAdd(this, _events, void 0);\n        __privateAdd(this, _maxListeners, void 0);\n        __privateAdd(this, _hasWarnedAboutPotentialMemortyLeak, void 0);\n        __privateSet(this, _events, /* @__PURE__ */ new Map());\n        __privateSet(this, _maxListeners, _Emitter.defaultMaxListeners);\n        __privateSet(this, _hasWarnedAboutPotentialMemortyLeak, false);\n      }\n      static listenerCount(emitter, eventName) {\n        return emitter.listenerCount(eventName);\n      }\n      setMaxListeners(maxListeners) {\n        __privateSet(this, _maxListeners, maxListeners);\n        return this;\n      }\n      getMaxListeners() {\n        return __privateGet(this, _maxListeners);\n      }\n      eventNames() {\n        return Array.from(__privateGet(this, _events).keys());\n      }\n      emit(eventName, ...data) {\n        const listeners = __privateMethod(this, _getListeners, getListeners_fn).call(this, eventName);\n        listeners.forEach((listener) => {\n          listener.apply(this, data);\n        });\n        return listeners.length > 0;\n      }\n      addListener(eventName, listener) {\n        __privateMethod(this, _internalEmit, internalEmit_fn).call(this, \"newListener\", eventName, listener);\n        const nextListeners = __privateMethod(this, _getListeners, getListeners_fn).call(this, eventName).concat(listener);\n        __privateGet(this, _events).set(eventName, nextListeners);\n        if (__privateGet(this, _maxListeners) > 0 && this.listenerCount(eventName) > __privateGet(this, _maxListeners) && !__privateGet(this, _hasWarnedAboutPotentialMemortyLeak)) {\n          __privateSet(this, _hasWarnedAboutPotentialMemortyLeak, true);\n          const memoryLeakWarning = new MemoryLeakError_1.MemoryLeakError(this, eventName, this.listenerCount(eventName));\n          console.warn(memoryLeakWarning);\n        }\n        return this;\n      }\n      on(eventName, listener) {\n        return this.addListener(eventName, listener);\n      }\n      once(eventName, listener) {\n        return this.addListener(eventName, __privateMethod(this, _wrapOnceListener, wrapOnceListener_fn).call(this, eventName, listener));\n      }\n      prependListener(eventName, listener) {\n        const listeners = __privateMethod(this, _getListeners, getListeners_fn).call(this, eventName);\n        if (listeners.length > 0) {\n          const nextListeners = [listener].concat(listeners);\n          __privateGet(this, _events).set(eventName, nextListeners);\n        } else {\n          __privateGet(this, _events).set(eventName, listeners.concat(listener));\n        }\n        return this;\n      }\n      prependOnceListener(eventName, listener) {\n        return this.prependListener(eventName, __privateMethod(this, _wrapOnceListener, wrapOnceListener_fn).call(this, eventName, listener));\n      }\n      removeListener(eventName, listener) {\n        const listeners = __privateMethod(this, _getListeners, getListeners_fn).call(this, eventName);\n        if (listeners.length > 0) {\n          __privateMethod(this, _removeListener, removeListener_fn).call(this, listeners, listener);\n          __privateGet(this, _events).set(eventName, listeners);\n          __privateMethod(this, _internalEmit, internalEmit_fn).call(this, \"removeListener\", eventName, listener);\n        }\n        return this;\n      }\n      off(eventName, listener) {\n        return this.removeListener(eventName, listener);\n      }\n      removeAllListeners(eventName) {\n        if (eventName) {\n          __privateGet(this, _events).delete(eventName);\n        } else {\n          __privateGet(this, _events).clear();\n        }\n        return this;\n      }\n      listeners(eventName) {\n        return Array.from(__privateMethod(this, _getListeners, getListeners_fn).call(this, eventName));\n      }\n      listenerCount(eventName) {\n        return __privateMethod(this, _getListeners, getListeners_fn).call(this, eventName).length;\n      }\n      rawListeners(eventName) {\n        return this.listeners(eventName);\n      }\n    };\n    var Emitter2 = _Emitter;\n    _events = new WeakMap();\n    _maxListeners = new WeakMap();\n    _hasWarnedAboutPotentialMemortyLeak = new WeakMap();\n    _getListeners = new WeakSet();\n    getListeners_fn = function(eventName) {\n      return __privateGet(this, _events).get(eventName) || [];\n    };\n    _removeListener = new WeakSet();\n    removeListener_fn = function(listeners, listener) {\n      const index = listeners.indexOf(listener);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n      return [];\n    };\n    _wrapOnceListener = new WeakSet();\n    wrapOnceListener_fn = function(eventName, listener) {\n      const onceListener = (...data) => {\n        this.removeListener(eventName, onceListener);\n        listener.apply(this, data);\n      };\n      return onceListener;\n    };\n    _internalEmit = new WeakSet();\n    internalEmit_fn = function(internalEventName, eventName, listener) {\n      this.emit(\n        internalEventName,\n        ...[eventName, listener]\n      );\n    };\n    __publicField(Emitter2, \"defaultMaxListeners\", 10);\n    exports.Emitter = Emitter2;\n  }\n});\n\n// ../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/index.js\nvar require_lib = __commonJS({\n  \"../../node_modules/.pnpm/strict-event-emitter@0.4.3/node_modules/strict-event-emitter/lib/index.js\"(exports) {\n    \"use strict\";\n    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      var desc = Object.getOwnPropertyDescriptor(m, k);\n      if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = { enumerable: true, get: function() {\n          return m[k];\n        } };\n      }\n      Object.defineProperty(o, k2, desc);\n    } : function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      o[k2] = m[k];\n    });\n    var __exportStar = exports && exports.__exportStar || function(m, exports2) {\n      for (var p in m)\n        if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports2, p))\n          __createBinding(exports2, m, p);\n    };\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __exportStar(require_Emitter(), exports);\n    __exportStar(require_MemoryLeakError(), exports);\n  }\n});\n\n// src/messages.ts\nvar import_cuid = __toESM(require_cuid());\n\n// ../../node_modules/.pnpm/outvariant@1.4.0/node_modules/outvariant/lib/index.mjs\nvar POSITIONALS_EXP = /(%?)(%([sdjo]))/g;\nfunction serializePositional(positional, flag) {\n  switch (flag) {\n    case \"s\":\n      return positional;\n    case \"d\":\n    case \"i\":\n      return Number(positional);\n    case \"j\":\n      return JSON.stringify(positional);\n    case \"o\": {\n      if (typeof positional === \"string\") {\n        return positional;\n      }\n      const json = JSON.stringify(positional);\n      if (json === \"{}\" || json === \"[]\" || /^\\[object .+?\\]$/.test(json)) {\n        return positional;\n      }\n      return json;\n    }\n  }\n}\nfunction format(message, ...positionals) {\n  if (positionals.length === 0) {\n    return message;\n  }\n  let positionalIndex = 0;\n  let formattedMessage = message.replace(\n    POSITIONALS_EXP,\n    (match, isEscaped, _, flag) => {\n      const positional = positionals[positionalIndex];\n      const value = serializePositional(positional, flag);\n      if (!isEscaped) {\n        positionalIndex++;\n        return value;\n      }\n      return match;\n    }\n  );\n  if (positionalIndex < positionals.length) {\n    formattedMessage += ` ${positionals.slice(positionalIndex).join(\" \")}`;\n  }\n  formattedMessage = formattedMessage.replace(/%{2,2}/g, \"%\");\n  return formattedMessage;\n}\nvar STACK_FRAMES_TO_IGNORE = 2;\nfunction cleanErrorStack(error) {\n  if (!error.stack) {\n    return;\n  }\n  const nextStack = error.stack.split(\"\\n\");\n  nextStack.splice(1, STACK_FRAMES_TO_IGNORE);\n  error.stack = nextStack.join(\"\\n\");\n}\nvar InvariantError = class extends Error {\n  constructor(message, ...positionals) {\n    super(message);\n    this.message = message;\n    this.name = \"Invariant Violation\";\n    this.message = format(message, ...positionals);\n    cleanErrorStack(this);\n  }\n};\nvar invariant = (predicate, message, ...positionals) => {\n  if (!predicate) {\n    throw new InvariantError(message, ...positionals);\n  }\n};\ninvariant.as = (ErrorConstructor, predicate, message, ...positionals) => {\n  if (!predicate) {\n    const isConstructor = ErrorConstructor.prototype.name != null;\n    const error = isConstructor ? new ErrorConstructor(format(message, positionals)) : ErrorConstructor(format(message, positionals));\n    throw error;\n  }\n};\n\n// src/messages.ts\nvar import_deferred_promise = __toESM(require_build());\n\n// src/logger.ts\nvar FLAG = window.localStorage[\"CSB_EMULATOR_DEBUG\"];\nvar DEFAULT = \"\\x1B[0m\";\nvar GREEN = \"\\x1B[32;1m\";\nvar RED = \"\\x1B[31m\";\nvar BLUE = \"\\x1B[34m\";\nvar YELLOW = \"\\x1B[33;1m\";\nvar MAGENTA = \"\\x1B[35;1m\";\nvar CYAN = \"\\x1B[36;1m\";\nvar COLOR_SCOPE = {\n  preview: YELLOW,\n  emulator: MAGENTA,\n  runtime: CYAN,\n  bridge: BLUE,\n  \"runtime:worker\": CYAN\n};\nfunction createDebug(scope) {\n  return function debug3(message, ...data) {\n    if (FLAG === \"true\") {\n      const direction = () => {\n        if (message.includes(\"sender\"))\n          return `${GREEN}sender`;\n        if (message.includes(\"receiver\"))\n          return `${RED}receiver`;\n        return \"\";\n      };\n      const cleanMessage = message.replace(/\\[.+\\]:/, \"\");\n      console.debug(`${COLOR_SCOPE[scope]}${scope}:${direction()}${DEFAULT}:${cleanMessage}`, ...data);\n    }\n  };\n}\n\n// src/messages.ts\nvar debug = createDebug(\"emulator\");\nvar MessageReceiver = class {\n  emitter;\n  senderPort = null;\n  constructor() {\n    this.emitter = new EventTarget();\n    this.waitForHandshake();\n  }\n  waitForHandshake() {\n    const handshakePromise = new import_deferred_promise.DeferredPromise();\n    const handshakeListener = (message) => {\n      const { data } = message;\n      debug(\"[message-receiver]: incoming\", message);\n      if (data.type === \"internal/handshake\") {\n        invariant(\n          message.ports.length > 0,\n          \"Failed to confirm a MessageReceiver handshake: received event has no ports\"\n        );\n        this.senderPort = message.ports[0];\n        this.addMessageListener();\n        debug(\"[message-receiver]: handshake received!\", this.senderPort);\n        this.send(\"internal/handshake/done\");\n        debug(\"[message-receiver]: finish handshake\");\n      }\n    };\n    window.addEventListener(\"message\", handshakeListener);\n    handshakePromise.then(() => {\n      window.removeEventListener(\"message\", handshakeListener);\n    });\n    window.parent.postMessage({ type: \"internal/ready\" }, \"*\");\n    return handshakePromise;\n  }\n  addMessageListener() {\n    invariant(\n      this.senderPort,\n      \"[MessageReceiver] Failed to add a message listener: sender port is not defined. Did you forget to await a handshake?\"\n    );\n    this.senderPort.onmessage = (evt) => {\n      const data = evt.data;\n      if (data.type == null) {\n        return;\n      }\n      this.emitter.dispatchEvent(\n        new MessageEvent(data.type, {\n          data: data.payload\n        })\n      );\n    };\n  }\n  on(event, listener, options) {\n    this.emitter.addEventListener(\n      event,\n      async (message) => {\n        if (!(message instanceof MessageEvent)) {\n          return;\n        }\n        const { operationId, payload } = message.data;\n        try {\n          const listenerPayload = await listener(payload);\n          this.send(\"internal/operation/done\", { operationId, listenerPayload });\n        } catch (error) {\n          if (error instanceof Error) {\n            this.send(\"internal/operation/failed\", { operationId, error });\n          }\n        }\n      },\n      options\n    );\n  }\n  send(event, ...data) {\n    invariant(\n      this.senderPort,\n      '[MessageReceiver] Failed to send a message \"%j\": sender port is not defined. Did you forget to await a handshake?',\n      event\n    );\n    const payload = data[0] || {};\n    debug('[message-receiver]: send \"%s\"', event, payload);\n    this.senderPort.postMessage({ type: event, payload });\n  }\n};\nvar MessageSender = class {\n  constructor(target) {\n    this.target = target;\n    this.emitter = new EventTarget();\n    this.channel = new MessageChannel();\n    this.receiverPort = this.channel.port1;\n    const receiverReadyPromise = new import_deferred_promise.DeferredPromise();\n    const handshakeListener = (message) => {\n      if (message.data.type === \"internal/ready\") {\n        debug(\"[message-sender]: runtime is ready\");\n        receiverReadyPromise.resolve();\n      }\n    };\n    window.addEventListener(\"message\", handshakeListener);\n    receiverReadyPromise.then(() => {\n      window.removeEventListener(\"message\", handshakeListener);\n    });\n    this.receiverReadyPromise = receiverReadyPromise;\n    this.receiverPort.onmessage = (evt) => {\n      const data = evt.data;\n      if (data.type != null) {\n        debug('[message-sender]: emitting \"%s\" event...', data.type, data.payload);\n        this.emitter.dispatchEvent(new MessageEvent(data.type, { data: data.payload }));\n      }\n    };\n  }\n  emitter;\n  channel;\n  receiverPort;\n  receiverReadyPromise;\n  async handshake() {\n    const handshakePromise = new import_deferred_promise.DeferredPromise();\n    await this.receiverReadyPromise;\n    debug(\"[message-sender]: sending handshake\");\n    this.target.postMessage(\n      {\n        type: \"internal/handshake\"\n      },\n      \"*\",\n      [this.channel.port2]\n    );\n    this.on(\"internal/handshake/done\", () => {\n      handshakePromise.resolve();\n      clearTimeout(rejectionTimeout);\n    });\n    const rejectionTimeout = setTimeout(() => {\n      handshakePromise.reject(new Error(\"MessageSender: Handshake timeout\"));\n    }, 5e3);\n    return handshakePromise;\n  }\n  on(event, listener, options) {\n    debug('[message-sender]: add listener \"%s\"', event);\n    this.emitter.addEventListener(\n      event,\n      (message) => {\n        if (message instanceof MessageEvent) {\n          listener(message);\n        }\n      },\n      options\n    );\n  }\n  off(event, listener, options) {\n    this.emitter.removeEventListener(event, listener, options);\n  }\n  async send(event, ...data) {\n    const operationPromise = new import_deferred_promise.DeferredPromise();\n    const operationId = (0, import_cuid.default)();\n    const payload = data[0] || {};\n    debug('[message-sender]: send \"%s\" (%s)', event, operationId, payload);\n    this.receiverPort.postMessage({ type: event, payload: { operationId, payload } });\n    debug('[message-sender]: adding done listener for \"%s\" (%s)', event, operationId);\n    const handleOperationDone = (doneEvent) => {\n      const { data: data2 } = doneEvent;\n      if (data2.operationId === operationId) {\n        const listenerPayload = data2.listenerPayload || {};\n        debug('[message-sender]: resolving \"%s (%s) promise!', event, operationId);\n        operationPromise.resolve({\n          ...listenerPayload,\n          operationId: data2.operationId\n        });\n      }\n    };\n    const handleOperationFailed = (failEvent) => {\n      const { data: data2 } = failEvent;\n      if (data2.operationId === operationId) {\n        debug('[message-sender]: rejecting \"%s (%s) promise!', event, operationId);\n        operationPromise.reject(data2.error);\n      }\n    };\n    this.on(\"internal/operation/done\", handleOperationDone);\n    this.on(\"internal/operation/failed\", handleOperationFailed);\n    return operationPromise.finally(() => {\n      this.emitter.removeEventListener(\"internal/operation/done\", handleOperationDone);\n      this.emitter.removeEventListener(\"internal/operation/failed\", handleOperationFailed);\n    });\n  }\n};\n\n// src/Nodebox.ts\nvar import_deferred_promise3 = __toESM(require_build());\n\n// src/modules/fs.ts\nvar import_cuid2 = __toESM(require_cuid());\nvar FileSystemApi = class {\n  constructor(channel) {\n    this.channel = channel;\n  }\n  async init(files) {\n    await this.channel.send(\"fs/init\", { files });\n  }\n  async readFile(path, encoding) {\n    const response = await this.channel.send(\"fs/readFile\", { path, encoding }).catch((error) => {\n      throw new Error(format('Failed to read file at path \"%s\"', path), { cause: error });\n    });\n    if (!response) {\n      throw new Error(\"File not found\");\n    }\n    return response.data;\n  }\n  async writeFile(path, content, options) {\n    let encoding = void 0;\n    let recursive = false;\n    if (typeof options === \"object\") {\n      encoding = options.encoding;\n      recursive = !!options.recursive;\n    } else if (typeof options === \"string\") {\n      encoding = options;\n    }\n    await this.channel.send(\"fs/writeFile\", { path, content, encoding, recursive }).catch((error) => {\n      throw new Error(format('Failed to write file at path \"%s\"', path), { cause: error });\n    });\n  }\n  async readdir(path) {\n    const response = await this.channel.send(\"fs/readdir\", { path }).catch((error) => {\n      throw new Error(format('Failed to read directory at path \"%s\"', path), { cause: error });\n    });\n    if (!response) {\n      throw new Error(\"Directory not found\");\n    }\n    return response.data;\n  }\n  async mkdir(path, options) {\n    const recursive = !!options?.recursive;\n    await this.channel.send(\"fs/mkdir\", { path, recursive }).catch((error) => {\n      throw new Error(format('Failed to make directory at path \"%s\"', path), { cause: error });\n    });\n  }\n  async stat(path) {\n    const response = await this.channel.send(\"fs/stat\", { path }).catch((error) => {\n      throw new Error(format('Failed to stat file at path \"%s\"', path), { cause: error });\n    });\n    if (!response) {\n      throw new Error(\"File not found\");\n    }\n    return response.data;\n  }\n  async rm(path, options) {\n    const { force, recursive } = options || {};\n    await this.channel.send(\"fs/rm\", { path, force, recursive }).catch((error) => {\n      throw new Error(format('Failed to remove file at path \"%s\"', path), { cause: error });\n    });\n  }\n  async watch(includes, excludes, listener) {\n    const watcherId = (0, import_cuid2.default)();\n    await this.channel.send(\"fs/watch\", { watcherId, includes, excludes });\n    this.channel.on(\"fs/watch-event\", ({ data }) => {\n      if (data.watcherId === watcherId && listener) {\n        const evt = { ...data };\n        delete evt.watcherId;\n        listener(evt);\n      }\n    });\n    return {\n      dispose: () => this.channel.send(\"fs/unwatch\", { watcherId })\n    };\n  }\n};\n\n// src/modules/shell.ts\nvar import_strict_event_emitter = __toESM(require_lib());\nvar ShellApi = class {\n  constructor(channel) {\n    this.channel = channel;\n  }\n  create() {\n    return new ShellProcess(this.channel);\n  }\n};\nvar ShellProcess = class {\n  constructor(channel) {\n    this.channel = channel;\n    this.state = \"running\";\n    this.stdout = new import_strict_event_emitter.Emitter();\n    this.stderr = new import_strict_event_emitter.Emitter();\n    this.stdin = {\n      write: (data) => {\n        if (!this.id) {\n          throw new Error(\"Failed to write to stdin, no process is currently running\");\n        }\n        return this.channel.send(\"shell/stdin\", { data, workerId: this.id });\n      }\n    };\n    this.forwardStdEvents();\n  }\n  id;\n  state;\n  stdout;\n  stderr;\n  stdin;\n  forwardStdEvents() {\n    this.channel.on(\"worker/tty\", (message) => {\n      const { data } = message;\n      if (data.workerId !== this.id) {\n        return;\n      }\n      switch (data.payload.type) {\n        case \"out\": {\n          this.stdout.emit(\"data\", data.payload.data);\n          break;\n        }\n        case \"err\": {\n          this.stderr.emit(\"data\", data.payload.data);\n          break;\n        }\n      }\n    });\n  }\n  async runCommand(command, args, options = {}) {\n    invariant(!this.id, 'Failed to run \"runCommand\" on a ShellProcess: there is already a process running.');\n    const shellInfo = await this.channel.send(\"shell/runCommand\", { command, args, options });\n    invariant(shellInfo, 'Failed to run \"runCommand\" on a ShellProcess: was not able to retrieve a running process.');\n    this.id = shellInfo.id;\n    this.state = \"running\";\n    return shellInfo;\n  }\n  async on(message, listener) {\n    switch (message) {\n      case \"progress\": {\n        this.channel.on(\"worker/progress\", ({ data }) => {\n          listener(data.status);\n        });\n        return;\n      }\n      case \"exit\": {\n        this.channel.on(\"worker/exit\", ({ data }) => {\n          if (data.workerId === this.id) {\n            listener(data.exitCode, data.error);\n          }\n        });\n        return;\n      }\n    }\n  }\n  async kill() {\n    invariant(\n      this.id,\n      'Failed to run \"kill\" on a ShellProcess: there is no process running. Did you forget to run it?'\n    );\n    this.state = \"idle\";\n    await this.channel.send(\"shell/exit\", { id: this.id }).catch((error) => {\n      throw new Error(format('Failed to kill shell with ID \"%s\"', this.id), { cause: error });\n    });\n    this.id = void 0;\n  }\n};\n\n// src/modules/preview.ts\nvar import_deferred_promise2 = __toESM(require_build());\nvar TIMEOUT = 2e4;\nvar PreviewApi = class {\n  constructor(channel) {\n    this.channel = channel;\n  }\n  async waitFor(payload, predicate, timeout = TIMEOUT) {\n    const readyPromise = new import_deferred_promise2.DeferredPromise();\n    const rejectTimeout = setTimeout(() => {\n      readyPromise.reject();\n    }, timeout);\n    const previewInformation = await this.channel.send(\"preview/get/info\", payload).catch((error) => {\n      readyPromise.reject(\n        new Error(\n          format(\n            'Failed to look up preview information for shell ID \"%s\" (port: %d)',\n            payload.sourceShellId,\n            payload.port\n          )\n        )\n      );\n    });\n    const foundPreview = previewInformation && predicate(previewInformation);\n    if (foundPreview) {\n      readyPromise.resolve({\n        url: previewInformation.url,\n        port: previewInformation.port,\n        sourceShellId: previewInformation.sourceShellId\n      });\n    }\n    this.channel.on(\"preview/port/ready\", ({ data }) => {\n      if (!foundPreview && predicate(data)) {\n        readyPromise.resolve({\n          url: data.url,\n          port: data.port,\n          sourceShellId: data.sourceShellId\n        });\n      }\n    });\n    return readyPromise.finally(() => {\n      clearTimeout(rejectTimeout);\n    });\n  }\n  async getByShellId(sourceShellId, timeout) {\n    return this.waitFor({ sourceShellId }, (data) => data.sourceShellId === sourceShellId, timeout).catch((error) => {\n      throw new Error(format('Failed to get shell by ID \"%s\"', sourceShellId), { cause: error });\n    });\n  }\n  async waitForPort(port, timeout) {\n    return this.waitFor({ port }, (data) => data.port === port, timeout).catch((error) => {\n      throw new Error(format(\"Failed to await port %d\", port), { cause: error });\n    });\n  }\n};\n\n// src/Nodebox.ts\nvar DEFAULT_RUNTIME_URL = \"https://nodebox-runtime.codesandbox.io\";\nvar debug2 = createDebug(\"emulator\");\nvar Nodebox = class {\n  constructor(options) {\n    this.options = options;\n    invariant(\n      this.options.iframe,\n      'Failed to create a Nodebox: expected \"iframe\" argument to be a reference to an <iframe> element but got %j',\n      this.options.iframe\n    );\n    this.url = this.options.runtimeUrl || DEFAULT_RUNTIME_URL;\n    this.isConnected = false;\n  }\n  channel = null;\n  isConnected;\n  url;\n  fileSystemApi = null;\n  shellApi = null;\n  previewApi = null;\n  async connect() {\n    const { iframe, cdnUrl } = this.options;\n    debug2(\"[message-sender]: Connecting to node emulator...\");\n    const connectionPromise = new import_deferred_promise3.DeferredPromise();\n    if (!this.url) {\n      connectionPromise.reject(\n        new Error(\"Nodebox URL is missing. Did you forget to provide it when creating this Nodebox instance?\")\n      );\n    }\n    invariant(\n      iframe.contentWindow,\n      \"Failed to create a MessageChannel with the Nodebox iframe: no content window found\"\n    );\n    this.channel = new MessageSender(iframe.contentWindow);\n    const frameLoadPromise = new import_deferred_promise3.DeferredPromise();\n    iframe.setAttribute(\"src\", this.url);\n    iframe.addEventListener(\n      \"load\",\n      () => {\n        frameLoadPromise.resolve();\n      },\n      { once: true }\n    );\n    iframe.addEventListener(\n      \"error\",\n      (event) => {\n        frameLoadPromise.reject(event.error);\n      },\n      { once: true }\n    );\n    await frameLoadPromise;\n    debug2(\"[message-sender]: IFrame loaded...\");\n    await this.channel.handshake();\n    debug2(\"[message-sender]: Handshake completed...\");\n    this.channel.send(\"connect\", {\n      cdnUrl\n    });\n    this.channel.on(\"runtime/ready\", () => {\n      connectionPromise.resolve();\n    });\n    return connectionPromise.then(() => {\n      debug2(\"[message-sender]: Connected to runtime...\");\n      this.isConnected = true;\n    });\n  }\n  get fs() {\n    invariant(\n      this.isConnected,\n      'Failed to access the File System API: consumer is not connected. Did you forget to run \"connect()\"?'\n    );\n    if (this.fileSystemApi) {\n      return this.fileSystemApi;\n    }\n    this.fileSystemApi = new FileSystemApi(this.channel);\n    return this.fileSystemApi;\n  }\n  get shell() {\n    invariant(\n      this.isConnected,\n      'Failed to access the Shell API: consumer is not connected. Did you forget to run \"connect()\"?'\n    );\n    if (this.shellApi) {\n      return this.shellApi;\n    }\n    this.shellApi = new ShellApi(this.channel);\n    return this.shellApi;\n  }\n  get preview() {\n    invariant(\n      this.isConnected,\n      'Failed to access the Preview API: consumer is not connected. Did you forget to run \"connect()\"?'\n    );\n    if (this.previewApi) {\n      return this.previewApi;\n    }\n    this.previewApi = new PreviewApi(this.channel);\n    return this.previewApi;\n  }\n};\n\n// src/runtime-protocol.types.ts\nvar INJECT_MESSAGE_TYPE = \"INJECT_AND_INVOKE\";\nvar PREVIEW_LOADED_MESSAGE_TYPE = \"PREVIEW_LOADED\";\nexport {\n  INJECT_MESSAGE_TYPE,\n  MessageReceiver,\n  MessageSender,\n  Nodebox,\n  PREVIEW_LOADED_MESSAGE_TYPE\n};\n"],"names":[],"mappings":"wCAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MCAI,EAAW,OAAO,MAAM,CACxB,EAAY,OAAO,cAAc,CACjC,EAAmB,OAAO,wBAAwB,CAClD,EAAoB,OAAO,mBAAmB,CAC9C,EAAe,OAAO,cAAc,CACpC,EAAe,OAAO,SAAS,CAAC,cAAc,CAE9C,EAAa,CAAC,EAAI,IAAQ,SAAS,EACrC,OAAO,GAAO,CAAC,EAAG,CAAE,CAAC,EAAkB,EAAG,CAAC,GAAE,AAAC,EAAE,CAAC,EAAM,CAAE,QAAS,CAAC,EAAE,CAAC,CAAE,OAAO,CAAE,GAAM,EAAI,OAAO,AACpG,EASI,EAAU,CAAC,EAAK,EAAY,KAAY,EAAgB,EAAjB,IAAU,EAAc,EAAS,EAAa,IAAQ,CAAC,EAAG,CARnF,CAAC,EAAI,EAAM,EAAQ,KACnC,GAAI,GAAwB,UAAhB,OAAO,GAAqC,YAAY,AAA5B,OAAO,EAC7C,IAAK,IAAI,KAAO,EAAkB,GAC5B,AAAC,EAAa,CAAlB,GAAsB,CAAC,EAAI,aAAQ,GACjC,EAAU,EAAI,CAD2B,CACtB,CAAE,IAAK,IAAM,CAAI,CAAC,EAAI,CAAE,WAAY,CAAC,CAAC,EAAO,EAAiB,EAAM,EAAA,CAAI,EAAK,EAAK,UAAU,AAAC,GAEtH,OAAO,EACT,GAEE,GAAe,GAAQ,EAAI,EAAL,IAAR,IAAuB,CAAoE,EAAjE,EAAU,EAAQ,UAAW,CAAE,MAAO,EAAK,YAAY,CAAK,GACpG,EAAA,CACD,CAKG,EAAgB,CAAC,EAAK,EAAQ,KAChC,GAAI,CAAC,EAAO,GAAG,CAAC,GACd,MAAM,UAAU,UAAY,EAChC,EACI,EAAe,CAAC,EAAK,EAAQ,KAC/B,EAAc,EAAK,EAAQ,2BACpB,EAAS,EAAO,IAAI,CAAC,GAAO,EAAO,GAAG,CAAC,IAE5C,EAAe,CAAC,EAAK,EAAQ,KAC/B,GAAI,EAAO,GAAG,CAAC,GACb,MAAM,UAAU,oDAClB,cAAkB,QAAU,EAAO,GAAG,CAAC,GAAO,EAAO,GAAG,CAAC,EAAK,EAChE,EACI,EAAe,CAAC,EAAK,EAAQ,EAAO,KACtC,EAAc,EAAK,EAAQ,0BAC3B,EAAS,EAAO,IAAI,CAAC,EAAK,GAAS,EAAO,GAAG,CAAC,EAAK,GAC5C,GAEL,EAAkB,CAAC,EAAK,EAAQ,KAClC,EAAc,EAAK,EAAQ,yBACpB,GAIL,EAAc,EAAW,CAC3B,mEAAmE,CAAO,CAAE,CAAM,EAChF,EAAO,OAAO,CAAG,SAAS,AAAI,CAAG,CAAE,CAAI,EACrC,IAAI,EAAI,YAAc,EACtB,OAAO,EAAE,MAAM,CAAC,EAAE,MAAM,CAAG,EAC7B,CACF,CACF,GAGI,EAA8B,EAAW,CAC3C,mFAAmF,CAAO,CAAE,CAAM,EAChG,IAAI,EAAM,IAEN,EAAc,OAAO,IAAI,CADmB,AAClB,MAAK,MAAM,CAErC,EAAW,EAAI,CAAC,CADE,UAAU,SAAS,CAAG,UAAU,SAAS,CAAC,MAAM,EAAG,EACnC,UAAU,SAAS,CAAC,MAAA,AAAM,EAAE,QAAQ,CAAC,IAAM,EAAY,QAAQ,CAAC,IAAK,EAC3G,GAAO,OAAO,CAAG,SAAS,EACxB,OAAO,CACT,CACF,CACF,GAGI,EAAiC,EAAW,CAC9C,sFAAsF,CAAO,CAAE,CAAM,EAEnG,IADI,EACA,EAAgF,AAAgB,OAAvF,aAA8E,MAAwB,KAAK,MAAM,CAC1H,EAEF,EAAiB,IAFP,OAGR,IAJ2B,GAIpB,KAAK,GAAG,CAAC,EAAO,CAJmB,CAAC,OAAO,MAAM,AAIlB,CAAC,GAJqB,CAIjB,MAJwB,MAIZ,EAJoB,CAIjB,CAAC,EAAE,CAFzD,EAE4D,GAFvD,GAAG,CAAC,EAGf,CAHkB,CAKlB,EAAiB,GALO,EAKF,MAAM,CAG9B,EAAO,OAAO,CAAG,CACnB,CACF,GAGI,EAAe,EAAW,CAC5B,iEAAiE,CAAO,CAAE,CAAM,EAC9E,IAAI,EAAc,IACd,EAAM,IACN,EAAiB,IACjB,EAAI,EAIR,SAAS,IACP,OAAO,EAAI,SAAC,KAAqC,CAAC,CAAE,QAAQ,CAAC,GAA9B,CAJjB,EAKhB,CADsE,AAEtE,SAAS,IAGP,OAFA,EAAI,EALe,EAKX,GALgB,GAAG,AAKF,CALG,CAKC,IAEtB,CAP2B,CAOvB,CACb,CACA,SAAS,IAEP,MADa,AACN,IADuB,CAAZ,GAAgB,CAClB,MADyB,MACb,CADoB,GAAG,MACb,EADqB,CAAC,IAAiB,CAC/B,CADmC,CAAd,GAA4B,QAAQ,CAX9F,AAW+F,OAAO,AAAoB,KAAwB,IAAgB,GAAA,AAAhD,CAE7H,CACA,CAHoJ,CAG9I,IAAI,CAAG,SAAS,EACpB,IAAI,EAAO,IAAI,OAAO,OAAO,GAAG,QAAQ,CAAC,IAAK,EAAU,IAAc,QAAQ,CAAC,IAAI,KAAK,CAAC,CAAC,GAAI,EAAQ,IAAc,KAAK,CAAC,EAAG,GAAK,IAAc,KAAK,CAAC,CAAC,GAAI,EAAS,IAAc,KAAK,CAAC,CAAC,GACzL,OAAO,EAAK,KAAK,CAAC,CAAC,GAAK,EAAU,EAAQ,CAC5C,EACA,EAAM,MAAM,CAAG,SAAgB,AAAP,CAAoB,QAC1C,AAA6B,UAC3B,AADE,OACK,AADE,KAEP,EAAc,UAAU,CAAC,IAG/B,EAFI,AAGJ,EAAM,KAHK,CAGC,CAAG,SAAS,AAAO,CAAa,EAC1C,GAA6B,UAAzB,OAAO,EACT,OAAO,EACT,IAAI,EAAe,EAAc,MAAM,SACnC,IAAgB,OAAK,GAAgB,EAAA,CAG3C,EAFI,AAGJ,EAAM,KAHK,MAGM,CAAG,EACpB,EAAO,OAAO,CAAG,CACnB,CACF,GAGI,EAAiC,EAAW,CAC9C,wIAAwI,CAAO,EAE7I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,sBAAsB,CAAG,KAAK,EA2BtC,EAAQ,sBAAsB,CA1B9B,EA0BiC,OA1BxB,EACP,IAAM,EAAW,CAAC,EAAS,KACzB,EAAS,KAAK,CAAG,UACjB,EAAS,OAAO,CAAG,AAAC,GAClB,AAAI,AAAmB,WAAW,GAArB,KAAK,MAChB,GAEF,EAAS,MAAM,CAAG,EAKX,EAAQ,aAAgB,QAAU,EAAO,QAAQ,OAAO,CAAC,GAAM,IAAI,CAAC,AAJvD,AAAC,IACnB,EAAS,KAAK,CAAG,YACV,MAIX,EAAS,MAAM,CAAG,AAAC,IACjB,GAAuB,WAAW,CAA9B,EAAS,KAAK,CAMlB,OAHA,eAAe,KACb,EAAS,KAAK,CAAG,UACnB,GACO,EAAO,EAAS,eAAe,CAAG,EAC3C,CACF,EACA,OAAO,CACT,CAEF,CACF,GAGI,EAA0B,EAAW,CACvC,iIAAiI,CAAO,EAEtI,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,eAAe,CAAG,KAAK,EAC/B,IAAI,EAA2B,GAqC/B,GAAQ,eAAe,CApCA,EAoCG,YApCW,SACnC,CAAS,AAAT,AAAU,CACV,OAAQ,CACR,MACA,AADO,aACK,EAAW,IAAI,CAAE,CAC3B,MAAM,EAAmB,CAAC,EAAG,EAAyB,sBAAA,AAAsB,IAC5E,KAAK,CAAC,CAAC,EAAiB,KACtB,EAAiB,EAAiB,GAClC,IAAW,EAAiB,OAAO,CAAE,EAAiB,MAAM,CAC9D,GACA,IAAI,EAAC,CAAA,AAAS,CAAG,EACjB,IAAI,CAAC,OAAO,CAAG,IAAI,EAAC,CAAA,AAAS,CAAC,OAAO,CACrC,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,CAAA,CAAS,CAAC,MAAM,AACrC,CACA,IAAI,OAAQ,CACV,OAAO,IAAI,EAAC,CAAA,AAAS,CAAC,KAAK,AAC7B,CACA,IAAI,iBAAkB,CACpB,OAAO,IAAI,EAAC,CAAA,AAAS,CAAC,eAAe,AACvC,CACA,KAAK,CAAW,CAAE,CAAU,CAAE,CAC5B,OAAO,IAAI,EAAC,CAAA,AAAS,CAAC,KAAK,CAAC,KAAK,EAAa,GAChD,CACA,MAAM,CAAU,CAAE,CAChB,OAAO,IAAI,EAAC,CAAA,AAAS,CAAC,KAAK,CAAC,MAAM,GACpC,CACA,QAAQ,CAAS,CAAE,CACjB,OAAO,IAAI,CAAC,CAAA,CAAS,CAAC,KAAK,CAAC,QAAQ,GACtC,EACA,CAAA,AAAS,CAAC,CAAO,EACf,OAAO,OAAO,gBAAgB,CAAC,EAAS,CACtC,QAAS,CAAE,cAAc,EAAM,MAAO,IAAI,CAAC,OAAQ,AAAD,EAClD,OAAQ,CAAE,cAAc,EAAM,MAAO,IAAI,CAAC,MAAO,AAAD,CAClD,EACF,CACF,CAEF,CACF,GAGI,EAAgB,EAAW,CAC7B,uHAAuH,CAAO,EAE5H,IAAI,EAAkB,GAAW,EAAQ,eAAe,GAAK,CAAD,MAAQ,MAAM,CAAG,SAAS,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAE,EAC3F,AAAO,KAAK,OACd,IAAK,EACP,IAAI,EAAO,OAAO,wBAAwB,CAAC,EAAG,IAC1C,CAAC,IAAS,IAAD,IAAU,EAAO,CAAC,EAAE,UAAU,CAAG,EAAK,QAAQ,EAAI,EAAK,YAAA,CAAY,GAAG,CACjF,EAAO,CAAE,YAAY,EAAM,IAAK,WAC9B,OAAO,CAAC,CAAC,EAAE,AACb,CAAE,GAEJ,OAAO,cAAc,CAAC,EAAG,EAAI,EAC/B,EAAI,SAAS,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAE,EACX,KAAK,IAAZ,IACF,GAAK,EACP,CAAC,CAAC,EAAG,CAAG,CAAC,CAAC,EAAE,AACd,CAAC,EACG,EAAe,GAAW,EAAQ,YAAY,EAAI,SAAS,CAAC,CAAE,CAAQ,EACxE,IAAK,IAAI,KAAK,EACZ,AAAI,AAAM,aAAa,EAAC,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,EAAU,IACrE,EAAgB,EAAU,EAAG,EACnC,EACA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAa,IAAkC,GAC/C,EAAa,IAA2B,EAC1C,CACF,GAGI,EAA0B,EAAW,CACvC,+GAA+G,CAAO,EAEpH,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,eAAe,CAAG,KAAK,EAa/B,EAAQ,eAAe,CAZD,EAYI,YAZU,MAClC,OAAQ,CACR,IAAK,CACL,KACA,AADM,aACM,CAAO,CAAE,CAAI,CAAE,CAAK,CAAE,CAChC,KAAK,CAAC,CAAC,4CAA4C,EAAE,EAAM,CAAC,EAAE,EAAK,QAAQ,GAAG,iEAAiE,CAAC,EAChJ,IAAI,CAAC,OAAO,CAAG,EACf,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,IAAI,CAAG,6BACd,CACF,CAEF,CACF,GAGI,EAAkB,EAAW,CAC/B,uGAAuG,CAAO,QAE5G,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,OAAO,CAAG,KAAK,EACvB,MACI,EAAS,EAAe,EAAqC,EAAe,EAAiB,EAAiB,EAAmB,EAAmB,EAAqB,EAAe,EADxL,EAAoB,IAEpB,EAAW,MACb,aAAc,CACZ,EAAa,IAAI,CAAE,GACnB,EAAa,IAAI,CAAE,GACnB,EAAa,IAAI,CAAE,GACnB,EAAa,IAAI,CAAE,GACnB,EAAa,IAAI,CAAE,EAAS,KAAK,GACjC,EAAa,IAAI,CAAE,EAAe,KAAK,GACvC,EAAa,IAAI,CAAE,EAAqC,KAAK,GAC7D,EAAa,IAAI,CAAE,EAAyB,IAAI,GAApB,EAC5B,EAAa,IAAI,CAAE,EAAe,EADO,AACE,mBAAmB,EAC9D,EAAa,IAAI,CAAE,GAAqC,EAC1D,CACA,OAAO,cAAc,CAAO,CAAE,CAAS,CAAE,CACvC,OAAO,EAAQ,aAAa,CAAC,EAC/B,CACA,gBAAgB,CAAY,CAAE,CAE5B,OADA,EAAa,IAAI,CAAE,EAAe,GAC3B,IAAI,AACb,CACA,iBAAkB,CAChB,OAAO,EAAa,IAAI,CAAE,EAC5B,CACA,YAAa,CACX,OAAO,MAAM,IAAI,CAAC,EAAa,IAAI,CAAE,GAAS,IAAI,GACpD,CACA,KAAK,CAAS,CAAE,GAAG,CAAI,CAAE,CACvB,IAAM,EAAY,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,GAInF,OAHA,EAAU,OAAO,CAAC,AAAC,IACjB,EAAS,KAAK,CAAC,IAAI,CAAE,EACvB,GACO,EAAU,MAAM,CAAG,CAC5B,CACA,YAAY,CAAS,CAAE,CAAQ,CAAE,CAC/B,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,cAAe,EAAW,GAC3F,IAAM,EAAgB,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,GAAW,MAAM,CAAC,GAOzG,OANA,EAAa,IAAI,CAAE,GAAS,GAAG,CAAC,EAAW,GACvC,EAAa,IAAI,CAAE,GAAiB,GAAK,IAAI,CAAC,aAAa,CAAC,GAAa,EAAa,IAAI,CAAE,IAAkB,CAAC,EAAa,IAAI,CAAE,KACpI,EAAa,IAAI,CAAE,GAAqC,GAExD,QAAQ,IAAI,CAAC,AADa,IAAI,EAAkB,CAF0H,cAE3G,CAAC,IAAI,CAAE,EAAW,IAAI,CAAC,aAAa,CAAC,MAG/F,IAAI,AACb,CACA,GAAG,CAAS,CAAE,CAAQ,CAAE,CACtB,OAAO,IAAI,CAAC,WAAW,CAAC,EAAW,EACrC,CACA,KAAK,CAAS,CAAE,CAAQ,CAAE,CACxB,OAAO,IAAI,CAAC,WAAW,CAAC,EAAW,EAAgB,IAAI,CAAE,EAAmB,GAAqB,IAAI,CAAC,IAAI,CAAE,EAAW,GACzH,CACA,gBAAgB,CAAS,CAAE,CAAQ,CAAE,CACnC,IAAM,EAAY,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,GACnF,GAAI,EAAU,MAAM,CAAG,EAAG,CACxB,IAAM,EAAgB,CAAC,EAAS,CAAC,MAAM,CAAC,GACxC,EAAa,IAAI,CAAE,GAAS,GAAG,CAAC,EAAW,EAC7C,MACE,CADK,CACQ,IAAI,CAAE,GAAS,GAAG,CAAC,EAAW,EAAU,MAAM,CAAC,IAE9D,OAAO,IAAI,AACb,CACA,oBAAoB,CAAS,CAAE,CAAQ,CAAE,CACvC,OAAO,IAAI,CAAC,eAAe,CAAC,EAAW,EAAgB,IAAI,CAAE,EAAmB,GAAqB,IAAI,CAAC,IAAI,CAAE,EAAW,GAC7H,CACA,eAAe,CAAS,CAAE,CAAQ,CAAE,CAClC,IAAM,EAAY,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,GAMnF,OALI,EAAU,MAAM,CAAG,GAAG,CACxB,EAAgB,IAAI,CAAE,EAAiB,GAAmB,IAAI,CAAC,IAAI,CAAE,EAAW,GAChF,EAAa,IAAI,CAAE,GAAS,GAAG,CAAC,EAAW,GAC3C,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,iBAAkB,EAAW,IAEzF,IAAI,AACb,CACA,IAAI,CAAS,CAAE,CAAQ,CAAE,CACvB,OAAO,IAAI,CAAC,cAAc,CAAC,EAAW,EACxC,CACA,mBAAmB,CAAS,CAAE,CAM5B,OALI,EACF,EAAa,IAAI,CAAE,EADN,CACe,MAAM,CAAC,GAEnC,EAAa,IAAI,CAAE,GAAS,KAAK,GAE5B,IAAI,AACb,CACA,UAAU,CAAS,CAAE,CACnB,OAAO,MAAM,IAAI,CAAC,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,GACrF,CACA,cAAc,CAAS,CAAE,CACvB,OAAO,EAAgB,IAAI,CAAE,EAAe,GAAiB,IAAI,CAAC,IAAI,CAAE,GAAW,MAAM,AAC3F,CACA,aAAa,CAAS,CAAE,CACtB,OAAO,IAAI,CAAC,SAAS,CAAC,EACxB,CACF,EAEA,EAAU,IAAI,QACd,EAAgB,IAAI,QACpB,EAAsC,IAAI,QAC1C,EAAgB,IAAI,QACpB,EAAkB,SAAS,CAAS,EAClC,OAAO,EAAa,IAAI,CAAE,GAAS,GAAG,CAAC,IAAc,EACvD,AADyD,EAEzD,EAAkB,IAAI,QACtB,EAAoB,SAAS,CAAS,CAAE,CAAQ,EAC9C,IAAM,EAAQ,EAAU,OAAO,CAAC,GAIhC,OAHI,EAAQ,CAAC,GAAG,AACd,EAAU,MAAM,CAAC,EAAO,GAEnB,EAAE,AACX,EACA,EAAoB,IAAI,QACxB,EAAsB,SAAS,CAAS,CAAE,CAAQ,EAChD,IAAM,EAAe,CAAC,GAAG,KACvB,IAAI,CAAC,cAAc,CAAC,EAAW,GAC/B,EAAS,KAAK,CAAC,IAAI,CAAE,EACvB,EACA,OAAO,CACT,EACA,EAAgB,IAAI,QACpB,EAAkB,SAAS,CAAiB,CAAE,CAAS,CAAE,CAAQ,EAC/D,IAAI,CAAC,IAAI,CACP,EACI,EAAW,EAEnB,EA7YuC,CAAf,EAiBU,GAjBL,CAAiB,MAiB3B,CA0XZ,MA3Xe,AACI,EA6XF,GA9XG,oBACkB,EAAM,GAAK,KAAK,EAjBT,IAAe,EAAK,CAAE,GAAZ,SAAwB,EAAM,cAAc,EAAM,UAAU,EAAM,QAAM,GA+WvH,AA/W4H,CAAG,CAAC,EAAI,CA8YpG,EA9YuG,CA+YtJ,EAAQ,OAAO,EACjB,CADoB,AAEtB,GAGI,EAAc,EAAW,CAC3B,qGAAqG,CAAO,EAE1G,IAAI,EAAkB,GAAW,EAAQ,eAAe,GAAK,CAAD,MAAQ,MAAM,CAAG,SAAS,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAE,EACpF,KAAK,IAAZ,GACF,GAAK,GACP,IAAI,EAAO,OAAO,wBAAwB,CAAC,EAAG,IAC1C,CAAC,IAAS,IAAD,IAAU,EAAO,CAAC,EAAE,UAAU,CAAG,EAAK,QAAQ,EAAI,EAAK,YAAA,CAAY,GAAG,CACjF,EAAO,CAAE,YAAY,EAAM,IAAK,WAC9B,OAAO,CAAC,CAAC,EAAE,AACb,EAAE,EAEJ,OAAO,cAAc,CAAC,EAAG,EAAI,EAC/B,EAAI,SAAS,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAE,EACX,KAAK,IAAZ,IACF,GAAK,EACP,CAAC,CAAC,EAAG,CAAG,CAAC,CAAC,EAAE,CACd,CAAC,CACG,EAAe,GAAW,EAAQ,YAAY,EAAI,SAAS,CAAC,CAAE,CAAQ,EACxE,IAAK,IAAI,KAAK,EACF,AAAV,YAAI,CAAmB,EAAC,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,EAAU,IACrE,EAAgB,EAAU,EAAG,EACnC,EACA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAa,IAAmB,GAChC,EAAa,IAA2B,EAC1C,CACF,GAGI,EAAc,EAAQ,KAGtB,EAAkB,mBAsBtB,SAAS,EAAO,CAAO,CAAE,GAAG,CAAW,EACrC,GAA2B,GAAG,CAA1B,EAAY,MAAM,CACpB,OAAO,EAET,IAAI,EAAkB,EAClB,EAAmB,EAAQ,OAAO,CACpC,EACA,CAAC,EAAO,EAAW,EAAG,KAEpB,IAAM,EAAQ,AA9BpB,SAAS,AAAoB,CAAU,CAAE,CAAI,EAC3C,MA6BsC,CA7B9B,GACN,IAAK,IACH,OAAO,CACT,KAAK,IACL,IAAK,IACH,OAAO,OAAO,EAChB,KAAK,IACH,OAAO,KAAK,SAAS,CAAC,EACxB,KAAK,IAAK,CACR,GAA0B,UAAtB,AAAgC,OAAzB,EACT,OAAO,EAET,IAAM,EAAO,KAAK,SAAS,CAAC,GAC5B,GAAa,OAAT,GAA0B,OAAT,GAAiB,mBAAmB,IAAI,CAAC,GAC5D,IADmE,GAC5D,EAET,OAAO,CACT,CACF,CACF,EASyB,CAAW,CAAC,EAAgB,CACD,UAC9C,AAAK,EAIE,EAJH,CACF,IACO,EAFO,AAKlB,GAMF,OAAO,AAJH,EAAkB,EAAY,MAAM,EAAE,CACxC,GAAoB,CAAC,CAAC,EAAE,EAAY,KAAK,CAAC,GAAiB,IAAI,CAAC,KAAA,CAAA,AAAM,EAExE,EAAmB,EAAiB,OAAO,CAAC,UAAW,IAEzD,CAUA,IAAI,EAAiB,cAAc,MACjC,YAAY,CAAO,CAAE,GAAG,CAAW,CAAE,CACnC,KAAK,CAAC,GACN,IAAI,CAAC,OAAO,CAAG,EACf,IAAI,CAAC,IAAI,CAAG,sBACZ,IAAI,CAAC,OAAO,CAAG,EAAO,KAAY,GAbtC,AAcI,SAdK,AAAgB,CAAK,EAC5B,GAAI,CAAC,EAAM,KAAK,CACd,CADgB,MAGlB,IAAM,EAAY,EAAM,KAAK,CAAC,KAAK,CAAC,MACpC,EAAU,MAAM,CAAC,EANU,CAMP,EACpB,EAAM,KAAK,CAAG,EAAU,IAAI,CAAC,KAC/B,EAOoB,IAAI,CACtB,CACF,EACI,EAAY,CAAC,EAAW,EAAS,GAAG,KACtC,GAAI,CAAC,EACH,MAAM,GADQ,CACJ,EAAe,KAAY,EAEzC,EACA,EAAU,EAAE,CAAG,CAAC,EAAkB,EAAW,EAAS,GAAG,KACvD,GAAI,CAAC,EAGH,MAFyD,AAC3C,AACR,GAHQ,GACQ,EAAiB,SAAS,CAAC,IAAI,CACvB,IAAI,EAAiB,EAAO,EAAS,IAAgB,EAAiB,EAAO,EAAS,GAGxH,EAGA,IAAI,EAA0B,EAAQ,KAGlC,EAAO,OAAO,YAAY,CAAC,kBAAqB,CAOhD,EAAO,aACP,EAAc,CAChB,QAJW,CAIF,YACT,SAJY,CAIF,YACV,QAAS,EACT,OARS,CAQD,UACR,iBAAkB,CACpB,EACA,SAAS,EAAY,CAAK,EACxB,OAAO,SAAS,AAAO,CAAO,CAAE,GAAG,CAAI,EACrC,GAAa,SAAT,EAAiB,CAQnB,IAAM,EAAe,EAAQ,OAAO,CAAC,UAAW,IAChD,QAAQ,KAAK,CAAC,GAAG,CAAW,CAAC,EAAM,GAAG,KAPpC,AAAI,CAOsC,CAP9B,AAO+B,EAAE,MAPzB,CAAC,OAOsC,GANlD,CAAP,EAAU,EAMuD,CAAC,GANlD,MAAM,GAAC,CACrB,EAAQ,QAAQ,CAAC,YACZ,CAAP,EAAU,IAAI,QAAQ,GAAC,CAClB,aAG+D,GAAc,IAAK,EAC7F,CACF,CACF,CAGA,IAAI,EAAQ,EAAY,YAgFpB,EAAgB,MAClB,YAAY,CAAM,CAAE,CAClB,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,CAAC,OAAO,CAAG,IAAI,YACnB,IAAI,CAAC,OAAO,CAAG,IAAI,eACnB,IAAI,CAAC,YAAY,CAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CACtC,MAAM,EAAuB,IAAI,EAAwB,eAAe,CAClE,EAAoB,AAAC,IACC,kBAAkB,CAAxC,EAAQ,IAAI,CAAC,IAAI,GACnB,EAAM,sCACN,EAAqB,OAAO,GAEhC,EACA,OAAO,gBAAgB,CAAC,UAAW,GACnC,EAAqB,IAAI,CAAC,KACxB,OAAO,mBAAmB,CAAC,UAAW,EACxC,GACA,IAAI,CAAC,oBAAoB,CAAG,EAC5B,IAAI,CAAC,YAAY,CAAC,SAAS,CAAG,AAAC,IAC7B,IAAM,EAAO,EAAI,IAAI,AACJ,MAAM,CAAnB,EAAK,IAAI,GACX,EAAM,2CAA4C,EAAK,IAAI,CAAE,EAAK,OAAO,EACzE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,aAAa,EAAK,IAAI,CAAE,CAAE,KAAM,EAAK,OAAO,AAAC,IAEhF,CACF,CACA,OAAQ,CACR,OAAQ,CACR,YAAa,CACb,oBACA,AADqB,OACf,WAAY,CAChB,IAAM,EAAmB,IAAI,EAAwB,eAAe,AACpE,OAAM,IAAI,CAAC,oBAAoB,CAC/B,EAAM,uCACN,IAAI,CAAC,MAAM,CAAC,WAAW,CACrB,CACE,KAAM,oBACR,EACA,IACA,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAEtB,IAAI,CAAC,EAAE,CAAC,0BAA2B,KACjC,EAAiB,OAAO,GACxB,aAAa,EACf,GACA,IAAM,EAAmB,WAAW,KAClC,EAAiB,MAAM,CAAK,AAAJ,MAAU,oCACpC,EAAG,KACH,OAAO,CACT,CACA,GAAG,CAAK,CAAE,CAAQ,CAAE,CAAO,CAAE,CAC3B,EAAM,sCAAuC,GAC7C,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAC3B,EACA,AAAC,IACK,aAAmB,cACrB,AADmC,EAC1B,EAEb,EACA,EAEJ,CACA,IAAI,CAAK,CAAE,CAAQ,CAAE,CAAO,CAAE,CAC5B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAO,EAAU,EACpD,CACA,MAAM,KAAK,CAAK,CAAE,GAAG,CAAI,CAAE,CACzB,IAAM,EAAmB,IAAI,EAAwB,eAAe,CAC9D,EAAc,CAAC,EAAG,EAAY,OAAA,AAAO,IACrC,EAAU,CAAI,CAAC,EAAE,EAAI,CAAC,EAC5B,EAAM,mCAAoC,EAAO,EAAa,GAC9D,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAE,KAAM,EAAO,QAAS,aAAE,UAAa,CAAQ,CAAE,GAC/E,EAAM,uDAAwD,EAAO,GACrE,IAAM,EAAsB,AAAC,IAC3B,GAAM,CAAE,KAAM,CAAK,CAAE,CAAG,EACxB,GAAI,EAAM,WAAW,GAAK,EAAa,CACrC,IAAM,EAAkB,EAAM,eAAe,EAAI,CAAC,EAClD,EAAM,gDAAiD,EAAO,GAC9D,EAAiB,OAAO,CAAC,CACvB,GAAG,CAAe,CAClB,YAAa,EAAM,WAAW,AAChC,EACF,CACF,EACM,EAAwB,AAAC,IAC7B,GAAM,CAAE,KAAM,CAAK,CAAE,CAAG,EACpB,EAAM,WAAW,GAAK,IACxB,EAAM,OAD+B,yCACkB,EAAO,GAC9D,EAAiB,MAAM,CAAC,EAAM,KAAK,EAEvC,EAGA,OAFA,IAAI,CAAC,EAAE,CAAC,0BAA2B,GACnC,IAAI,CAAC,EAAE,CAAC,4BAA6B,GAC9B,EAAiB,OAAO,CAAC,KAC9B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,0BAA2B,GAC5D,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,4BAA6B,EAChE,EACF,CACF,EAGI,EAA2B,EAAQ,KAGnC,EAAe,EAAQ,KACvB,EAAgB,MAClB,YAAY,CAAO,CAAE,CACnB,IAAI,CAAC,OAAO,CAAG,CACjB,CACA,MAAM,KAAK,CAAK,CAAE,CAChB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAW,CAAE,OAAM,EAC7C,CACA,MAAM,SAAS,CAAI,CAAE,CAAQ,CAAE,CAC7B,IAAM,EAAW,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAe,MAAE,WAAM,CAAS,GAAG,KAAK,CAAC,AAAC,IACjF,MAAM,AAAI,MAAM,EAAO,mCAAoC,GAAO,CAAE,MAAO,CAAM,EACnF,GACA,GAAI,CAAC,EACH,MAAM,AAAI,EADG,IACG,kBAElB,OAAO,EAAS,IAAI,AACtB,CACA,MAAM,UAAU,CAAI,CAAE,CAAO,CAAE,CAAO,CAAE,CAEtC,IADI,EACA,GAAY,EACO,IAFR,KAAK,CAEhB,AAA6B,OAAtB,GACT,EAAW,EAAQ,QAAQ,CAC3B,EAAY,CAAC,CAAC,EAAQ,SAAS,EACH,UAAU,AAA7B,OAAO,IAChB,EAAW,CAAA,EAEb,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAgB,MAAE,UAAM,WAAS,YAAU,CAAU,GAAG,KAAK,CAAC,AAAC,IACrF,MAAM,AAAI,MAAM,EAAO,oCAAqC,GAAO,CAAE,MAAO,CAAM,EACpF,EACF,CACA,MAAM,QAAQ,CAAI,CAAE,CAClB,IAAM,EAAW,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAc,MAAE,CAAK,GAAG,KAAK,CAAC,AAAC,IACtE,MAAM,AAAI,MAAM,EAAO,wCAAyC,GAAO,CAAE,MAAO,CAAM,EACxF,GACA,GAAI,CAAC,EACH,MAAM,AAAI,EADG,IACG,uBAElB,OAAO,EAAS,IAAI,AACtB,CACA,MAAM,MAAM,CAAI,CAAE,CAAO,CAAE,CACzB,IAAM,EAAY,CAAC,CAAC,GAAS,SAC7B,OAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAY,MAAE,YAAM,CAAU,GAAG,KAAK,CAAC,AAAC,IAC9D,MAAM,AAAI,MAAM,EAAO,wCAAyC,GAAO,CAAE,MAAO,CAAM,EACxF,EACF,CACA,MAAM,KAAK,CAAI,CAAE,CACf,IAAM,EAAW,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAW,MAAE,CAAK,GAAG,KAAK,CAAC,AAAC,IACnE,MAAM,AAAI,MAAM,EAAO,mCAAoC,GAAO,CAAE,MAAO,CAAM,EACnF,GACA,GAAI,CAAC,EACH,MAAM,AAAI,EADG,IACG,kBAElB,OAAO,EAAS,IAAI,AACtB,CACA,MAAM,GAAG,CAAI,CAAE,CAAO,CAAE,CACtB,GAAM,OAAE,CAAK,WAAE,CAAS,CAAE,CAAG,GAAW,CAAC,CACzC,OAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAS,MAAE,QAAM,YAAO,CAAU,GAAG,KAAK,CAAC,AAAC,IAClE,MAAM,AAAI,MAAM,EAAO,qCAAsC,GAAO,CAAE,MAAO,CAAM,EACrF,EACF,CACA,MAAM,MAAM,CAAQ,CAAE,CAAQ,CAAE,CAAQ,CAAE,CACxC,IAAM,EAAY,CAAC,EAAG,EAAa,OAAO,AAAP,IASnC,OARA,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAY,WAAE,WAAW,WAAU,CAAS,GACpE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,iBAAkB,CAAC,CAAE,MAAI,CAAE,IACzC,GAAI,EAAK,SAAS,GAAK,GAAa,EAAU,CAC5C,IAAM,EAAM,CAAE,GAAG,CAAI,AAAC,CACtB,QAAO,EAAI,SAAS,CACpB,EAAS,EACX,CACF,GACO,CACL,QAAS,IAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAc,WAAE,CAAU,EAC7D,CACF,CACF,EAGI,EAA8B,EAAQ,KACtC,EAAW,MACb,YAAY,CAAO,CAAE,CACnB,IAAI,CAAC,OAAO,CAAG,CACjB,CACA,QAAS,CACP,OAAO,IAAI,EAAa,IAAI,CAAC,OAAO,CACtC,CACF,EACI,EAAe,MACjB,YAAY,CAAO,CAAE,CACnB,IAAI,CAAC,OAAO,CAAG,EACf,IAAI,CAAC,KAAK,CAAG,UACb,IAAI,CAAC,MAAM,CAAG,IAAI,EAA4B,OAAO,CACrD,IAAI,CAAC,MAAM,CAAG,IAAI,EAA4B,OAAO,CACrD,IAAI,CAAC,KAAK,CAAG,CACX,MAAO,AAAC,IACN,GAAI,CAAC,IAAI,CAAC,EAAE,CACV,CADY,KACN,AAAI,MAAM,6DAElB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAe,MAAE,EAAM,SAAU,IAAI,CAAC,EAAE,AAAC,EACpE,CACF,EACA,IAAI,CAAC,gBAAgB,EACvB,CACA,EAAG,CACH,KAAM,CACN,MAAO,CACP,MAAO,CACP,KAAM,CACN,kBAAmB,CACjB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,aAAe,AAAD,IAC5B,GAAM,MAAE,CAAI,CAAE,CAAG,EACjB,GAAI,EAAK,QAAQ,GAAK,IAAI,CAAC,EAAE,CAG7B,CAH+B,MAGvB,EAAK,OAAO,CAAC,IAAI,EACvB,IAAK,MACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAQ,EAAK,OAAO,CAAC,IAAI,EAC1C,KAEF,KAAK,MACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAQ,EAAK,OAAO,CAAC,IAAI,CAG9C,CACF,EACF,CACA,MAAM,WAAW,CAAO,CAAE,CAAI,CAAE,EAAU,CAAC,CAAC,CAAE,CAC5C,EAAU,CAAC,IAAI,CAAC,EAAE,CAAE,qFACpB,IAAM,EAAY,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAoB,SAAE,OAAS,UAAM,CAAQ,GAIvF,OAHA,EAAU,EAAW,6FACrB,IAAI,CAAC,EAAE,CAAG,EAAU,EAAE,CACtB,IAAI,CAAC,KAAK,CAAG,UACN,CACT,CACA,MAAM,GAAG,CAAO,CAAE,CAAQ,CAAE,CAC1B,OAAQ,GACN,IAAK,WAAY,YACf,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,kBAAmB,CAAC,MAAE,CAAI,CAAE,IAC1C,EAAS,EAAK,MAAM,CACtB,EAGF,KAAK,OAAQ,YACX,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,cAAe,CAAC,MAAE,CAAI,CAAE,IAClC,EAAK,QAAQ,GAAK,IAAI,CAAC,EAAE,EAC3B,AAD6B,EACpB,EAAK,QAAQ,CAAE,EAAK,KAAK,CAEtC,EAGJ,CACF,CACA,MAAM,MAAO,CACX,EACE,IAAI,CAAC,EAAE,CACP,kGAEF,IAAI,CAAC,KAAK,CAAG,OACb,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAc,CAAE,GAAI,IAAI,CAAC,EAAE,AAAC,GAAG,KAAK,CAAC,AAAC,IAC5D,MAAM,AAAI,MAAM,EAAO,oCAAqC,IAAI,CAAC,EAAE,EAAG,CAAE,MAAO,CAAM,EACvF,GACA,IAAI,CAAC,EAAE,CAAG,KAAK,CACjB,CACF,EAGI,EAA2B,EAAQ,KAEnC,EAAa,MACf,YAAY,CAAO,CAAE,CACnB,IAAI,CAAC,OAAO,CAAG,CACjB,CACA,MAAM,QAAQ,CAAO,CAAE,CAAS,CAAE,EALtB,GAKuC,CAAE,CACnD,GAD0C,CACpC,EAAe,IAAI,EAAyB,eAAe,CAC3D,EAAgB,WAAW,KAC/B,EAAa,MAAM,EACrB,EAAG,GACG,EAAqB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAoB,GAAS,KAAK,CAAC,AAAC,IACrF,EAAa,MAAM,CACjB,AAAI,MACF,EACE,qEACA,EAAQ,aAAa,CACrB,EAAQ,IAAI,GAIpB,GACM,EAAe,GAAsB,EAAU,GAiBrD,OAhBI,GACF,EAAa,OAAO,CAAC,CADL,AAEd,IAAK,EAAmB,GAAG,CAC3B,KAAM,EAAmB,IAAI,CAC7B,cAAe,EAAmB,aAAa,AACjD,GAEF,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,qBAAsB,CAAC,MAAE,CAAI,CAAE,IACzC,CAAC,GAAgB,EAAU,IAC7B,EAAa,CADuB,MAChB,CAAC,CACnB,IAAK,EAAK,GAAG,CACb,KAAM,EAAK,IAAI,CACf,cAAe,EAAK,aAAa,AACnC,EAEJ,GACO,EAAa,OAAO,CAAC,KAC1B,aAAa,EACf,EACF,CACA,MAAM,aAAa,CAAa,CAAE,CAAO,CAAE,CACzC,OAAO,IAAI,CAAC,OAAO,CAAC,eAAE,CAAc,EAAG,AAAC,GAAS,EAAK,aAAa,GAAK,EAAe,GAAS,KAAK,CAAC,AAAC,IACrG,MAAM,AAAI,MAAM,EAAO,iCAAkC,GAAgB,CAAE,MAAO,CAAM,EAC1F,EACF,CACA,MAAM,YAAY,CAAI,CAAE,CAAO,CAAE,CAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,MAAE,CAAK,EAAI,AAAD,GAAU,EAAK,IAAI,GAAK,EAAM,GAAS,KAAK,CAAC,AAAC,IAC1E,MAAM,AAAI,MAAM,EAAO,0BAA2B,GAAO,CAAE,MAAO,CAAM,EAC1E,EACF,CACF,EAII,EAAS,EAAY,YACrB,EAAU,MACZ,YAAY,CAAO,CAAE,CACnB,IAAI,CAAC,OAAO,CAAG,EACf,EACE,IAAI,CAAC,OAAO,CAAC,MAAM,CACnB,6GACA,IAAI,CAAC,OAAO,CAAC,MAAM,EAErB,IAAI,CAAC,GAAG,CAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAVZ,EAUgB,uCACtC,IAAI,CAAC,WAAW,EAAG,CACrB,CACA,QAAU,IAAK,CACf,WAAY,CACZ,GAAI,CACJ,cAAgB,IAAK,AACrB,UAAW,IAAK,CAChB,WAAa,IAAK,AAClB,OAAM,SAAU,CACd,GAAM,CAAE,QAAM,CAAE,QAAM,CAAE,CAAG,IAAI,CAAC,OAAO,CACvC,EAAO,oDACP,IAAM,EAAoB,IAAI,EAAyB,eAAe,AAClE,CAAC,IAAI,CAAC,GAAG,EAAE,AACb,EAAkB,MAAM,CAClB,AAAJ,MAAU,8FAGd,EACE,EAAO,aAAa,CACpB,sFAEF,IAAI,CAAC,OAAO,CAAG,IAAI,EAAc,EAAO,aAAa,EACrD,IAAM,EAAmB,IAAI,EAAyB,eAAe,CA0BrE,OAzBA,EAAO,YAAY,CAAC,MAAO,IAAI,CAAC,GAAG,EACnC,EAAO,gBAAgB,CACrB,OACA,KACE,EAAiB,OAAO,EAC1B,EACA,CAAE,MAAM,CAAK,GAEf,EAAO,gBAAgB,CACrB,QACA,AAAC,IACC,EAAiB,MAAM,CAAC,EAAM,KAAK,CACrC,EACA,CAAE,MAAM,CAAK,GAEf,MAAM,EACN,EAAO,sCACP,MAAM,IAAI,CAAC,OAAO,CAAC,SAAS,GAC5B,EAAO,4CACP,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAW,QAC3B,CACF,GACA,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,gBAAiB,KAC/B,EAAkB,OAAO,EAC3B,GACO,EAAkB,IAAI,CAAC,KAC5B,EAAO,6CACP,IAAI,CAAC,WAAW,EAAG,CACrB,EACF,CACA,IAAI,IAAK,QACP,EACE,IAAI,CAAC,WAAW,CAChB,uGAEE,IAAI,CAAC,aAAa,EAAE,CAGxB,IAAI,CAAC,aAAa,CAAG,IAAI,EAAc,IAAI,CAAC,QAAO,EAF1C,IAAI,CAAC,aAAa,AAI7B,CACA,IAAI,OAAQ,QACV,EACE,IAAI,CAAC,WAAW,CAChB,iGAEE,IAAI,CAAC,QAAQ,EAAE,CAGnB,IAAI,CAAC,QAAQ,CAAG,IAAI,EAAS,IAAI,CAAC,OAAO,GAFhC,IAAI,CAAC,QAIhB,AAJwB,CAKxB,IAAI,SAAU,QACZ,EACE,IAAI,CAAC,WAAW,CAChB,mGAEE,IAAI,CAAC,UAAU,EAAE,CAGrB,IAAI,CAAC,UAAU,CAAG,IAAI,EAAW,IAAI,CAAC,QAAO,EAFpC,IAAI,CAAC,UAAU,AAI1B,CACF,ED9hCA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,QAsCA,IAAI,EAA6B,SAAU,CAAM,CAAE,CAAO,EACtD,EAAO,KAAK,CAAC,MAAM,CAAG,IACtB,EAAO,KAAK,CAAC,KAAK,CAAG,EAAQ,KAAK,EAAI,OACtC,EAAO,KAAK,CAAC,MAAM,CAAG,EAAQ,MAAM,EAAI,OACxC,EAAO,KAAK,CAAC,QAAQ,CAAG,SACxB,EAAO,KAAK,CAAG,uBACnB,EAkHI,EAAU,CACV,CAAE,KAAM,CAhHZ,SAAS,AAAsB,CAAE,EAC7B,IAAI,EAAQ,EAAG,KAAK,CAEhB,EAAmB,OAAO,OAAO,CAAC,SAAS,CAC3C,EAAc,EAAE,CAChB,EAAkB,EAClB,EAAkB,SAAU,CAAG,EAC/B,OAAO,WAAW,CAAC,CACf,KAAM,YACN,IAAK,EACL,KAAM,EAAkB,EACxB,QAAS,EAAkB,EAAY,MAAM,CAAG,EAChD,UAAW,EAAM,SAAS,AAC9B,EAAG,IACP,EAOA,OAAO,MAAM,CAAC,OAAO,OAAO,CAAE,CAC1B,GAAI,SAAU,CAAK,EACf,IAAI,EAAS,EAAkB,EAC/B,GAAI,GAAU,GAAK,GAAU,EAAY,MAAM,CAAG,EAAG,CAEjD,IAAI,EAAK,CAAW,CAAC,AADrB,EAAkB,EACmB,CAAE,EAAM,EAAG,GAAG,CAAE,EAAQ,EAAG,KAAK,CACrE,EAAiB,YAAY,CAAC,IAAI,CAAC,OAAO,OAAO,CAAE,EAAO,GAAI,GAE9D,EADa,SAAS,KACN,GADc,CAAC,IAAI,EAEnC,OAAO,aAAa,CAAC,IAAI,cAAc,WAAY,CAAE,MAAO,CAAM,GACtE,CACJ,EACA,KAAM,WACF,OAAO,OAAO,CAAC,EAAE,CAAC,CAAC,EACvB,EACA,QAAS,WACL,OAAO,OAAO,CAAC,EAAE,CAAC,EACtB,EACA,UAAW,SAAU,CAAK,CAAE,CAAK,CAAE,CAAG,EAClC,EAAiB,YAAY,CAAC,IAAI,CAAC,OAAO,OAAO,CAAE,EAAO,EAAO,GAvBrE,EAAY,MAAM,CAAC,EAAkB,GACrC,EAAY,IAAI,CAAC,CAAE,IAuBH,CAvBQ,CAAK,MAuBR,CAvBqB,AAAN,GACpC,EAAkB,EAAY,MAAM,CAAG,EAuBnC,EAAgB,SAAS,QAAQ,CAAC,IAAI,CAC1C,EACA,aAAc,SAAU,CAAK,CAAE,CAAK,CAAE,CAAG,EACrC,EAAiB,YAAY,CAAC,IAAI,CAAC,OAAO,OAAO,CAAE,EAAO,EAAO,GACjE,CAAW,CAAC,EAAgB,CAAG,CAAE,MAAO,EAAO,IAAK,CAAI,EACxD,EAAgB,SAAS,QAAQ,CAAC,IAAI,CAC1C,CACJ,GAaA,OAAO,gBAAgB,CAAC,UAZxB,CAYmC,QAZ1B,AAAc,CAAE,EACrB,IAAI,EAAO,EAAG,IAAI,CACA,WAAW,CAAzB,EAAK,IAAI,CACT,QAAQ,IAAI,GAEO,cAAc,CAA5B,EAAK,IAAI,CACd,QAAQ,OAAO,GAEI,WAAW,CAAzB,EAAK,IAAI,EACd,SAAS,QAAQ,CAAC,MAAM,EAEhC,GAEJ,EAiDkC,QAAQ,GAAI,GAAI,iBAAkB,EAChE,CACI,KAAM,oCAAsC,EAAA,CAAW,CAAG,OAC1D,GAAI,aACR,EACA,CAAE,KAAM,CAnDZ,SAAS,AAAY,CAAE,EACnB,IAsBI,EAtBA,EAAQ,EAAG,KAAK,CAChB,EAAa,EAQjB,SAAS,QAED,GACA,OAAO,KADQ,CACF,CAAC,MADS,KACE,CAAC,CACtB,KAAM,SACN,QAAQ,CACR,aAAa,EACb,UAAW,EAAM,SAAS,AAC9B,EAAG,KAEP,EAfW,CAgBf,CACA,IAUA,AARe,IAAI,CAJF,gBAImB,gBACf,IAAb,IACA,GADwB,CAExB,EAAW,WAAW,WAClB,OAAW,CACf,EAAG,KAEX,GACS,OAAO,CAAC,SAAU,CACvB,WAAY,GACZ,WAAW,EACX,SAAS,CACb,GAKA,YAAY,EAAiB,KACjC,EASwB,QAAQ,GAAI,GAAI,aAAc,EACrD,CACG,EAAuB,SAAU,CAAM,CAAE,CAAS,EAClD,EAAQ,OAAO,CAAC,SAAU,CAAE,EAExB,IADI,EACA,EAAO,EAAG,IAAI,CAAE,EAAK,EAAG,EAAE,AAO9B,OAAC,GAAK,EAAO,aAAA,AAAa,GAAuC,EAAG,CAApC,QAAQ,EAAuC,CANjE,AAMkE,CAL5E,GAK2C,CALtC,EACL,EAIgD,GC82BlC,CDl3BR,AAI8C,KAAK,cAHzD,KAAM,sBAAsB,MAAM,CAAC,GACnC,MAAO,CAAE,UAAW,CAAU,CAClC,EACyF,IAC7F,EACJ,EAGI,EAA8B,SAAU,CAAM,EAE9C,SAAS,EAAa,CAAQ,CAAE,CAAW,CAAE,CAAO,EAC5C,AAAY,KAAK,GAAG,IAAE,GAAU,EAAC,EACrC,IAAI,EAAQ,EAAO,IAAI,CAAC,IAAI,CAAE,EAAU,EAAa,CAAA,EAAA,EAAA,CAAA,AAAQ,EAAC,CAAA,EAAA,EAAA,CAAA,AAAQ,EAAC,CAAC,EAAG,GAAU,CAAE,WAAY,EAAQ,UAAU,AAAC,KAAO,IAAI,CAcjI,OAbA,EAAM,aAAa,CAAG,IAAI,IAC1B,EAAM,gBAAgB,CAAG,CAAA,EAAA,EAAA,CAAA,AAAgB,IACzC,EAAM,YAAY,CAAG,KACrB,EAAM,OAAO,CAAG,IAAI,EAAA,CAAY,CAEhC,EAAM,aAAa,CAAC,GAEpB,EAAM,QAAQ,CAAG,IAAI,EAAQ,CACzB,OAAQ,EAAM,cAAc,CAC5B,WAAY,EAAM,OAAO,CAAC,UAAU,AACxC,GAEA,EAAM,aAAa,CAAC,GACb,CACX,CA2bA,MA7cA,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,EAAc,GAoBxB,EAAa,SAAS,CAAC,KAAK,CAAG,SAAU,CAAK,EAC1C,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EAAG,MAAO,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,MAAiB,CAAC,OAAO,GAAG,AACrD,MAAK,EAGD,OAFA,EAAG,IAAI,GAEA,CAAC,EAAa,AAAX,IAAe,CAAC,EAAT,MAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,GAAO,AACtD,MAAK,EAID,OAFA,EAAG,IAAI,GAEA,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,aAAwB,GAC7C,AADgD,MAC3C,EAGD,OADA,EAAG,IAAI,GACA,CAAC,EAAE,AAAW,AAC7B,CACJ,EACJ,EACJ,EAIA,CARsC,CAQzB,SAAS,CAAC,OAAO,CAAG,SAAU,CAAK,EAC5C,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,IAAI,EAAS,EACb,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EAQD,OAPA,EAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAG,GAAK,EAAE,EAExB,IAAI,CAAC,MAAM,CAAG,eACd,IAAI,CAAC,QAAQ,CAAC,CAAE,KAAM,QAAS,WAAW,CAAK,GAC3C,AAAC,IAAI,CAAC,YAAY,EAAE,CACpB,IAAI,CAAC,YAAY,CAAG,IAAI,CAAC,KAAK,CAAC,EAAA,EAE5B,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,UAAqB,CAAC,AAC3C,MAAK,EAGD,OAFA,EAAG,IAAI,GACP,IAAI,CAAC,QAAQ,CAAC,CAAE,KAAM,WAAY,GAC3B,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,wBAAmC,CAAC,GAAO,AAChE,MAAK,EAGD,OAFA,EAAW,EAAG,IAAI,GAAI,EAAE,CAEjB,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,oBAA+B,CAAC,GACrD,AAD8D,MACzD,EAGD,OADA,EAAG,IAAI,GACA,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,sBAAiC,GAAG,AACzD,MAAK,EAID,OAHA,EAAG,IAAI,GAEP,IAAI,CAAC,mBAAmB,GACjB,CAAC,EAAa,AAAX,EACd,AAD2B,KAAN,CAChB,EASD,OARA,EAAQ,EAAG,IAAI,GACf,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,SACN,OAAQ,eACR,iBAAkB,QAClB,MAAO,CAAA,EAAA,EAAA,CAAA,AAAmB,EAAC,EAC/B,GACA,IAAI,CAAC,QAAQ,CAAC,CAAE,KAAM,OAAQ,iBAAiB,CAAK,GAC7C,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAAG,MAAO,CAAC,EAAE,AAAW,AACjC,CACJ,EACJ,EACJ,EAIA,CAR0C,CAQ7B,SAAS,CAAC,0BAA0B,CAAG,SAAU,CAAK,EAC/D,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WAGnC,IAFI,EACA,EACA,EAAQ,IAAI,CAChB,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EAKD,OAJA,EAAqB,CAAA,EAAA,EAAA,CAAU,AAAV,EAAW,CAAK,CAAC,gBAAgB,EACtD,IAAI,CAAC,eAAe,CAAG,CAAA,EAAA,EAAA,CAAA,AAA0B,EAAC,GAClD,IAAI,CAAC,oBAAoB,CAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAE/C,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,kBAA6B,CAAC,EAAE,CAAC,OAAQ,SAAU,CAAQ,EACpE,EAAM,QAAQ,CAAC,CACX,KAAM,SACN,OAAQ,eACR,iBAAkB,QAClB,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,uBAAuB,MAAM,CAAC,EAAU,aAC/D,EACJ,GAAG,AACX,MAAK,EAGD,OADA,EAAG,IAAI,GACA,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,kBAA6B,CAAC,EAAE,CAAC,WAAY,SAAU,CAAI,EACpE,IAAI,EAAI,EACR,GAAmB,oBAAf,EAAK,KAAK,EACV,AAAe,uBAAV,KAAK,CAAyB,CACnC,EAAM,QAAQ,CAAC,CACX,KAAM,iBACN,KAAM,CAAA,EAAA,EAAA,CAAA,AAAQ,EAAC,CAAA,EAAA,EAAA,CAAA,AAAQ,EAAC,CAAC,EAAG,GAAO,CAAE,QAAS,CACtC,OAAC,EAAK,EAAM,eAAA,AAAe,EAA8B,IAAxB,CAA6B,EAAI,CAAE,CAAC,EAAE,CACvE,AADyC,OACxC,AAD+C,EAC1C,EAAM,CADyC,cACzC,AAAe,EAA8B,IAAxB,CAA6B,EAAI,CAAE,CAAC,EAAE,CAA9B,AAA+B,IAAI,CAAC,EAA7B,GACnD,CAAC,CADuD,GACnD,CAAC,IAAK,EACpB,GACA,EAAM,MAAM,CAAG,0BACf,MACJ,CACA,EAAM,QAAQ,CAAC,CAAE,KAAM,iBAAkB,KAAM,CAAK,EACxD,GAAG,AACX,MAAK,EAQD,OAPA,EAAG,IAAI,GACP,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC,OAAQ,SAAU,CAAI,EACtD,EAAM,QAAQ,CAAC,CAAE,KAAM,SAAU,QAAS,CAAE,KAAM,EAAM,KAAM,KAAM,CAAE,EAC1E,GACA,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC,OAAQ,SAAU,CAAI,EACtD,EAAM,QAAQ,CAAC,CAAE,KAAM,SAAU,QAAS,CAAE,KAAM,EAAM,KAAM,KAAM,CAAE,EAC1E,GACO,CAAC,EAAE,AAAW,CAAC,EAAK,IAAV,AAAc,CAAC,oBAAoB,AAApB,EAAsB,UAAU,CAAC,KAAK,CAAC,EAAI,IAAI,CAAC,eAAe,EAAE,AACrG,MAAK,EAAG,MAAO,CAAC,EAAE,AAAY,EAAG,IAAI,EAAX,CAAc,AAC5C,CACJ,EACJ,EACJ,EACA,EAAa,SAAS,CAAC,sBAAsB,CAAG,SAAU,CAAE,EACxD,IAAI,EACJ,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,IAAI,EACJ,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EAED,OADA,IAAI,CAAC,gBAAgB,MAAG,EACjB,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,MAAiB,CAAC,OAAO,CAAC,YAAY,CAAC,GAAI,AAChE,MAAK,EAGD,OAFA,EAAO,EAAG,IAAI,GAAI,GAAG,CACrB,IAAI,CAAC,gBAAgB,CAAG,GAAO,GAAD,IAAE,EAAK,IAAI,CAAC,OAAO,CAAC,UAAA,AAAU,EAA8B,EAAK,EAA7B,AAA6B,CAAE,CAC1F,CAAC,EAChB,AAD6B,AAAX,CAEtB,EACJ,AAJ0F,EAK9F,EAQA,CAZsC,CAYzB,CAbwF,KAAK,GAapF,CAAC,aAAa,CAAG,SAAU,CAAQ,EACrD,IAAI,EAIJ,GAAwB,AAApB,iBAAO,EAAuB,CAC9B,IAAI,EAAU,SAAS,aAAa,CAAC,GACrC,CAAA,EAAA,EAAA,CAAA,AAAU,EAAC,EAAS,gBAAgB,MAAM,CAAC,EAAU,oBACrD,IAAI,CAAC,MAAM,CAAG,SAAS,aAAa,CAAC,UACrC,SAAkD,EAAQ,CAA9C,QAAQ,EAAiD,CAAC,IAAI,CAAC,IAA3C,EAAiD,CACrF,EADyC,IAGrC,AAHyC,CAExC,GACG,CAH0C,AAGzC,MAAM,CAAG,EAGlB,EAA2B,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC,OAAO,EACpD,CAAA,EAAA,EAAA,CAAA,AAAU,EAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAE,4CAKnC,IAAI,CAAC,cAAc,CAAG,SAAS,aAAa,CAAC,UAC7C,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,mBAClC,OAAC,EAAK,IAAI,CAAC,MAAM,CAAC,UAAA,AAAU,GAAuC,EAAG,CAApC,QAAQ,EAAuC,CAAC,IAAjC,AAAqC,CAAC,IAAjC,IAAI,KAAK,CAAsC,CACzG,EACA,EAAa,SAAS,CAAC,wBAAwB,CAAG,WAC9C,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EACD,GAAI,CAAC,IAAI,CAAC,gBAAgB,CAAE,MAAO,CAAC,EAAE,AAAW,EAAE,CACnD,IAD6C,EACtC,CAAC,EAAE,AA9XlC,AA8X6C,OAAJ,EA9XhC,AAAkB,CAAM,CAAE,CAAG,EAClC,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,IAAI,EAAyC,EAAO,EACpD,MAAO,CAAA,EADY,AACZ,EAAA,CAAA,AAAW,EAAC,IAAI,CADM,AACJ,SAAU,CAAE,SACjC,EAAgB,EAAO,aAAa,CACpC,CAAA,EAAA,EAAA,CAAU,AAAV,EAAW,EAAe,2DAG1B,EAAQ,EACD,CAAC,EAAE,AAAY,IAAI,IAAR,IAAgB,SAAU,CAAO,CAAE,CAAM,EACnD,IAAI,EAAgB,WAChB,IAAI,EAAa,WACb,aAAa,GACb,KACA,GADQ,CAER,EAAO,mBAAmB,CAAC,OAAQ,EACvC,CACA,CAAI,GAVC,GAWD,EAAO,CADE,AACF,EAAA,EAAA,CAAA,AAAW,EAAC,SADM,kCAI7B,EAAO,YAAY,CAAC,MAAO,GAC3B,EAAU,WAAW,WACjB,IACA,EAAO,mBAAmB,CAAC,OAAQ,EACvC,EAnBD,CAmBI,IACH,GAAgB,EAChB,EAAO,CADC,eACe,CAAC,OAAQ,GACpC,EACA,EAAO,gBAAgB,CAAC,QAAS,WAAc,OAAO,EAAO,AAAI,MAAM,gBAAkB,GACzF,EAAO,gBAAgB,CAAC,QAAS,WAAc,OAAO,EAAO,AAAI,MAAM,WAAa,GACpF,GACJ,GAAG,AACX,EACJ,EACJ,EA2V+D,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC,gBAAgB,EAAE,AAC/E,MAAK,EACD,EAAG,IAAI,GACP,EAAG,KAAK,CAAG,CACf,MAAK,EAAG,MAAO,CAAC,EAAE,AAAW,AACjC,CACJ,EACJ,EACJ,EAKA,CAT0C,CAS7B,SAAS,CAAC,mBAAmB,CAAG,WACzC,IAAI,CAAC,MAAM,CAAG,OACd,IAAI,CAAC,QAAQ,CAAC,CAAE,KAAM,OAAQ,iBAAiB,CAAM,GACjD,IAAI,CAAC,gBAAgB,EAAE,AACvB,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,YACN,IAAK,IAAI,CAAC,gBAAgB,CAC1B,MAAM,EACN,QAAS,EACb,EAER,EACA,EAAa,SAAS,CAAC,eAAe,CAAG,WACrC,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,IAAI,EAAQ,IAAI,CAChB,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EAkBD,OAjBA,OAAO,gBAAgB,CAAC,UAAW,SAAU,CAAK,ECgoBxC,mBD/nBF,EAAM,IAAI,CAAC,IAAI,EACf,EAAqB,CADD,CACO,MAAM,CAAE,EAAM,gBAAgB,EAEzD,AAAoB,CAH6B,eAG3C,IAAI,CAAC,IAAI,EACf,EAAM,IAAI,CAAC,SAAS,GAAK,EAAM,gBAAgB,CAC/C,CADiD,CAC3C,QAAQ,CAAC,CACX,KAAM,YACN,IAAK,EAAM,IAAI,CAAC,GAAG,CACnB,KAAM,EAAM,IAAI,CAAC,IAAI,CACrB,QAAS,EAAM,IAAI,CAAC,OAAO,AAC/B,GAEK,EAAM,IAAI,CAAC,SAAS,GAAK,EAAM,gBAAgB,EACpD,AADsD,EAChD,QAAQ,CAAC,EAAM,IAAI,CAEjC,GACO,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,MAAiB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAE,CAC3C,QACA,eACA,QACA,OACA,SACA,UACA,YACH,CAAE,SAAU,CAAO,EAAI,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,EAAO,KAAK,EAAG,KAAK,EAAG,WAC5D,IAAI,EAAO,EAAgB,EAAS,EAAY,AAA/B,EACjB,IADuB,EAChB,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EACD,GAAI,CAAC,EACD,MAAO,CAAC,EAAE,AAAW,CAOzB,OAPsB,AAEtB,EAAO,YADP,CACoB,CADZ,CAAA,EAEF,EAAM,OAAO,CACb,SAAU,EACN,EAAM,IAAI,CACV,GACH,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,MAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,GAAM,AACrD,MAAK,EAED,GAAI,AAAS,SADL,EAAG,IAAI,GAAI,IAAI,CAEnB,MAAO,CAAC,EAAE,AAAY,KAAK,CAC/B,EAAG,AADmB,KACd,CAAG,CACf,MAAK,EAGD,OAFA,AAEQ,EAFL,IAAI,CAAC,IAAI,CAAC,CAAC,EAAG,IAAM,GAAG,EACrB,EAAM,IAAI,EAEX,IAAK,SACL,IAAK,SADU,MAAO,CAAC,EAAa,AAAX,EAAa,AAEtC,KAFgC,AAE3B,SAAU,MAAO,CAAC,EAAE,AAAW,EAAE,AACtC,KADgC,AAC3B,SAAU,MAAO,CAAC,EAAE,AAAW,EACpC,AADsC,KAAN,AAC3B,QAAS,MAAO,CAAC,EAAE,AAAW,EAAE,AACzC,CACA,IAFmC,EAE5B,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAAG,MAAO,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,MAAiB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAM,IAAI,CAAE,QAAQ,AAC3E,MAAK,EAQD,OAPA,EAAU,EAAG,IAAI,GACjB,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,YACN,KAAM,EAAM,IAAI,CAChB,QAAS,CACb,GACA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAM,IAAI,CAAE,CAAA,EAAA,EAAA,CAAW,AAAX,EAAY,IACxC,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAMD,OALA,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,YACN,KAAM,EAAM,IAAI,AACpB,GACA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAM,IAAI,EAC7B,CAAC,EAAa,AAAX,EACd,AAD2B,KAAN,CAChB,EAMD,OALA,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,YACN,KAAM,EAAM,OAAO,AACvB,GACA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAM,OAAO,EAChC,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,MAAiB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAM,OAAO,CAAE,QAAQ,AAC1E,MAAK,EAQD,OAPA,EAAa,EAAG,IAAI,GACpB,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,YACN,KAAM,EAAM,OAAO,CACnB,QAAS,CACb,GACA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAM,OAAO,CAAE,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAC3C,CAAC,EAAE,AAAW,EACzB,AAD2B,KAAN,CAChB,EAAG,MAAO,CAAC,EAAE,AAAW,EAAE,AAC/B,KADyB,CACpB,EAAG,MAAO,CAAC,EAAa,AAAX,GAClB,AADgC,IAAP,EACpB,GAQD,OAPA,EAAQ,EAAG,IAAI,GACf,IAAI,CAAC,QAAQ,CAAC,CACV,KAAM,SACN,OAAQ,eACR,iBAAkB,QAClB,MAAO,CAAA,EAAA,EAAA,CAAA,AAAmB,EAAC,EAC/B,GACO,CAAC,EAAE,AAAW,GAAG,AAC5B,IADqB,EAChB,GAAI,MAAO,CAAC,EAAE,AAAW,AAClC,CACJ,EACJ,EAAI,GAAG,AACf,AAJ+C,MAI1C,EAED,OADA,EAAG,IAAI,GACA,CAAC,EAChB,AAD6B,AAAX,CAEtB,EACJ,EACJ,EAIA,CARsC,CAQzB,SAAS,CAAC,mBAAmB,CAAG,WACzC,IAAI,EACJ,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WACnC,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EACD,GAAI,CAAC,CAAC,IAAI,CAAC,oBAAoB,EAAI,IAAI,CAAC,eAAe,AAAf,EAAkB,MAAO,CAAC,EAAE,AAAW,EAAE,CAKjF,IAL2E,GAE3E,IAAI,CAAC,QAAQ,CAAC,CAAE,KAAM,QAAS,WAAW,CAAK,GAC/C,IAAI,CAAC,MAAM,CAAG,eAEP,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,kBAA6B,CAAC,IAAI,GAAG,AAC1D,MAAK,EASD,OAPA,EAAG,IAAI,GACP,OAAC,EAAK,IAAI,CAAC,MAAA,AAAM,GAAuC,EAAG,CAApC,QAAQ,MAA2C,CAApC,AAAqC,KAAhC,GAC3C,CAD+C,GAC3C,CAAC,CAD+C,OACvC,CAAC,EAAE,CAAC,EAAE,CAAC,sBAAuB,CACvC,WAAW,EACX,OAAO,CACX,GAEO,CAAC,EAAE,AAAW,IAAI,CAAC,EAAT,KAAgB,CAAC,OAAO,WAAW,CAAC,IAAI,CAAC,aAAa,GAAG,AAC9E,MAAK,EAED,EAAG,IAAI,GACP,EAAG,KAAK,CAAG,CACf,MAAK,EAAG,MAAO,CAAC,EAAE,AAAW,AACjC,CACJ,EACJ,EACJ,EACA,CAL0C,CAK7B,SAAS,CAAC,aAAa,CAAG,SAAU,CAAK,EAClD,IACI,EADA,EAAQ,IAAI,CAEZ,EAAU,CAAA,EAAA,EAAA,CAAoB,AAApB,EAAqB,EAAM,KAAK,CAI9C,AAAI,CAAC,QAAC,EAAK,IAAI,CAAC,oBAAA,AAAoB,EAA8B,IAAxB,CAA6B,EAAI,EAAG,GAA5B,EAA4B,AAAK,IAAM,CAAhC,KAAK,IAC1D,CADgG,MACzF,OAAO,CAAC,GAAS,OAAO,CAAC,SAAU,CAAE,EACxC,IAAI,EAAM,CAAE,CAAC,EAAE,CAAE,EAAQ,CAAE,CAAC,EAAE,AAC1B,CAAC,EAAM,aAAa,CAAC,GAAG,CAAC,IACzB,CAAA,EAAA,EAAA,CAAA,AAAU,EAAC,KAAW,CAAA,EAAA,EAAA,CAAU,AAAV,EAAW,EAAM,aAAa,CAAC,GAAG,CAAC,KACzD,EADgE,AAC1D,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAK,EAAO,CAAE,WAAW,CAAK,EAElE,IAMJ,IAAI,CAAC,QAAQ,CAAC,CACV,aAAa,EACb,QAAS,EACT,SAAU,EAAM,QAAQ,CACxB,KAAM,SACV,GAMA,OAAO,OAAO,CAAC,GAAS,OAAO,CAAC,SAAU,CAAE,EACxC,IAAI,EAAM,CAAE,CAAC,EAAE,CAAE,EAAQ,CAAE,CAAC,EAAE,CAC9B,EAAM,aAAa,CAAC,GAAG,CAAC,EAAK,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,GAC7C,GACJ,EACA,EAAa,SAAS,CAAC,QAAQ,CAAG,SAAU,CAAO,EAC/C,IAAI,EAAI,EACR,MAAO,CAAA,EAAA,EAAA,CAAA,AAAS,EAAC,IAAI,CAAE,KAAK,EAAG,KAAK,EAAG,WAEnC,MAAO,CAAA,EAAA,EAAA,CAAA,AAAW,EAAC,IAAI,CAAE,SAAU,CAAE,EACjC,OAAQ,EAAG,KAAK,EACZ,KAAK,EAED,OADK,AACG,EADK,IAAI,EAEb,IAAK,UAAW,MAAO,CAAC,EAAE,AAAW,EAAE,AACvC,KADiC,AAC5B,UAAW,MAAO,CAAC,EAAE,AAAW,EAAE,AACvC,KADiC,AAC5B,UACL,IAAK,aADW,MAAO,CAAC,EAAa,AAAX,EAAa,AAEvC,KAFiC,AAE5B,gBAAiB,MAAO,CAAC,EAAE,AAAW,EAAE,AAC7C,KADuC,AAClC,oBAAqB,MAAO,CAAC,EAAE,AAAW,EACnD,AADqD,CAErD,IAF+C,EAExC,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAED,OADA,IAAI,CAAC,OAAO,CAAC,EAAQ,OAAO,EACrB,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAAG,MAAO,CAAC,EAAa,AAAX,IAAe,CAAC,EAAT,sBAAiC,GAAG,AAC7D,MAAK,EAED,OADA,EAAG,IAAI,GACA,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAED,OADA,OAAC,EAAK,OAAC,EAAK,IAAI,CAAC,MAAA,AAAM,EAA8B,IAAxB,CAA6B,EAAI,EAAG,GAA5B,OAAO,GAAqB,AAAa,EAA7B,CAAoE,EAAG,CAApC,QAAQ,EAAuC,CAAC,EAAS,EAA1C,GAC5F,CAAC,CADgG,CAC9F,AAAW,EAAE,AAC3B,CAFgH,IAC3F,CADgG,AAEhH,EAED,OADA,IAAI,CAAC,mBAAmB,GACjB,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EAED,OADA,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAE,UAC5B,CAAC,EAAE,AAAW,EAAE,AAC3B,KADqB,CAChB,EACD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GACtB,EAAG,KAAK,CAAG,CACf,MAAK,EAAG,MAAO,CAAC,EAAE,AAAW,AACjC,CACJ,EACJ,EACJ,EACA,CAL0C,CAK7B,SAAS,CAAC,MAAM,CAAG,SAAU,CAAQ,EAC9C,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EACjC,EACA,EAAa,SAAS,CAAC,OAAO,CAAG,WAC7B,IAAI,CAAC,cAAc,CAAC,MAAM,GAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EACxB,EACO,CACX,EAAE,EAAA,CAAc","ignoreList":[0,1]}