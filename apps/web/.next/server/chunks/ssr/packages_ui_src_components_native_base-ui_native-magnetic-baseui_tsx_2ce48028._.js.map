{"version":3,"sources":["../../../../../../packages/ui/src/components/native/base-ui/native-magnetic-baseui.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport { Button } from \"@base-ui/react/button\";\nimport {\n  motion,\n  Transition,\n  useMotionValue,\n  useSpring,\n  useTransform,\n} from \"framer-motion\";\nimport { useRef, useState } from \"react\";\n\nexport interface NativeMagneticProps {\n  /**\n   * Content to apply the magnetic effect to.\n   */\n  children: React.ReactNode;\n  /**\n   * Strength of the magnetic pull (0-1 range recommended).\n   * Default: 0.3\n   */\n  strength?: number;\n  /**\n   * Spring stiffness for the animation.\n   * Default: 300\n   */\n  stiffness?: number;\n  /**\n   * Spring damping for the animation.\n   * Default: 30\n   */\n  damping?: number;\n  /**\n   * Whether to scale up on hover.\n   * Default: true\n   */\n  scaleOnHover?: boolean;\n  /**\n   * Wrapper element type.\n   * Default: 'div'\n   */\n  as?: \"div\" | \"button\" | \"a\";\n  /**\n   * Link href (only applies when as=\"a\").\n   */\n  href?: string;\n  /**\n   * Click handler.\n   */\n  onClick?: () => void;\n  className?: string;\n}\n\nconst springTransition: Transition = {\n  type: \"spring\",\n  stiffness: 400,\n  damping: 25,\n};\n\nexport function NativeMagnetic({\n  children,\n  strength = 0.3,\n  stiffness = 300,\n  damping = 30,\n  scaleOnHover = true,\n  as = \"div\",\n  href,\n  onClick,\n  className,\n}: NativeMagneticProps) {\n  const ref = useRef<HTMLElement>(null);\n  const [, setIsHovered] = useState(false);\n\n  const x = useMotionValue(0);\n  const y = useMotionValue(0);\n\n  const springConfig = { stiffness, damping };\n  const springX = useSpring(x, springConfig);\n  const springY = useSpring(y, springConfig);\n\n  const translateX = useTransform(springX, (v) => v * strength);\n  const translateY = useTransform(springY, (v) => v * strength);\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (!ref.current) return;\n\n    const rect = ref.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n\n    x.set(e.clientX - centerX);\n    y.set(e.clientY - centerY);\n  };\n\n  const handleMouseLeave = () => {\n    x.set(0);\n    y.set(0);\n    setIsHovered(false);\n  };\n\n  const commonMotionProps = {\n    onMouseMove: handleMouseMove,\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: handleMouseLeave,\n    style: {\n      x: translateX,\n      y: translateY,\n    },\n    whileHover: scaleOnHover ? { scale: 1.05 } : undefined,\n    whileTap: { scale: 0.95 },\n    transition: springTransition,\n  };\n\n  if (as === \"a\" && href) {\n    return (\n      <motion.a\n        ref={ref as React.RefObject<HTMLAnchorElement>}\n        href={href}\n        className={cn(\"inline-block cursor-pointer\", className)}\n        onClick={onClick}\n        {...commonMotionProps}\n      >\n        {children}\n      </motion.a>\n    );\n  }\n\n  if (as === \"button\") {\n    const MotionButton = motion(Button);\n    return (\n      <MotionButton\n        ref={ref as React.RefObject<HTMLButtonElement>}\n        // @ts-ignore\n        type=\"button\"\n        className={cn(\"inline-block cursor-pointer\", className)}\n        onClick={onClick}\n        {...commonMotionProps}\n      >\n        {children}\n      </MotionButton>\n    );\n  }\n\n  return (\n    <motion.div\n      ref={ref as React.RefObject<HTMLDivElement>}\n      className={cn(\"inline-block cursor-pointer\", className)}\n      onClick={onClick}\n      {...commonMotionProps}\n    >\n      {children}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAOA,EAAA,EAAA,CAAA,CAAA,QA2CA,IAAM,EAA+B,CACnC,KAAM,SACN,UAAW,IACX,QAAS,EACX,EAEO,SAAS,EAAe,UAC7B,CAAQ,UACR,EAAW,EAAG,WACd,EAAY,GAAG,CACf,UAAU,EAAE,cACZ,GAAe,CAAI,IACnB,EAAK,KAAK,MACV,CAAI,SACJ,CAAO,WACP,CAAS,CACW,EACpB,IAAM,EAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAc,MAC1B,EAAG,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAE5B,EAAI,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,GACnB,EAAI,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,GAEnB,EAAe,WAAE,UAAW,CAAQ,EACpC,EAAU,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAG,GACvB,EAAU,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,EAAG,GAsBvB,EAAoB,CACxB,YAlBsB,AAAC,CAkBV,GAjBb,GAAI,CAAC,EAAI,OAAO,CAAE,OAElB,IAAM,EAAO,EAAI,OAAO,CAAC,qBAAqB,GACxC,EAAU,EAAK,IAAI,CAAG,EAAK,KAAK,CAAG,EACnC,EAAU,EAAK,GAAG,CAAG,EAAK,MAAM,CAAG,EAEzC,EAAE,GAAG,CAAC,EAAE,OAAO,CAAG,GAClB,EAAE,GAAG,CAAC,EAAE,OAAO,CAAG,EACpB,EAUE,aAAc,IAAM,GAAa,GACjC,aATuB,CAST,IARd,EAAE,GAAG,CAAC,GACN,EAAE,GAAG,CAAC,GACN,GAAa,EACf,EAME,MAAO,CACL,EAzBe,CAAA,AAyBZ,EAzBY,EAAA,YAAY,AAAZ,EAAa,EAAS,AAAC,GAAM,EAAI,GA0BhD,EAzBe,CAAA,AAyBZ,EAzBY,EAAA,YAAA,AAAY,EAAC,EAAU,AAAD,GAAO,EAAI,EA0BlD,EACA,WAAY,EAAe,CAAE,MAAO,IAAK,OAAI,EAC7C,SAAU,CAAE,MAAO,GAAK,EACxB,WAAY,CACd,EAEA,GAAW,MAAP,GAAc,EAChB,IADsB,EAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,CAAC,CAAA,CACP,IAAK,EACL,KAAM,EACN,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EAAG,8BAA+B,GAC7C,QAAS,EACR,GAAG,CAAiB,UAEpB,IAKP,GAAW,WAAP,EAAiB,CACnB,IAAM,EAAe,CAAA,EAAA,EAAA,MAAM,AAAN,EAAO,EAAA,MAAM,EAClC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,IAAK,EAEL,KAAK,SACL,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EAAG,8BAA+B,GAC7C,QAAS,EACR,GAAG,CAAiB,UAEpB,GAGP,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,IAAK,EACL,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,8BAA+B,GAC7C,QAAS,EACR,GAAG,CAAiB,UAEpB,GAGP"}