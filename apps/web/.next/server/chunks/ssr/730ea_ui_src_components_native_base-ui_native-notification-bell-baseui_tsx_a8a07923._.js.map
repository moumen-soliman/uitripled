{"version":3,"sources":["../../../../../../packages/ui/src/components/native/base-ui/native-notification-bell-baseui.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport { motion, useReducedMotion, type Variants } from \"framer-motion\";\nimport { Bell } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\n\nexport interface NativeNotificationBellProps {\n  /**\n   * Number of notifications to display.\n   * Default: 0\n   */\n  count?: number;\n  /**\n   * Whether to show the notification badge.\n   * Automatically true if count > 0.\n   */\n  showBadge?: boolean;\n  /**\n   * Callback when the bell is clicked.\n   */\n  onClick?: () => void;\n  /**\n   * Callback when the bell rings (on mount if has notifications).\n   */\n  onRing?: () => void;\n  /**\n   * Custom icon to replace the bell.\n   */\n  icon?: React.ReactNode;\n  /**\n   * Size variant.\n   * Default: 'md'\n   */\n  size?: \"sm\" | \"md\" | \"lg\";\n  className?: string;\n}\n\nconst sizeClasses = {\n  sm: \"h-8 w-8\",\n  md: \"h-10 w-10\",\n  lg: \"h-12 w-12\",\n};\n\nconst iconSizeClasses = {\n  sm: \"h-4 w-4\",\n  md: \"h-5 w-5\",\n  lg: \"h-6 w-6\",\n};\n\nconst badgeSizeClasses = {\n  sm: \"h-4 w-4 text-[10px]\",\n  md: \"h-5 w-5 text-xs\",\n  lg: \"h-6 w-6 text-sm\",\n};\n\nconst ringVariants: Variants = {\n  idle: { rotate: 0 },\n  ringing: {\n    rotate: [0, -15, 15, -10, 10, -5, 5, 0],\n    transition: {\n      duration: 0.6,\n      ease: \"easeInOut\",\n    },\n  },\n};\n\nexport function NativeNotificationBell({\n  count = 0,\n  showBadge,\n  onClick,\n  onRing,\n  icon,\n  size = \"md\",\n  className,\n}: NativeNotificationBellProps) {\n  const shouldReduceMotion = useReducedMotion();\n  const [isRinging, setIsRinging] = useState(false);\n  const hasNotifications = count > 0 || showBadge;\n\n  useEffect(() => {\n    if (hasNotifications && !shouldReduceMotion) {\n      setIsRinging(true);\n      const timer = setTimeout(() => setIsRinging(false), 600);\n      onRing?.();\n      return () => clearTimeout(timer);\n    }\n  }, [hasNotifications, shouldReduceMotion, onRing]);\n\n  const displayCount = count > 99 ? \"99+\" : count > 9 ? \"9+\" : count;\n\n  return (\n    <div className=\"relative inline-block\">\n      <motion.button\n        variants={ringVariants}\n        animate={isRinging ? \"ringing\" : \"idle\"}\n        whileHover={shouldReduceMotion ? undefined : { scale: 1.1 }}\n        whileTap={shouldReduceMotion ? undefined : { scale: 0.9 }}\n        onClick={onClick}\n        className={cn(\n          \"relative flex items-center justify-center rounded-full border border-border bg-card transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n          sizeClasses[size],\n          className\n        )}\n        aria-label={`Notifications${count > 0 ? `, ${count} unread` : \"\"}`}\n      >\n        {icon ?? <Bell className={iconSizeClasses[size]} />}\n        {hasNotifications && (\n          <motion.span\n            initial={shouldReduceMotion ? { scale: 1 } : { scale: 0 }}\n            animate={{ scale: 1 }}\n            className={cn(\n              \"absolute -right-1 -top-1 flex items-center justify-center rounded-full bg-destructive font-bold text-destructive-foreground\",\n              badgeSizeClasses[size]\n            )}\n          >\n            {count > 0 ? displayCount : \"\"}\n          </motion.span>\n        )}\n      </motion.button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAiCA,IAAM,EAAc,CAClB,GAAI,UACJ,GAAI,YACJ,GAAI,WACN,EAEM,EAAkB,CACtB,GAAI,UACJ,GAAI,UACJ,GAAI,SACN,EAEM,EAAmB,CACvB,GAAI,sBACJ,GAAI,kBACJ,GAAI,iBACN,EAEM,EAAyB,CAC7B,KAAM,CAAE,OAAQ,CAAE,EAClB,QAAS,CACP,OAAQ,CAAC,EAAG,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,EAAG,EAAG,EAAE,CACvC,WAAY,CACV,SAAU,GACV,KAAM,WACR,CACF,CACF,EAEO,SAAS,EAAuB,OACrC,EAAQ,CAAC,WACT,CAAS,SACT,CAAO,QACP,CAAM,CACN,MAAI,CACJ,OAAO,IAAI,WACX,CAAS,CACmB,EAC5B,IAAM,EAAqB,CAAA,EAAA,EAAA,gBAAA,AAAgB,IACrC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,EAAmB,EAAQ,GAAK,QAEtC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,GAAoB,CAAC,EAAoB,CAC3C,EAAa,IACb,IAAM,EAAQ,WAAW,IAAM,GAAa,GAAQ,KAEpD,OADA,MACO,IAAM,aAAa,EAC5B,CACF,EAAG,CAAC,EAAkB,EAAoB,EAAO,EAK/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACZ,SAAU,EACV,QAAS,EAAY,UAAY,OACjC,WAAY,EAAqB,OAAY,CAAE,MAAO,GAAI,EAC1D,SAAU,OAAqB,EAAY,CAAE,MAAO,EAAI,EACxD,QAAS,EACT,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,2LACA,CAAW,CAAC,EAAK,CACjB,GAEF,aAAY,CAAC,aAAa,EAAE,EAAQ,EAAI,CAAC,EAAE,EAAE,EAAM,OAAO,CAAC,CAAG,GAAA,CAAI,WAEjE,GAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAW,CAAe,CAAC,EAAK,GAC9C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,IAAI,CAAA,CACV,QAAS,EAAqB,CAAE,MAAO,CAAE,EAAI,CAAE,MAAO,CAAE,EACxD,QAAS,CAAE,MAAO,CAAE,EACpB,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,8HACA,CAAgB,CAAC,EAAK,WAGvB,EAAQ,EA3BE,EAAQ,AA2BN,GA3BW,MAAQ,EAAQ,EAAI,KAAO,EA2BvB,SAMxC"}