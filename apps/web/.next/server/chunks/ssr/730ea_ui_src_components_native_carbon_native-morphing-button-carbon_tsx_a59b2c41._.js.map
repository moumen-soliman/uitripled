{"version":3,"sources":["../../../../../../packages/ui/src/components/native/carbon/native-morphing-button-carbon.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport {\n  AnimatePresence,\n  LayoutGroup,\n  motion,\n  Transition,\n  useReducedMotion,\n} from \"framer-motion\";\nimport { Plus, X } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport interface MorphingButtonAction {\n  /**\n   * Display label for the action.\n   */\n  label: string;\n  /**\n   * Icon to display alongside the label.\n   */\n  icon: React.ReactNode;\n  /**\n   * Callback when action is clicked.\n   */\n  onClick: () => void;\n}\n\nexport interface NativeMorphingButtonProps {\n  /**\n   * Array of actions to display in the expanded menu.\n   */\n  actions: MorphingButtonAction[];\n  /**\n   * Position of the FAB.\n   * Default: 'bottom-right'\n   */\n  position?: \"bottom-right\" | \"bottom-left\" | \"top-right\" | \"top-left\";\n  /**\n   * Whether to use fixed positioning.\n   * Default: false (relative to container)\n   */\n  fixed?: boolean;\n  /**\n   * Custom icon when collapsed.\n   */\n  icon?: React.ReactNode;\n  /**\n   * Custom close icon when expanded.\n   */\n  closeIcon?: React.ReactNode;\n  className?: string;\n}\n\nconst positionClasses = {\n  \"bottom-right\": \"bottom-4 right-4\",\n  \"bottom-left\": \"bottom-4 left-4\",\n  \"top-right\": \"top-4 right-4\",\n  \"top-left\": \"top-4 left-4\",\n};\n\nconst springTransition: Transition = {\n  type: \"spring\",\n  stiffness: 300,\n  damping: 30,\n};\nconst reducedTransition: Transition = { duration: 0.1 };\n\nexport function NativeMorphingButton({\n  actions,\n  position = \"bottom-right\",\n  fixed = false,\n  icon,\n  closeIcon,\n  className,\n}: NativeMorphingButtonProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const shouldReduceMotion = useReducedMotion();\n\n  const transition = shouldReduceMotion ? reducedTransition : springTransition;\n\n  return (\n    <div\n      className={cn(\n        fixed ? \"fixed\" : \"absolute\",\n        positionClasses[position],\n        \"z-50\",\n        className\n      )}\n    >\n      <LayoutGroup>\n        <motion.div\n          layout\n          className=\"relative\"\n          initial={false}\n          animate={{\n            width: isExpanded ? 280 : 56,\n            height: isExpanded ? \"auto\" : 56,\n            borderRadius: isExpanded ? 16 : 28,\n          }}\n          transition={transition}\n        >\n          {/* Main FAB Button */}\n          <motion.button\n            onClick={() => setIsExpanded(!isExpanded)}\n            className=\"absolute right-0 bottom-0 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg transition-shadow hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n            whileHover={shouldReduceMotion ? undefined : { scale: 1.05 }}\n            whileTap={shouldReduceMotion ? undefined : { scale: 0.95 }}\n            aria-label={isExpanded ? \"Close menu\" : \"Open menu\"}\n            aria-expanded={isExpanded}\n          >\n            <AnimatePresence mode=\"wait\">\n              {isExpanded ? (\n                <motion.div\n                  key=\"close\"\n                  initial={\n                    shouldReduceMotion ? false : { rotate: -90, opacity: 0 }\n                  }\n                  animate={{ rotate: 0, opacity: 1 }}\n                  exit={{ rotate: 90, opacity: 0 }}\n                  transition={{ duration: 0.2 }}\n                >\n                  {closeIcon ?? <X className=\"h-5 w-5\" />}\n                </motion.div>\n              ) : (\n                <motion.div\n                  key=\"open\"\n                  initial={\n                    shouldReduceMotion ? false : { rotate: 90, opacity: 0 }\n                  }\n                  animate={{ rotate: 0, opacity: 1 }}\n                  exit={{ rotate: -90, opacity: 0 }}\n                  transition={{ duration: 0.2 }}\n                >\n                  {icon ?? <Plus className=\"h-5 w-5\" />}\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.button>\n\n          {/* Expanded Menu */}\n          <AnimatePresence>\n            {isExpanded && (\n              <motion.div\n                initial={\n                  shouldReduceMotion\n                    ? { opacity: 0 }\n                    : { opacity: 0, scale: 0.8 }\n                }\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.8 }}\n                transition={{ duration: 0.2, delay: 0.1 }}\n                className=\"absolute bottom-0 right-0 w-64 rounded-2xl border border-border bg-card p-4 shadow-2xl\"\n                role=\"menu\"\n              >\n                <div className=\"mb-2 space-y-2\">\n                  {actions.map((action, index) => (\n                    <motion.button\n                      key={action.label}\n                      initial={\n                        shouldReduceMotion ? false : { opacity: 0, x: -20 }\n                      }\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: index * 0.05 + 0.2 }}\n                      onClick={() => {\n                        action.onClick();\n                        setIsExpanded(false);\n                      }}\n                      className=\"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-left text-sm transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring\"\n                      role=\"menuitem\"\n                    >\n                      <span className=\"text-muted-foreground\">\n                        {action.icon}\n                      </span>\n                      <span className=\"font-medium\">{action.label}</span>\n                    </motion.button>\n                  ))}\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </motion.div>\n      </LayoutGroup>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}