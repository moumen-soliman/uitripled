{"version":3,"sources":["../../../../../../packages/ui/src/components/native/base-ui/native-liquid-button-baseui.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Loader2 } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport { NativeButton, type NativeButtonProps } from \"./native-button-baseui\";\n\nexport interface NativeLiquidButtonProps\n  extends Omit<NativeButtonProps, \"onClick\" | \"loading\"> {\n  /**\n   * Progress value (0-100)\n   */\n  progress?: number;\n  /**\n   * Loading state\n   */\n  loading?: boolean;\n  /**\n   * Callback when button is clicked\n   */\n  onClick?: () => void | Promise<void>;\n  /**\n   * Visual variant\n   * Default: \"default\"\n   */\n  liquidVariant?: \"default\" | \"gradient\" | \"glow\" | \"wave\";\n  /**\n   * Liquid color\n   */\n  liquidColor?: string;\n  /**\n   * Show percentage text\n   * Default: false\n   */\n  showPercentage?: boolean;\n  /**\n  /**\n   * Auto-simulate loading (for demo purposes)\n   */\n  autoSimulate?: boolean;\n  /**\n   * Success state\n   */\n  success?: boolean;\n  /**\n   * Error state\n   */\n  error?: boolean;\n}\n\nconst sizeVariants = {\n  sm: \"h-9 px-4 text-sm min-w-[100px]\",\n  default: \"h-11 px-6 text-base min-w-[140px]\",\n  lg: \"h-14 px-8 text-lg min-w-[180px]\",\n  icon: \"h-11 px-6 text-base min-w-[140px]\",\n};\n\nexport function NativeLiquidButton({\n  children,\n  className,\n  variant = \"default\",\n  size = \"default\",\n  progress = 0,\n  loading = false,\n  onClick,\n  disabled,\n  liquidVariant = \"default\",\n  liquidColor,\n  showPercentage = false,\n  autoSimulate = false,\n  success = false,\n  error = false,\n  ...props\n}: NativeLiquidButtonProps) {\n  const [internalProgress, setInternalProgress] = useState(progress);\n  const [isSimulating, setIsSimulating] = useState(false);\n\n  useEffect(() => {\n    setInternalProgress(progress);\n  }, [progress]);\n\n  useEffect(() => {\n    if (autoSimulate && isSimulating) {\n      const interval = setInterval(() => {\n        setInternalProgress((prev) => {\n          if (prev >= 100) {\n            clearInterval(interval);\n            setIsSimulating(false);\n            return 100;\n          }\n          return prev + Math.random() * 10;\n        });\n      }, 200);\n      return () => clearInterval(interval);\n    }\n  }, [autoSimulate, isSimulating]);\n\n  const handleClick = async () => {\n    if (disabled || loading) return;\n\n    if (autoSimulate) {\n      setIsSimulating(true);\n      setInternalProgress(0);\n    }\n\n    if (onClick) {\n      await onClick();\n    }\n  };\n\n  const getLiquidColor = () => {\n    if (success) return \"bg-green-500\";\n    if (error) return \"bg-red-500\";\n    if (liquidColor) return liquidColor;\n\n    switch (liquidVariant) {\n      case \"gradient\":\n        return \"bg-gradient-to-r from-primary via-primary/80 to-primary\";\n      case \"glow\":\n        return \"bg-primary\";\n      default:\n        return \"bg-primary\";\n    }\n  };\n\n  const clampedProgress = Math.min(Math.max(internalProgress, 0), 100);\n\n  return (\n    <div className=\"relative inline-block\">\n      <NativeButton\n        variant={variant}\n        size={size}\n        loading={false}\n        disabled={disabled || loading}\n        onClick={handleClick}\n        className={cn(\n          sizeVariants[size || \"default\"],\n          \"relative overflow-hidden font-semibold transition-all duration-300\",\n          \"before:absolute before:inset-0 before:bg-background/20 before:pointer-events-none before:rounded-md\",\n          liquidVariant === \"glow\" &&\n            !disabled &&\n            \"shadow-lg shadow-primary/30\",\n          className\n        )}\n        {...props}\n      >\n        {/* Liquid fill effect */}\n        <motion.div\n          className={cn(\"absolute inset-0 origin-left\", getLiquidColor())}\n          initial={{ scaleX: 0 }}\n          animate={{ scaleX: clampedProgress / 100 }}\n          transition={{\n            type: \"spring\",\n            stiffness: 100,\n            damping: 20,\n          }}\n        >\n          {/* Bubble effects */}\n          {liquidVariant === \"default\" && clampedProgress > 0 && (\n            <>\n              {[...Array(3)].map((_, i) => (\n                <motion.div\n                  key={i}\n                  className=\"absolute bottom-0 w-2 h-2 bg-white/30 rounded-md\"\n                  style={{\n                    left: `${20 + i * 25}%`,\n                  }}\n                  animate={{\n                    y: [-10, -50, -10],\n                    opacity: [0, 1, 0],\n                    scale: [0.5, 1, 0.5],\n                  }}\n                  transition={{\n                    duration: 2,\n                    repeat: Number.POSITIVE_INFINITY,\n                    delay: i * 0.4,\n                    ease: \"easeInOut\",\n                  }}\n                />\n              ))}\n            </>\n          )}\n\n          {/* Shimmer effect for gradient */}\n          {liquidVariant === \"gradient\" && clampedProgress > 0 && (\n            <motion.div\n              className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n              animate={{\n                x: [\"-100%\", \"200%\"],\n              }}\n              transition={{\n                duration: 1.5,\n                repeat: Number.POSITIVE_INFINITY,\n                ease: \"linear\",\n              }}\n            />\n          )}\n        </motion.div>\n\n        {/* Button content */}\n        <span className=\"relative z-10 flex items-center justify-center gap-2\">\n          <AnimatePresence mode=\"wait\">\n            {loading && (\n              <motion.div\n                key=\"loading\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n              >\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          <motion.span\n            animate={loading ? { opacity: [1, 0.5, 1] } : { opacity: 1 }}\n            transition={\n              loading\n                ? {\n                    duration: 1.5,\n                    repeat: Number.POSITIVE_INFINITY,\n                    ease: \"easeInOut\",\n                  }\n                : { duration: 0.2 }\n            }\n          >\n            {children}\n          </motion.span>\n\n          {showPercentage && (\n            <motion.span\n              key={clampedProgress}\n              initial={{ scale: 1.2, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              className=\"text-xs font-mono\"\n            >\n              {Math.round(clampedProgress)}%\n            </motion.span>\n          )}\n        </span>\n\n        {/* Glow effect */}\n        {liquidVariant === \"glow\" && !disabled && clampedProgress > 0 && (\n          <motion.div\n            className=\"absolute inset-0 bg-primary/20 blur-xl\"\n            animate={{\n              opacity: [0.3, 0.6, 0.3],\n            }}\n            transition={{\n              duration: 2,\n              repeat: Number.POSITIVE_INFINITY,\n              ease: \"easeInOut\",\n            }}\n          />\n        )}\n      </NativeButton>\n    </div>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QA6CA,IAAM,EAAe,CACnB,GAAI,iCACJ,QAAS,oCACT,GAAI,kCACJ,KAAM,mCACR,EAEO,SAAS,EAAmB,UACjC,CAAQ,WACR,CAAS,SACT,EAAU,SAAS,MACnB,EAAO,SAAS,UAChB,EAAW,CAAC,SACZ,GAAU,CAAK,SACf,CAAO,UACP,CAAQ,eACR,EAAgB,SAAS,aACzB,CAAW,gBACX,GAAiB,CAAK,cACtB,GAAe,CAAK,SACpB,GAAU,CAAK,OACf,GAAQ,CAAK,CACb,GAAG,EACqB,EACxB,GAAM,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAoB,EACtB,EAAG,CAAC,EAAS,EAEb,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,GAAgB,EAAc,CAChC,IAAM,EAAW,YAAY,KAC3B,EAAoB,AAAC,GACnB,AAAI,GAAQ,KAAK,AACf,cAAc,GACd,GAAgB,GACT,KAEF,EAAuB,GAAhB,KAAK,MAAM,GAE7B,EAAG,KACH,MAAO,IAAM,cAAc,EAC7B,CACF,EAAG,CAAC,EAAc,EAAa,EAE/B,IAAM,EAAc,UACd,GAAY,IAEZ,IACF,CAHuB,EAGP,GAChB,EAAoB,EAFJ,EAKd,GACF,MAAM,AADK,IAGf,EAiBM,EAAkB,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,EAAkB,GAAI,KAEhE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,CACX,QAAS,EACT,KAAM,EACN,SAAS,EACT,SAAU,GAAY,EACtB,QAAS,EACT,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,CAAY,CAAC,GAAQ,UAAU,CAC/B,qEACA,sGACkB,SAAlB,GACE,CAAC,GACD,8BACF,GAED,GAAG,CAAK,WAGT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,+BArChB,AAAJ,CAqCoD,CArChC,OAAP,QACT,EAAc,KAAP,QACP,IAGG,SAHU,IAET,EAEG,CAJa,yDAMb,eA8BL,QAAS,CAAE,OAAQ,CAAE,EACrB,QAAS,CAAE,OAAQ,EAAkB,GAAI,EACzC,WAAY,CACV,KAAM,SACN,UAAW,IACX,QAAS,EACX,YAGmB,YAAlB,GAA+B,EAAkB,GAChD,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UACG,sBAAa,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,UAAU,mDACV,MAAO,CACL,KAAM,CAAA,EAAG,GAAS,AAAJ,KAAO,CAAC,CAAC,AACzB,EACA,QAAS,CACP,EAAG,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,GAAG,CAClB,QAAS,CAAC,EAAG,EAAG,EAAE,CAClB,MAAO,CAAC,GAAK,EAAG,GAAI,AACtB,EACA,WAAY,CACV,SAAU,EACV,OAAQ,IACR,GADe,GACJ,GAAJ,EACP,KAAM,IAF0B,OAGlC,GAfK,MAsBM,aAAlB,GAAgC,EAAkB,GACjD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,iFACV,QAAS,CACP,EAAG,CAAC,QAAS,OAAO,AACtB,EACA,WAAY,CACV,SAAU,IACV,OAAQ,IACR,GADe,EACT,QACR,OAMN,AARwC,CAQxC,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iEACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,KAAK,gBACnB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,QAAS,CAAE,QAAS,CAAE,EACtB,QAAS,CAAE,QAAS,CAAE,EACtB,KAAM,CAAE,QAAS,CAAE,WAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,0BALf,aAUV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,IAAI,CAAA,CACV,QAAS,EAAU,CAAE,QAAS,CAAC,EAAG,GAAK,EAAE,AAAC,EAAI,CAAE,QAAS,CAAE,EAC3D,WACE,EACI,CACE,SAAU,IACV,OAAQ,IACR,GADe,EACT,WACR,EACA,CAAE,CAHgC,QAGtB,EAAI,WAGrB,IAGF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,IAAI,CAAA,CAEV,QAAS,CAAE,MAAO,IAAK,QAAS,CAAE,EAClC,QAAS,CAAE,MAAO,EAAG,QAAS,CAAE,EAChC,UAAU,8BAET,KAAK,KAAK,CAAC,GAAiB,MALxB,MAWQ,SAAlB,GAA4B,CAAC,GAAY,EAAkB,GAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,UAAU,yCACV,QAAS,CACP,QAAS,CAAC,GAAK,GAAK,GAAI,AAC1B,EACA,WAAY,CACV,SAAU,EACV,OAAQ,IACR,GADe,EACT,WACR,IAFkC,IAQ9C"}