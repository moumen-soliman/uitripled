{"version":3,"sources":["../../../../../../packages/ui/src/components/native/shadcn-ui/native-counter-up-shadcnui.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@uitripled/ui/lib/utils\";\nimport { animate, motion, useReducedMotion } from \"framer-motion\";\nimport { useEffect, useState } from \"react\";\n\nexport interface NativeCounterUpProps {\n  /**\n   * The target number to count up to.\n   */\n  value: number;\n  /**\n   * Duration of the animation in seconds.\n   * Default: 2\n   */\n  duration?: number;\n  /**\n   * Text to display before the number (e.g., \"$\").\n   */\n  prefix?: string;\n  /**\n   * Text to display after the number (e.g., \"+\", \"%\").\n   */\n  suffix?: string;\n  /**\n   * Number of decimal places to show.\n   * Default: 0\n   */\n  decimals?: number;\n  /**\n   * Accessible label describing what the counter represents.\n   */\n  label?: string;\n  /**\n   * Whether to start the animation on mount.\n   * Default: true\n   */\n  autoStart?: boolean;\n  className?: string;\n}\n\nexport function NativeCounterUp({\n  value,\n  duration = 2,\n  prefix = \"\",\n  suffix = \"\",\n  decimals = 0,\n  label,\n  autoStart = true,\n  className,\n}: NativeCounterUpProps) {\n  const shouldReduceMotion = useReducedMotion();\n  const [displayValue, setDisplayValue] = useState(0);\n\n  useEffect(() => {\n    if (!autoStart) return;\n\n    // If reduced motion, just set the value immediately\n    if (shouldReduceMotion) {\n      setDisplayValue(value);\n      return;\n    }\n\n    // Animate from current value to target value\n    const controls = animate(0, value, {\n      duration,\n      ease: [0.16, 1, 0.3, 1], // Smooth expo-out easing\n      onUpdate: (latest) => {\n        setDisplayValue(\n          decimals > 0 ? Number(latest.toFixed(decimals)) : Math.round(latest)\n        );\n      },\n    });\n\n    return () => controls.stop();\n  }, [value, duration, autoStart, shouldReduceMotion, decimals]);\n\n  const formattedValue = displayValue.toLocaleString(undefined, {\n    minimumFractionDigits: decimals,\n    maximumFractionDigits: decimals,\n  });\n\n  return (\n    <motion.span\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n      className={cn(\"tabular-nums font-bold\", className)}\n      role=\"status\"\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n    >\n      {prefix}\n      {formattedValue}\n      {suffix}\n      {label && <span className=\"sr-only\">{label}</span>}\n    </motion.span>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAqCO,SAAS,EAAgB,OAC9B,CAAK,CACL,WAAW,CAAC,QACZ,EAAS,EAAE,QACX,EAAS,EAAE,UACX,EAAW,CAAC,OACZ,CAAK,WACL,EAAY,EAAI,WAChB,CAAS,CACY,EACrB,IAAM,EAAqB,CAAA,EAAA,EAAA,gBAAA,AAAgB,IACrC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEjD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAW,OAGhB,GAAI,EAAoB,YACtB,EAAgB,GAKlB,IAAM,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,EAAG,EAAO,UACjC,EACA,KAAM,CAAC,IAAM,EAAG,GAAK,EAAE,CACvB,SAAU,AAAC,IACT,EACE,EAAW,EAAI,OAAO,EAAO,OAAO,CAAC,IAAa,KAAK,KAAK,CAAC,GAEjE,CACF,GAEA,MAAO,IAAM,EAAS,IAAI,EAC5B,EAAG,CAAC,EAAO,EAAU,EAAW,EAAoB,EAAS,EAE7D,IAAM,EAAiB,EAAa,cAAc,MAAC,EAAW,CAC5D,sBAAuB,EACvB,sBAAuB,CACzB,GAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,IAAI,CAAA,CACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,KAAM,SAAU,UAAW,IAAK,QAAS,EAAG,EAC1D,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,yBAA0B,GACxC,KAAK,SACL,YAAU,SACV,cAAY,iBAEX,EACA,EACA,EACA,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAW,MAG3C"}